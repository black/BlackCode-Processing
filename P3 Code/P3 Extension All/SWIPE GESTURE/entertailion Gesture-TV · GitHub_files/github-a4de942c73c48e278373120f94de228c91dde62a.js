function FastClick(a){"use strict";var b,c=this;this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.layer=a;if(!a||!a.nodeType)throw new TypeError("Layer must be a document node");this.onClick=function(){return FastClick.prototype.onClick.apply(c,arguments)},this.onMouse=function(){return FastClick.prototype.onMouse.apply(c,arguments)},this.onTouchStart=function(){return FastClick.prototype.onTouchStart.apply(c,arguments)},this.onTouchEnd=function(){return FastClick.prototype.onTouchEnd.apply(c,arguments)},this.onTouchCancel=function(){return FastClick.prototype.onTouchCancel.apply(c,arguments)};if(FastClick.notNeeded(a))return;this.deviceIsAndroid&&(a.addEventListener("mouseover",this.onMouse,!0),a.addEventListener("mousedown",this.onMouse,!0),a.addEventListener("mouseup",this.onMouse,!0)),a.addEventListener("click",this.onClick,!0),a.addEventListener("touchstart",this.onTouchStart,!1),a.addEventListener("touchend",this.onTouchEnd,!1),a.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(a.removeEventListener=function(b,c,d){var e=Node.prototype.removeEventListener;b==="click"?e.call(a,b,c.hijacked||c,d):e.call(a,b,c,d)},a.addEventListener=function(b,c,d){var e=Node.prototype.addEventListener;b==="click"?e.call(a,b,c.hijacked||(c.hijacked=function(a){a.propagationStopped||c(a)}),d):e.call(a,b,c,d)}),typeof a.onclick=="function"&&(b=a.onclick,a.addEventListener("click",function(a){b(a)},!1),a.onclick=null)}function defineNetwork(a){var b=function(a,b,c){this.container=a,this.width=b,this.height=c,this.loaderInterval=null,this.loaderOffset=0,this.ctx=this.initCanvas(a,b,c),this.startLoader("Loading graph data"),this.loadMeta()};return b.prototype={initCanvas:function(b,c,d){var e=a(b).find("canvas")[0];e.style.zIndex="0";var f=e.width,g=e.height,h=e.getContext("2d"),i=window.devicePixelRatio||1,j=h.webkitBackingStorePixelRatio||h.mozBackingStorePixelRatio||h.msBackingStorePixelRatio||h.oBackingStorePixelRatio||h.backingStorePixelRatio||1,k=i/j;return k===1?h:(e.width=f*k,e.height=g*k,e.style.width=f+"px",e.style.height=g+"px",h.scale(k,k),h)},startLoader:function(a){this.ctx.save(),this.ctx.font="14px Monaco, monospace",this.ctx.fillStyle="#cacaca",this.ctx.textAlign="center",this.ctx.fillText(a,this.width/2,155),this.ctx.restore();var b=this;this.displayLoader()},stopLoader:function(){a(".large-loading-area").hide()},displayLoader:function(){a(".large-loading-area").show()},loadMeta:function(){var b=this;b.loaded=!1,a.smartPoller(function(c){a.ajax({url:"network_meta",success:function(d){d&&d.nethash?(b.loaded=!0,a(".js-network-poll").hide(),a(".js-network-current").show(),b.init(d)):c()}})})},init:function(a){this.focus=a.focus,this.nethash=a.nethash,this.spaceMap=a.spacemap,this.userBlocks=a.blocks,this.commits=[];for(var c=0;c<a.dates.length;c++)this.commits.push(new b.Commit(c,a.dates[c]));this.users={};for(var c=0;c<a.users.length;c++){var d=a.users[c];this.users[d.name]=d}this.chrome=new b.Chrome(this,this.ctx,this.width,this.height,this.focus,this.commits,this.userBlocks,this.users),this.graph=new b.Graph(this,this.ctx,this.width,this.height,this.focus,this.commits,this.users,this.spaceMap,this.userBlocks,this.nethash),this.mouseDriver=new b.MouseDriver(this.container,this.chrome,this.graph),this.keyDriver=new b.KeyDriver(this.container,this.chrome,this.graph),this.stopLoader(),this.graph.drawBackground(),this.chrome.draw(),this.graph.requestInitialChunk()},initError:function(){this.stopLoader(),this.ctx.clearRect(0,0,this.width,this.height),this.startLoader("Graph could not be drawn due to a network IO problem.")}},b.Commit=function(a,b){this.time=a,this.date=moment(b,"YYYY-MM-DD HH:mm:ss"),this.requested=null,this.populated=null},b.Commit.prototype={populate:function(a,b,c){this.user=b,this.author=a.author,this.date=moment(a.date,"YYYY-MM-DD HH:mm:ss"),this.gravatar=a.gravatar,this.id=a.id,this.login=a.login,this.message=a.message,this.space=a.space,this.time=a.time,this.parents=this.populateParents(a.parents,c),this.requested=!0,this.populated=new Date},populateParents:function(a,b){var c=[];for(var d=0;d<a.length;d++){var e=a[d],f=b[e[1]];f.id=e[0],f.space=e[2],c.push(f)}return c}},b.Chrome=function(a,b,c,d,e,f,g,h){this.namesWidth=100,this.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.userBgColors=["#EBEBFF","#E0E0FF"],this.network=a,this.ctx=b,this.width=c,this.height=d,this.commits=f,this.userBlocks=g,this.users=h,this.offsetX=this.namesWidth+(c-this.namesWidth)/2-e*20,this.offsetY=0,this.contentHeight=this.calcContentHeight(),this.graphMidpoint=this.namesWidth+(c-this.namesWidth)/2,this.activeUser=null},b.Chrome.prototype={moveX:function(a){this.offsetX+=a,this.offsetX>this.graphMidpoint?this.offsetX=this.graphMidpoint:this.offsetX<this.graphMidpoint-this.commits.length*20&&(this.offsetX=this.graphMidpoint-this.commits.length*20)},moveY:function(a){this.offsetY+=a,this.offsetY>0||this.contentHeight<this.height-40?this.offsetY=0:this.offsetY<-this.contentHeight+this.height/2&&(this.offsetY=-this.contentHeight+this.height/2)},calcContentHeight:function(){var a=0;for(var b=0;b<this.userBlocks.length;b++){var c=this.userBlocks[b];a+=c.count}return a*20},hover:function(a,b){for(var c=0;c<this.userBlocks.length;c++){var d=this.userBlocks[c];if(a>0&&a<this.namesWidth&&b>40+this.offsetY+d.start*20&&b<40+this.offsetY+(d.start+d.count)*20)return this.users[d.name]}return null},draw:function(){this.drawTimeline(this.ctx),this.drawUsers(this.ctx),this.drawFooter(this.ctx)},drawTimeline:function(a){a.fillStyle="#111111",a.fillRect(0,0,this.width,20),a.fillStyle="#333333",a.fillRect(0,20,this.width,20);var b=parseInt((0-this.offsetX)/20);b<0&&(b=0);var c=b+parseInt(this.width/20);c>this.commits.length&&(c=this.commits.length),a.save(),a.translate(this.offsetX,0),a.font="10px Helvetica, sans-serif";var d=null,e=null;for(var f=b;f<c;f++){var g=this.commits[f],h=this.months[g.date.month()];h!=d&&(a.fillStyle="#ffffff",a.fillText(h,f*20-3,14),d=h);var i=parseInt(g.date.date());i!=e&&(a.fillStyle="#ffffff",a.fillText(i,f*20-3,33),e=i)}a.restore()},drawUsers:function(a){a.fillStyle="#FFFFFF",a.fillRect(0,0,this.namesWidth,this.height),a.save(),a.translate(0,40+this.offsetY);for(var b=0;b<this.userBlocks.length;b++){var c=this.userBlocks[b];a.fillStyle=this.userBgColors[b%2],a.fillRect(0,c.start*20,this.namesWidth,c.count*20),this.activeUser&&this.activeUser.name==c.name&&(a.fillStyle="rgba(0, 0, 0, 0.05)",a.fillRect(0,c.start*20,this.namesWidth,c.count*20)),a.fillStyle="#DDDDDD",a.fillRect(0,c.start*20,1,c.count*20),a.fillRect(this.namesWidth-1,c.start*20,1,c.count*20),a.fillRect(this.width-1,c.start*20,1,c.count*20),a.fillRect(0,(c.start+c.count)*20-1,this.namesWidth,1);var d=a.measureText(c.name).width,e=(c.start+c.count/2)*20+3;a.fillStyle="#000000",a.font="12px Monaco, monospace",a.textAlign="center",a.fillText(c.name,this.namesWidth/2,e,96)}a.restore(),a.fillStyle="#111111",a.fillRect(0,0,this.namesWidth,20),a.fillStyle="#333333",a.fillRect(0,20,this.namesWidth,20)},drawFooter:function(a){a.fillStyle="#F4F4F4",a.fillRect(0,this.height-20,this.width,20),a.fillStyle="#CCCCCC",a.fillRect(0,this.height-20,this.width,1),a.fillStyle="#000000",a.font="11px Monaco, monospace",a.fillText("GitHub Network Graph Viewer v4.0.0",5,this.height-5)}},b.Graph=function(a,b,c,d,e,f,g,h,i,j){this.namesWidth=100,this.spaceColors=[],this.bgColors=["#F5F5FF","#F0F0FF"],this.spaceColors.push("#FF0000"),this.spaceColors.push("#0000FF"),this.spaceColors.push("#00FF00"),this.spaceColors.push("#FF00FF"),this.spaceColors.push("#E2EB00"),this.spaceColors.push("#FFA600"),this.spaceColors.push("#00FFFC"),this.spaceColors.push("#DD458E"),this.spaceColors.push("#AD7331"),this.spaceColors.push("#97AD31"),this.spaceColors.push("#51829D"),this.spaceColors.push("#70387F"),this.spaceColors.push("#740000"),this.spaceColors.push("#745C00"),this.spaceColors.push("#419411"),this.spaceColors.push("#37BE8C"),this.spaceColors.push("#6C5BBD"),this.spaceColors.push("#F300AA"),this.spaceColors.push("#586D41"),this.spaceColors.push("#3B4E31"),this.network=a,this.ctx=b,this.width=c,this.height=d,this.focus=e,this.commits=f,this.users=g,this.spaceMap=h,this.userBlocks=i,this.nethash=j,this.offsetX=this.namesWidth+(c-this.namesWidth)/2-e*20,this.offsetY=0,this.bgCycle=0,this.marginMap={},this.gravatars={},this.activeCommit=null,this.contentHeight=this.calcContentHeight(),this.graphMidpoint=this.namesWidth+(c-this.namesWidth)/2,this.showRefs=!0,this.lastHotLoadCenterIndex=null,this.connectionMap={},this.spaceUserMap={};for(var k=0;k<i.length;k++){var l=i[k];for(var m=l.start;m<l.start+l.count;m++)this.spaceUserMap[m]=g[l.name]}this.headsMap={};for(var k=0;k<i.length;k++){var l=i[k],n=g[l.name];for(var m=0;m<n.heads.length;m++){var o=n.heads[m];this.headsMap[o.id]||(this.headsMap[o.id]=[]);var p={name:n.name,head:o};this.headsMap[o.id].push(p)}}},b.Graph.prototype={moveX:function(a){this.offsetX+=a,this.offsetX>this.graphMidpoint?this.offsetX=this.graphMidpoint:this.offsetX<this.graphMidpoint-this.commits.length*20&&(this.offsetX=this.graphMidpoint-this.commits.length*20),this.hotLoadCommits()},moveY:function(a){this.offsetY+=a,this.offsetY>0||this.contentHeight<this.height-40?this.offsetY=0:this.offsetY<-this.contentHeight+this.height/2&&(this.offsetY=-this.contentHeight+this.height/2)},toggleRefs:function(){this.showRefs=!this.showRefs},calcContentHeight:function(){var a=0;for(var b=0;b<this.userBlocks.length;b++){var c=this.userBlocks[b];a+=c.count}return a*20},hover:function(a,b){var c=this.timeWindow();for(var d=c.min;d<=c.max;d++){var e=this.commits[d],f=this.offsetX+e.time*20,g=this.offsetY+50+e.space*20;if(a>f-5&&a<f+5&&b>g-5&&b<g+5)return e}return null},hotLoadCommits:function(){var a=200,b=parseInt((-this.offsetX+this.graphMidpoint)/20);b<0&&(b=0),b>this.commits.length-1&&(b=this.commits.length-1);if(this.lastHotLoadCenterIndex&&Math.abs(this.lastHotLoadCenterIndex-b)<10)return;this.lastHotLoadCenterIndex=b;var c=this.backSpan(b,a),d=this.frontSpan(b,a);if(c||d){var e=c?c[0]:d[0],f=d?d[1]:c[1];this.requestChunk(e,f)}},backSpan:function(a,b){var c=null;for(var d=a;d>=0&&d>a-b;d--)if(!this.commits[d].requested){c=d;break}if(c!=null){var e=null,f=null;for(var d=c;d>=0&&d>c-b;d--)if(this.commits[d].requested){e=d;break}return e?f=e+1:(f=c-b,f<0&&(f=0)),[f,c]}return null},frontSpan:function(a,b){var c=null;for(var d=a;d<this.commits.length&&d<a+b;d++)if(!this.commits[d].requested){c=d;break}if(c!=null){var e=null,f=null;for(var d=c;d<this.commits.length&&d<c+b;d++)if(this.commits[d].requested){e=d;break}return e?f=e-1:c+b>=this.commits.length?f=this.commits.length-1:f=c+b,[c,f]}return null},requestInitialChunk:function(){var b=this;a.getJSON("network_data_chunk?nethash="+this.nethash,function(a){b.importChunk(a),b.draw(),b.network.chrome.draw()})},requestChunk:function(b,c){for(var d=b;d<=c;d++)this.commits[d].requested=new Date;var e=this,f="network_data_chunk?nethash="+this.nethash+"&start="+b+"&end="+c;a.getJSON(f,function(a){e.importChunk(a),e.draw(),e.network.chrome.draw(),e.lastHotLoadCenterIndex=this.focus})},importChunk:function(a){for(var b=0;b<a.commits.length;b++){var c=a.commits[b],d=this.spaceUserMap[c.space],e=this.commits[c.time];e.populate(c,d,this.commits);for(var f=0;f<e.parents.length;f++){var g=e.parents[f];for(var h=g.time+1;h<e.time;h++)this.connectionMap[h]=this.connectionMap[h]||[],this.connectionMap[h].push(e)}}},timeWindow:function(){var a=parseInt((this.namesWidth-this.offsetX+20)/20);a<0&&(a=0);var b=a+parseInt((this.width-this.namesWidth)/20);return b>this.commits.length-1&&(b=this.commits.length-1),{min:a,max:b}},draw:function(){this.drawBackground();var a=this.timeWindow(),b=a.min,c=a.max;this.ctx.save(),this.ctx.translate(this.offsetX,this.offsetY+50);var d={};for(var e=0;e<this.spaceMap.length;e++){var f=this.spaceMap.length-e-1;for(var g=b;g<=c;g++){var h=this.commits[g];h.populated&&h.space==f&&(this.drawConnection(h),d[h.id]=!0)}}for(var e=b;e<=c;e++){var i=this.connectionMap[e];if(i)for(var g=0;g<i.length;g++){var h=i[g];d[h.id]||(this.drawConnection(h),d[h.id]=!0)}}for(var e=0;e<this.spaceMap.length;e++){var f=this.spaceMap.length-e-1;for(var g=b;g<=c;g++){var h=this.commits[g];h.populated&&h.space==f&&(h==this.activeCommit?this.drawActiveCommit(h):this.drawCommit(h))}}if(this.showRefs)for(var g=b;g<=c;g++){var h=this.commits[g];if(h.populated){var j=this.headsMap[h.id];if(j){var k=0;for(var l=0;l<j.length;l++){var m=j[l];if(this.spaceUserMap[h.space].name==m.name){var n=this.drawHead(h,m.head,k);k+=n}}}}}this.ctx.restore(),this.activeCommit&&this.drawCommitInfo(this.activeCommit)},drawBackground:function(){this.ctx.clearRect(0,0,this.width,this.height),this.ctx.save(),this.ctx.translate(0,this.offsetY+50),this.ctx.clearRect(0,-10,this.width,this.height);for(var a=0;a<this.userBlocks.length;a++){var b=this.userBlocks[a];this.ctx.fillStyle=this.bgColors[a%2],this.ctx.fillRect(0,b.start*20-10,this.width,b.count*20),this.ctx.fillStyle="#DDDDDD",this.ctx.fillRect(0,(b.start+b.count)*20-11,this.width,1)}this.ctx.restore()},drawCommit:function(a){var b=a.time*20;y=a.space*20,this.ctx.beginPath(),this.ctx.arc(b,y,3,0,2*Math.PI,!1),this.ctx.fillStyle=this.spaceColor(a.space),this.ctx.fill()},drawActiveCommit:function(a){var b=a.time*20,c=a.space*20;this.ctx.beginPath(),this.ctx.arc(b,c,6,0,2*Math.PI,!1),this.ctx.fillStyle=this.spaceColor(a.space),this.ctx.fill()},drawCommitInfo:function(a){var b=this.splitLines(a.message,54),c=80+15*b.length,d=this.offsetX+a.time*20,e=50+this.offsetY+a.space*20,f=0,g=0;d<this.graphMidpoint?f=d+10:f=d-410,e<40+(this.height-40)/2?g=e+10:g=e-c-10,this.ctx.save(),this.ctx.translate(f,g),this.ctx.fillStyle="#FFFFFF",this.ctx.strokeStyle="#000000",this.ctx.lineWidth="2",this.ctx.beginPath(),this.ctx.moveTo(0,5),this.ctx.quadraticCurveTo(0,0,5,0),this.ctx.lineTo(395,0),this.ctx.quadraticCurveTo(400,0,400,5),this.ctx.lineTo(400,c-5),this.ctx.quadraticCurveTo(400,c,395,c),this.ctx.lineTo(5,c),this.ctx.quadraticCurveTo(0,c,0,c-5),this.ctx.lineTo(0,5),this.ctx.fill(),this.ctx.stroke();var h=this.gravatars[a.gravatar];if(h)this.drawGravatar(h,10,10);else{var i=this,j=window.location.protocol;h=new Image,h.src="https://secure.gravatar.com/avatar/"+a.gravatar+"?s=32&d=https%3A%2F%2Fgithub.com%2Fimages%2Fgravatars%2Fgravatar-32.png",h.onload=function(){i.activeCommit==a&&(i.drawGravatar(h,f+10,g+10),i.gravatars[a.gravatar]=h)}}this.ctx.fillStyle="#000000",this.ctx.font="bold 14px Helvetica, sans-serif",this.ctx.fillText(a.author,55,32),this.ctx.fillStyle="#888888",this.ctx.font="12px Monaco, monospace",this.ctx.fillText(a.id,12,65),this.drawMessage(b,12,85),this.ctx.restore()},drawGravatar:function(a,b,c){this.ctx.strokeStyle="#AAAAAA",this.ctx.lineWidth=1,this.ctx.beginPath(),this.ctx.strokeRect(b+.5,c+.5,35,35),this.ctx.drawImage(a,b+2,c+2)},drawMessage:function(a,b,c){this.ctx.font="12px Monaco, monospace",this.ctx.fillStyle="#000000";for(var d=0;d<a.length;d++){var e=a[d];this.ctx.fillText(e,b,c+d*15)}},splitLines:function(a,b){var c=a.split(" "),d=[],e="";for(var f=0;f<c.length;f++){var g=c[f];e.length+1+g.length<b?e=e==""?g:e+" "+g:(d.push(e),e=g)}return d.push(e),d},drawHead:function(a,b,c){this.ctx.font="10.25px Monaco, monospace",this.ctx.save();var d=this.ctx.measureText(b.name).width;this.ctx.restore();var e=a.time*20,f=a.space*20+5+c;return this.ctx.save(),this.ctx.translate(e,f),this.ctx.fillStyle="rgba(0, 0, 0, 0.8)",this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(-4,10),this.ctx.quadraticCurveTo(-9,10,-9,15),this.ctx.lineTo(-9,15+d),this.ctx.quadraticCurveTo(-9,15+d+5,-4,15+d+5),this.ctx.lineTo(4,15+d+5),this.ctx.quadraticCurveTo(9,15+d+5,9,15+d),this.ctx.lineTo(9,15),this.ctx.quadraticCurveTo(9,10,4,10),this.ctx.lineTo(0,0),this.ctx.fill(),this.ctx.fillStyle="#FFFFFF",this.ctx.font="12px Monaco, monospace",this.ctx.textBaseline="middle",this.ctx.scale(.85,.85),this.ctx.rotate(Math.PI/2),this.ctx.fillText(b.name,17,-1),this.ctx.restore(),d+20},drawConnection:function(a){for(var b=0;b<a.parents.length;b++){var c=a.parents[b];b==0?c.space==a.space?this.drawBasicConnection(c,a):this.drawBranchConnection(c,a):this.drawMergeConnection(c,a)}},drawBasicConnection:function(a,b){var c=this.spaceColor(b.space);this.ctx.strokeStyle=c,this.ctx.lineWidth=2,this.ctx.beginPath(),this.ctx.moveTo(a.time*20,b.space*20),this.ctx.lineTo(b.time*20,b.space*20),this.ctx.stroke()},drawBranchConnection:function(a,b){var c=this.spaceColor(b.space);this.ctx.strokeStyle=c,this.ctx.lineWidth=2,this.ctx.beginPath(),this.ctx.moveTo(a.time*20,a.space*20),this.ctx.lineTo(a.time*20,b.space*20),this.ctx.lineTo(b.time*20-14,b.space*20),this.ctx.stroke(),this.threeClockArrow(c,b.time*20,b.space*20)},drawMergeConnection:function(a,b){var c=this.spaceColor(a.space);this.ctx.strokeStyle=c,this.ctx.lineWidth=2,this.ctx.beginPath();if(a.space>b.space){this.ctx.moveTo(a.time*20,a.space*20);var d=this.safePath(a.time,b.time,a.space);if(d)this.ctx.lineTo(b.time*20-10,a.space*20),this.ctx.lineTo(b.time*20-10,b.space*20+15),this.ctx.lineTo(b.time*20-7.7,b.space*20+9.5),this.ctx.stroke(),this.oneClockArrow(c,b.time*20,b.space*20);else{var e=this.closestMargin(a.time,b.time,a.space,-1);a.space==b.space+1&&a.space==e+1?(this.ctx.lineTo(a.time*20,e*20+10),this.ctx.lineTo(b.time*20-15,e*20+10),this.ctx.lineTo(b.time*20-9.5,e*20+7.7),this.ctx.stroke(),this.twoClockArrow(c,b.time*20,e*20),this.addMargin(a.time,b.time,e)):a.time+1==b.time?(e=this.closestMargin(a.time,b.time,b.space,0),this.ctx.lineTo(a.time*20,e*20+10),this.ctx.lineTo(b.time*20-15,e*20+10),this.ctx.lineTo(b.time*20-15,b.space*20+10),this.ctx.lineTo(b.time*20-9.5,b.space*20+7.7),this.ctx.stroke(),this.twoClockArrow(c,b.time*20,b.space*20),this.addMargin(a.time,b.time,e)):(this.ctx.lineTo(a.time*20+10,a.space*20-10),this.ctx.lineTo(a.time*20+10,e*20+10),this.ctx.lineTo(b.time*20-10,e*20+10),this.ctx.lineTo(b.time*20-10,b.space*20+15),this.ctx.lineTo(b.time*20-7.7,b.space*20+9.5),this.ctx.stroke(),this.oneClockArrow(c,b.time*20,b.space*20),this.addMargin(a.time,b.time,e))}}else{var e=this.closestMargin(a.time,b.time,b.space,-1);e<b.space?(this.ctx.moveTo(a.time*20,a.space*20),this.ctx.lineTo(a.time*20,e*20+10),this.ctx.lineTo(b.time*20-12.7,e*20+10),this.ctx.lineTo(b.time*20-12.7,b.space*20-10),this.ctx.lineTo(b.time*20-9.4,b.space*20-7.7),this.ctx.stroke(),this.fourClockArrow(c,b.time*20,b.space*20),this.addMargin(a.time,b.time,e)):(this.ctx.moveTo(a.time*20,a.space*20),this.ctx.lineTo(a.time*20,e*20+10),this.ctx.lineTo(b.time*20-12.7,e*20+10),this.ctx.lineTo(b.time*20-12.7,b.space*20+10),this.ctx.lineTo(b.time*20-9.4,b.space*20+7.7),this.ctx.stroke(),this.twoClockArrow(c,b.time*20,b.space*20),this.addMargin(a.time,b.time,e))}},addMargin:function(a,b,c){var d=c;this.marginMap[d]||(this.marginMap[d]=[]),this.marginMap[d].push([a,b])},oneClockArrow:function(a,b,c){this.ctx.fillStyle=a,this.ctx.beginPath(),this.ctx.moveTo(b-6.3,c+13.1),this.ctx.lineTo(b-10.8,c+9.7),this.ctx.lineTo(b-2.6,c+3.5),this.ctx.fill()},twoClockArrow:function(a,b,c){this.ctx.fillStyle=a,this.ctx.beginPath(),this.ctx.moveTo(b-12.4,c+6.6),this.ctx.lineTo(b-9.3,c+10.6),this.ctx.lineTo(b-3.2,c+2.4),this.ctx.fill()},threeClockArrow:function(a,b,c){this.ctx.fillStyle=a,this.ctx.beginPath(),this.ctx.moveTo(b-14,c-2.5),this.ctx.lineTo(b-14,c+2.5),this.ctx.lineTo(b-4,c),this.ctx.fill()},fourClockArrow:function(a,b,c){this.ctx.fillStyle=a,this.ctx.beginPath(),this.ctx.moveTo(b-12.4,c-6.6),this.ctx.lineTo(b-9.3,c-10.6),this.ctx.lineTo(b-3.2,c-2.4),this.ctx.fill()},safePath:function(a,b,c){for(var d=0;d<this.spaceMap[c].length;d++){var e=this.spaceMap[c][d];if(this.timeInPath(a,e))return e[1]==b}return!1},closestMargin:function(a,b,c,d){var e=this.spaceMap.length,f=d,g=!1,h=!1,i=!1;while(!h||!g){if(c+f>=0&&this.safeMargin(a,b,c+f))return c+f;c+f<0&&(g=!0),c+f>e&&(h=!0),i==0&&f==0?(f=-1,i=!0):f<0?f=-f-1:f=-f-2}return c>0?c-1:0},safeMargin:function(a,b,c){var d=c;if(!this.marginMap[d])return!0;var e=this.marginMap[d];for(var f=0;f<e.length;f++){var g=e[f];if(this.pathsCollide([a,b],g))return!1}return!0},pathsCollide:function(a,b){return this.timeWithinPath(a[0],b)||this.timeWithinPath(a[1],b)||this.timeWithinPath(b[0],a)||this.timeWithinPath(b[1],a)},timeInPath:function(a,b){return a>=b[0]&&a<=b[1]},timeWithinPath:function(a,b){return a>b[0]&&a<b[1]},spaceColor:function(a){return a==0?"#000000":this.spaceColors[a%this.spaceColors.length]}},b.MouseDriver=function(b,c,d){this.container=b,this.chrome=c,this.graph=d,this.dragging=!1,this.lastPoint={x:0,y:0},this.lastHoverCommit=null,this.lastHoverUser=null,this.pressedCommit=null,this.pressedUser=null;var e=a(b).eq(0),f=a("canvas",e)[0],g=a(f).offset();f.style.cursor="move";var h=this;this.up=function(a){h.dragging=!1,h.pressedCommit&&h.graph.activeCommit==h.pressedCommit?window.open("/"+h.graph.activeCommit.user.name+"/"+h.graph.activeCommit.user.repo+"/commit/"+h.graph.activeCommit.id):h.pressedUser&&h.chrome.activeUser==h.pressedUser&&(window.location="/"+h.chrome.activeUser.name+"/"+h.chrome.activeUser.repo+"/network"),h.pressedCommit=null,h.pressedUser=null},this.down=function(a){h.graph.activeCommit?h.pressedCommit=h.graph.activeCommit:h.chrome.activeUser?h.pressedUser=h.chrome.activeUser:h.dragging=!0},this.docmove=function(a){var b=a.pageX,c=a.pageY;h.dragging&&(h.graph.moveX(b-h.lastPoint.x),h.graph.moveY(c-h.lastPoint.y),h.graph.draw(),h.chrome.moveX(b-h.lastPoint.x),h.chrome.moveY(c-h.lastPoint.y),h.chrome.draw()),h.lastPoint.x=b,h.lastPoint.y=c},this.move=function(a){var b=a.pageX,c=a.pageY;if(h.dragging)h.graph.moveX(b-h.lastPoint.x),h.graph.moveY(c-h.lastPoint.y),h.graph.draw(),h.chrome.moveX(b-h.lastPoint.x),h.chrome.moveY(c-h.lastPoint.y),h.chrome.draw();else{var d=h.chrome.hover(b-g.left,c-g.top);if(d!=h.lastHoverUser)d?f.style.cursor="pointer":f.style.cursor="move",h.chrome.activeUser=d,h.chrome.draw(),h.lastHoverUser=d;else{var e=h.graph.hover(b-g.left,c-g.top);e!=h.lastHoverCommit&&(e?f.style.cursor="pointer":f.style.cursor="move",h.graph.activeCommit=e,h.graph.draw(),h.chrome.draw(),h.lastHoverCommit=e)}}h.lastPoint.x=b,h.lastPoint.y=c},this.out=function(a){h.graph.activeCommit=null,h.chrome.activeUser=null,h.graph.draw(),h.chrome.draw(),h.lastHoverCommit=null,h.lastHoverUser=null},a("body")[0].onmouseup=this.up,a("body")[0].onmousemove=this.docmove,f.onmousedown=this.down,f.onmousemove=this.move,f.onmouseout=this.out},b.KeyDriver=function(b,c,d){this.container=b,this.chrome=c,this.graph=d,this.dirty=!1,this.moveBothX=function(a){this.graph.moveX(a),this.chrome.moveX(a),this.graph.activeCommit=null,this.dirty=!0},this.moveBothY=function(a){this.graph.moveY(a),this.chrome.moveY(a),this.graph.activeCommit=null,this.dirty=!0},this.toggleRefs=function(){this.graph.toggleRefs(),this.dirty=!0},this.redraw=function(){this.dirty&&(this.graph.draw(),this.chrome.draw()),this.dirty=!1};var e=this;this.down=function(a){var b=!1;if(a.target!=document.body)return!0;if(a.shiftKey)switch(a.which){case 37:case 72:e.moveBothX(999999),b=!0;break;case 38:case 75:e.moveBothY(999999),b=!0;break;case 39:case 76:e.moveBothX(-999999),b=!0;break;case 40:case 74:e.moveBothY(-999999),b=!0}else switch(a.which){case 37:case 72:e.moveBothX(100),b=!0;break;case 38:case 75:e.moveBothY(20),b=!0;break;case 39:case 76:e.moveBothX(-100),b=!0;break;case 40:case 74:e.moveBothY(-20),b=!0;break;case 84:e.toggleRefs(),b=!0}b&&e.redraw()},a(document).keydown(this.down)},b}(function(){if(navigator.userAgent.match("Propane"))return;top!=window&&(alert("For security reasons, framing is not allowed."),top.location.replace(document.location))}).call(this),function(){if(location.host!=="github.com")return;location.protocol!=="https:"&&(alert("SSL is required to view this page."),location.protocol="https:")}.call(this),function(){var a,b;(b=window.GitHub)==null&&(window.GitHub={}),a=null,GitHub.withSudo=function(b){return $.getJSON("/sessions/in_sudo.json",function(c){return c?b():(a=b,$.facebox({div:"#js-sudo-prompt"},"sudo"))})},$(document).on("ajaxSuccess",".js-sudo-form",function(){return $(document).trigger("close.facebox"),typeof a=="function"&&a(),a=null}),$(document).on("ajaxError",".js-sudo-form",function(){return $(this).find(".js-sudo-error").text("Incorrect Password.").show(),!1}),$(document).on("click",".js-sudo-required",function(){var a=this;return GitHub.withSudo(function(){return location.href=a.href}),!1})}.call(this),function(){$(document).on("change","form[data-autosubmit]",function(){return $(this).submit()})}.call(this),function(){var a,b;$.fuzzyScore=function(a,c){var d;return d=b(a,c),d&&!/\//.test(c)&&(d+=b(a.replace(/^.*\//,""),c)),d},$.fuzzySort=function(b,c){var d,e,f,g,h,i;b=function(){var a,d,g;g=[];for(a=0,d=b.length;a<d;a++)f=b[a],(e=$.fuzzyScore(f,c))&&g.push([f,e]);return g}(),b.sort(a),i=[];for(g=0,h=b.length;g<h;g++)d=b[g],i.push(d[0]);return i},a=function(a,b){var c,d,e,f;return d=a[0],f=b[0],c=a[1],e=b[1],c>e?-1:c<e?1:d<f?-1:d>f?1:0},$.fuzzyRegexp=function(a){var b,c,d;return d=a.toLowerCase(),b="+.*?[]{}()^$|\\".replace(/(.)/g,"\\$1"),c=new RegExp("\\((["+b+"])\\)","g"),a=d.replace(/(.)/g,"($1)(.*?)").replace(c,"(\\$1)"),new RegExp("(.*)"+a+"$","i")},$.fuzzyHighlight=function(a,b,c){var d,e,f,g,h,i,j,k;c==null&&(c=null),e=$.trim(a.innerHTML);if(b){c==null&&(c=$.fuzzyRegexp(b));if(!(h=e.match(c)))return;i=!1,e=[];for(f=j=1,k=h.length;1<=k?j<k:j>k;f=1<=k?++j:--j){g=h[f];if(!g)continue;f%2===0?i||(e.push("<mark>"),i=!0):i&&(e.push("</mark>"),i=!1),e.push(""+g)}a.innerHTML=e.join("")}else d=e.replace(/<\/?mark>/g,""),e!==d&&(a.innerHTML=d)},b=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;if(a===b)return 1;n=a.length,o=0,m=0;for(h=p=0,q=b.length;p<q;h=++p){e=b[h],i=a.indexOf(e.toLowerCase()),j=a.indexOf(e.toUpperCase()),l=Math.min(i,j),k=l>-1?l:Math.max(i,j);if(k===-1)return 0;f=.1,a[k]===e&&(f+=.1),k===0&&(f+=.8,h===0&&(m=1)),a.charAt(k-1)===" "&&(f+=.8),a=a.substring(k+1,n),o+=f}return c=b.length,d=o/c,g=(d*(c/n)+d)/2,m&&g+.1<1&&(g+=.1),g}}.call(this),function(){var a,b,c,d;$.fn.fuzzyFilterSortList=function(e,f){var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G;f==null&&(f={});if(!(n=this[0]))return;e=e.toLowerCase(),j=(D=f.content)!=null?D:a,s=(E=f.text)!=null?E:c,m=f.limit,f.mark===!0?o=b:((F=f.mark)!=null?F.call:void 0)!=null&&(o=f.mark),(g=$(n).data("fuzzy-sort-items"))?i=$(n).children():(i=g=$(n).children(),$(n).data("fuzzy-sort-items",g.slice(0)));for(v=0,z=i.length;v<z;v++)k=i[v],n.removeChild(k),k.style.display="";q=document.createDocumentFragment(),t=0,u=0;if(!e)for(w=0,A=g.length;w<A;w++){k=g[w];if(!m||t<m)u++,o&&o(j(k)),q.appendChild(k);t++}else{l=g.slice(0);for(x=0,B=l.length;x<B;x++)k=l[x],(G=k.fuzzyFilterTextCache)==null&&(k.fuzzyFilterTextCache=s(j(k))),r=$.fuzzyScore(k.fuzzyFilterTextCache,e),k.fuzzyFilterScoreCache=r;l.sort(d),p=$.fuzzyRegexp(e);for(y=0,C=l.length;y<C;y++)k=l[y],(!m||t<m)&&k.fuzzyFilterScoreCache>0&&(u++,o&&(h=j(k),o(h),o(h,e,p)),q.appendChild(k)),t++}return n.appendChild(q),u},d=function(a,b){var c,d,e,f;return c=a.fuzzyFilterScoreCache,e=b.fuzzyFilterScoreCache,d=a.fuzzyFilterTextCache,f=b.fuzzyFilterTextCache,c>e?-1:c<e?1:d<f?-1:d>f?1:0},a=function(a){return a},c=function(a){return $.trim(a.textContent.toLowerCase())},b=$.fuzzyHighlight}.call(this),function(){var a,b;$.fn.prefixFilterList=function(c,d){var e,f,g,h,i,j,k,l,m,n,o;d==null&&(d={});if(!(h=this[0]))return;c=c.toLowerCase(),j=(n=d.text)!=null?n:b,f=$(h).children(),g=d.limit,d.mark===!0?i=a:((o=d.mark)!=null?o.call:void 0)!=null&&(i=d.mark),k=0;for(l=0,m=f.length;l<m;l++)e=f[l],j(e).indexOf(c)===0?g&&k>=g?e.style.display="none":(k++,e.style.display="",i&&(i(e),i(e,c))):e.style.display="none";return k},b=function(a){return $.trim(a.textContent.toLowerCase())},a=function(a,b){var c,d,e;d=a.innerHTML,b?(e=new RegExp(b,"i"),a.innerHTML=d.replace(e,"<mark>$&</mark>")):(c=d.replace(/<\/?mark>/g,""),d!==c&&(a.innerHTML=c))}}.call(this),function(){var a,b;$.fn.substringFilterList=function(c,d){var e,f,g,h,i,j,k,l,m,n,o;d==null&&(d={});if(!(h=this[0]))return;c=c.toLowerCase(),j=(n=d.text)!=null?n:b,g=d.limit,f=$(h).children(),d.mark===!0?i=a:((o=d.mark)!=null?o.call:void 0)!=null&&(i=d.mark),k=0;for(l=0,m=f.length;l<m;l++)e=f[l],j(e).indexOf(c)!==-1?g&&k>=g?e.style.display="none":(k++,e.style.display="",i&&(i(e),i(e,c))):e.style.display="none";return k},b=function(a){return $.trim(a.textContent.toLowerCase())},a=function(a,b){var c,d,e;d=a.innerHTML,b?(e=new RegExp(b,"i"),a.innerHTML=d.replace(e,"<mark>$&</mark>")):(c=d.replace(/<\/?mark>/g,""),d!==c&&(a.innerHTML=c))}}.call(this),function(){var a,b;a=function(){var a,b,c,d,e,f=this;return c=!1,b=!1,e=null,a=100,d=function(b){e&&clearTimeout(e),e=setTimeout(function(){var a;e=null,a=new $.Event("throttled:input",{target:b}),$.event.trigger(a,null,f,!0)},a)},$(this).on("keydown.throttledInput",function(){c=!0,b=!1,e&&clearTimeout(e)}),$(this).on("keyup.throttledInput",function(a){c=!1,b&&d(a.target),b=!1}),$(this).on("input.throttledInput",function(a){b=!0,c||d(a.target)})},b=function(){return $(this).off("keydown.throttledInput"),$(this).off("keyup.throttledInput"),$(this).off("input.throttledInput")},$.event.special["throttled:input"]={setup:a,teardown:b}}.call(this),function(){var a;a="oninput"in document.createElement("input"),!a&&document.attachEvent!=null&&$(document).on("focus","input, textarea",function(a){var b,c,d;b=a.currentTarget,d=function(){$(b).trigger("input")},c=function(){b.detachEvent("onpropertychange",d),b.detachEvent("onblur",c)},b.attachEvent("onpropertychange",d),b.attachEvent("onblur",c)})}.call(this),function(){var a;$(document).on("focusin",".js-filterable-field",function(){var a;a=$(this).val(),$(this).on("throttled:input.filterable",function(){if(a===$(this).val())return;return a=$(this).val(),$(this).fire("filterable:change",{async:!0})}),$(this).on("blur.filterable",function(){return $(this).off(".filterable")}),$(this).fire("filterable:change",{async:!0})}),$(document).on("filterable:change",".js-filterable-field",function(){var b,c,d,e,f,g;d=$.trim($(this).val().toLowerCase()),g=$("[data-filterable-for="+this.id+"]");for(e=0,f=g.length;e<f;e++)c=g[e],b=$(c),a(b,d),b.fire("filterable:change",{relatedTarget:this})}),a=function(a,b){var c,d,e,f;a.find(".js-filterable-text:first")[0]&&(c=function(a){return $(a).find(".js-filterable-text:first")[0]}),e=a.attr("data-filterable-highlight")!==void 0,d=a.attr("data-filterable-limit"),f=function(){switch(a.attr("data-filterable-type")){case"fuzzy":return a.fuzzyFilterSortList(b,{content:c,mark:e,limit:d});case"substring":return a.substringFilterList(b,{content:c,mark:e,limit:d});default:return a.prefixFilterList(b,{content:c,mark:e,limit:d})}}(),a.toggleClass("filterable-active",b.length>0),a.toggleClass("filterable-empty",f===0)}}.call(this),function(){var a,b,c,d;c={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",91:"meta",93:"meta",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},d={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},a=function(a){var b,e,f;return b=c[a.which],e="",a.ctrlKey&&b!=="ctrl"&&(e+="ctrl+"),a.altKey&&b!=="alt"&&(e+="alt+"),a.metaKey&&!a.ctrlKey&&b!=="meta"&&(e+="meta+"),a.shiftKey?(f=d[a.which])?""+e+f:b==="shift"?""+e+"shift":b?""+e+"shift+"+b:null:b?""+e+b:null},b=function(b){var c;return(c=b.hotkey)==null&&(b.hotkey=a(b)),b.handleObj.handler.apply(this,arguments)},$.event.special.keydown={handle:b},$.event.special.keyup={handle:b}}.call(this),function(){var a,b,c;a=[],$.pageChange=function(b){b==null&&(b=function(){}),a.push(b)},$.pageChange.before=function(){},$.pageChange.beforeEach=
function(){},$.pageChange.after=function(){},$.pageChange.afterEach=function(){},$.fn.pageChange=function(){var b,c,d,e,f,g;for(d=0,f=this.length;d<f;d++){b=this[d],$.pageChange.before(b);for(e=0,g=a.length;e<g;e++)c=a[e],$.pageChange.beforeEach(b,c),c.apply(b),$.pageChange.afterEach(b,c);$.pageChange.after(b)}return this},$(document).ready(b=function(){return $.fn.pageChange.call([document.body])}),$(document).on("pjax:end",c=function(a){return $.fn.pageChange.call([a.target])})}.call(this),function(){var a,b;a={},$(document).on("keydown",function(b){var c;if(b.target!==document.body)return;if(c=a[b.hotkey])$(c).fire("hotkey:activate",{originalEvent:b},function(){$(c).is(":input")?$(c).focus():$(c).click()}),b.preventDefault()}),$.pageChange(b=function(){var b,c,d,e,f,g,h,i;a={},i=$("[data-hotkey]");for(e=0,g=i.length;e<g;e++){b=i[e],c=$(b).attr("data-hotkey").split(" ");for(f=0,h=c.length;f<h;f++)d=c[f],a[d]=b}})}.call(this),function(){var a,b,c,d;$.fn.performTransition=function(c){var e,f,g,h,i,j,k,l;if(!b){c.apply(this);return}g=this.find(".js-transitionable"),g=g.add(this.filter(".js-transitionable"));for(i=0,k=g.length;i<k;i++)f=g[i],e=$(f),h=a(f),e.one(b,function(){f.style.display=null,f.style.visibility=null;if(h)return d(f,function(){return f.style.height=null})}),f.style.display="block",f.style.visibility="visible",h&&d(f,function(){return f.style.height=""+e.height()+"px"}),f.offsetHeight;c.apply(this);for(j=0,l=g.length;j<l;j++)f=g[j],a(f)&&($(f).height()===0?f.style.height=""+f.scrollHeight+"px":f.style.height="0px");return this},c={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},b=c[Modernizr.prefixed("transition")],a=function(a){var b;return b=Modernizr.prefixed("transitionProperty"),$(a).css(b)==="height"},d=function(a,b){a.style.webkitTransition="none",b(a),a.offsetHeight,a.style.webkitTransition=null}}.call(this),function(){var a,b,c,d,e,f=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1};b=null,a=function(a){b&&c(b),$(a).fire("menu:activate",function(){return $(document).on("keydown.menu",e),$(document).on("click.menu",d),b=a,$(a).performTransition(function(){return $(document.body).addClass("menu-active"),$(a).addClass("active")}),$(a).fire("menu:activated",{async:!0})})},c=function(a){$(a).fire("menu:deactivate",function(){return $(document).off(".menu"),b=null,$(a).performTransition(function(){return $(document.body).removeClass("menu-active"),$(a).removeClass("active")}),$(a).fire("menu:deactivated",{async:!0})})},d=function(a){if(!b)return;$(a.target).closest(b)[0]||(a.preventDefault(),c(b))},e=function(a){if(!b)return;a.hotkey==="esc"&&(f.call($(document.activeElement).parents(),b)>=0&&document.activeElement.blur(),a.preventDefault(),c(b))},$(document).on("click",".js-menu-container",function(d){var e,f,g;e=this,(g=$(d.target).closest(".js-menu-target")[0])?(d.preventDefault(),e===b?c(e):a(e)):(f=$(d.target).closest(".js-menu-content")[0])||e===b&&(d.preventDefault(),c(e))}),$(document).on("click",".js-menu-container .js-menu-close",function(a){c($(this).closest(".js-menu-container")[0]),a.preventDefault()}),$.fn.menu=function(b){var d,e,f=this;return d=$(this).closest(".js-menu-container")[0],e={activate:function(){return a(d)},deactivate:function(){return c(d)}},typeof e[b]=="function"?e[b]():void 0}}.call(this),function(){var a;$.fn.positionedOffset=function(a){var b,c,d,e,f,g,h,i,j;if(!(c=this[0]))return;if(a!=null?a.jquery:void 0)a=a[0];i=0,e=0,d=c.offsetHeight,j=c.offsetWidth;while(!!c&&c!==a)i+=c.offsetTop||0,e+=c.offsetLeft||0,c=c.offsetParent;return!a||!a.offsetParent?(g=$(document).height(),h=$(document).width()):(g=a.scrollHeight,h=a.scrollWidth),b=g-(i+d),f=h-(e+j),{top:i,left:e,bottom:b,right:f}},a=function(a){var b;return $.isWindow(a)||a.nodeType===9||((b=a.nodeName)!=null?b.match(/body|html/i):void 0)}}.call(this),function(){$.fn.overflowOffset=function(a){var b,c,d,e,f,g,h,i,j;return a==null&&(a=document.body),(c=this[0])?(f=$(c).positionedOffset(a),a.offsetParent?h={top:$(a).scrollTop(),left:$(a).scrollLeft()}:(h={top:$(window).scrollTop(),left:$(window).scrollLeft()},a=document.documentElement),i=f.top-h.top,e=f.left-h.left,d=a.clientHeight,j=a.clientWidth,b=d-(i+c.offsetHeight),g=j-(e+c.offsetWidth),{top:i,left:e,bottom:b,right:g,height:d,width:j}):null}}.call(this),function(){$.fn.overflowParent=function(){var a,b,c;if(!(a=this[0]))return this;while(a!==document.body){c=$(a).css("overflow-y"),b=$(a).css("overflow-x");if(c==="auto"||b==="auto"||c==="scroll"||b==="scroll")break;a=a.parentElement}return $(a)}}.call(this),function(){var a,b=[].slice;$.fn.scrollTo=function(){var c,d,e,f,g,h,i,j;return c=1<=arguments.length?b.call(arguments,0):[],(d=this[0])?(f={},$.isPlainObject(c[0])?(f=c[0],$.isFunction(c[1])&&(h=f.complete)==null&&(f.complete=c[1])):c[0]!=null&&(f.target=c[0]),f.top==null&&f.left==null&&(f.target?(i=$(f.target).positionedOffset(d),g=i.top,e=i.left,f.top=g,f.left=e):(j=$(d).positionedOffset(),g=j.top,e=j.left,f.top=g,f.left=e,d=document)),d.offsetParent?f.duration?a(d,f):(f.top!=null&&(d.scrollTop=f.top),f.left!=null&&(d.scrollLeft=f.left),typeof f.complete=="function"&&f.complete()):f.duration?a("html, body",f):(f.top!=null&&$(document).scrollTop(f.top),f.left!=null&&$(document).scrollLeft(f.left),typeof f.complete=="function"&&f.complete()),this):this},a=function(a,b){var c,d,e;return e={},b.top!=null&&(e.scrollTop=b.top),b.left!=null&&(e.scrollLeft=b.left),d={duration:b.duration,queue:!1},b.complete&&(c=$(a).length,d.complete=function(){if(--c===0)return setTimeout(b.complete,0)}),$(a).animate(e,d)}}.call(this),function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A;d=navigator.userAgent.match(/Macintosh/),q=navigator.userAgent.match(/Macintosh/)?"meta":"ctrl",h=!1,r={x:0,y:0},$.pageUpdate(o=function(){var a,b,c,d,e;e=$(".js-navigation-container");for(c=0,d=e.length;c<d;c++){b=e[c],a=$(b);if(a.data("navigation-installed"))continue;a.attr("data-navigation-disable-mouse")===void 0&&(a.on("mousemove",s),a.on("mouseover",t)),a.data("navigation-installed",!0)}}),s=function(a){if(r.x!==a.clientX||r.y!==a.clientY)h=!1;r={x:a.clientX,y:a.clientY}},t=function(a){if(h)return;$(a.target).trigger("navigation:mouseover")},$(document).on("keydown",function(a){var b,c,d;if(a.target!==document.body&&!$(a.target).hasClass("js-navigation-enable"))return;if(!(b=l()))return;return h=!0,d=$(b).find(".js-navigation-item.navigation-focus")[0]||b,c=$(d).fire("navigation:keydown",{originalEvent:a,hotkey:a.hotkey,relatedTarget:b}),c.isDefaultPrevented()&&a.preventDefault(),c.result}),$(document).on("navigation:keydown",".js-active-navigation-container",function(a){var b,c,g;b=this,c=$(a.originalEvent.target).is(":input");if($(a.target).is(".js-navigation-item")){g=a.target;if(c){if(d)switch(a.hotkey){case"ctrl+n":e(g,b);break;case"ctrl+p":f(g,b)}switch(a.hotkey){case"up":f(g,b);break;case"down":e(g,b);break;case"enter":p(g);break;case""+q+"+enter":p(g,!0)}}else{if(d)switch(a.hotkey){case"ctrl+n":e(g,b);break;case"ctrl+p":f(g,b);break;case"alt+v":v(g,b);break;case"ctrl+v":u(g,b)}switch(a.hotkey){case"j":e(g,b);break;case"k":f(g,b);break;case"o":case"enter":p(g);break;case""+q+"+enter":p(g,!0)}}}else{g=m(b)[0];if(c){if(d)switch(a.hotkey){case"ctrl+n":k(g,b)}switch(a.hotkey){case"down":k(g,b)}}else{if(d)switch(a.hotkey){case"ctrl+n":case"ctrl+v":k(g,b)}switch(a.hotkey){case"j":k(g,b)}}}if(c){if(d)switch(a.hotkey){case"ctrl+n":case"ctrl+p":a.preventDefault()}switch(a.hotkey){case"up":case"down":a.preventDefault();break;case"enter":case""+q+"+enter":a.preventDefault()}}else{if(d)switch(a.hotkey){case"ctrl+n":case"ctrl+p":case"alt+v":case"ctrl+v":a.preventDefault()}switch(a.hotkey){case"j":case"k":a.preventDefault();break;case"o":case"enter":case""+q+"+enter":a.preventDefault()}}}),$(document).on("navigation:mouseover",".js-active-navigation-container .js-navigation-item",function(a){var b;b=$(a.currentTarget).closest(".js-navigation-container")[0],k(a.currentTarget,b)}),i=function(a){var b,c,d;d=a.currentTarget,c=a.modifierKey||a.altKey||a.ctrlKey||a.metaKey,b=$(d).fire("navigation:open",{modifierKey:c}),b.isDefaultPrevented()&&a.preventDefault()},$(document).on("click",".js-active-navigation-container .js-navigation-item",function(a){i(a)}),$(document).on("navigation:keyopen",".js-active-navigation-container .js-navigation-item",function(a){var b;(b=$(this).filter(".js-navigation-open")[0]||$(this).find(".js-navigation-open")[0])?(a.modifierKey?(window.open(b.href,"_blank"),window.focus()):$(b).click(),a.preventDefault()):i(a)}),a=function(a){var b,c=this;b=l();if(a!==b)return $(a).fire("navigation:activate",function(){return b&&$(b).removeClass("js-active-navigation-container"),$(a).addClass("js-active-navigation-container"),$(a).fire("navigation:activated",{async:!0})})},g=function(a){var b=this;return $(a).fire("navigation:deactivate",function(){return $(a).removeClass("js-active-navigation-container"),$(a).fire("navigation:deactivated",{async:!0})})},c=[],x=function(b){var d;(d=l())&&c.push(d),a(b)},w=function(d){var e;g(d),b(d),(e=c.pop())&&a(e)},j=function(b,c){var d,e,f;d=m(c)[0],f=$(b).closest(".js-navigation-item")[0]||d,a(c),e=k(f,c);if(e)return;f&&A($(f).overflowParent()[0],f)},b=function(a){$(a).find(".navigation-focus.js-navigation-item").removeClass("navigation-focus")},y=function(a,c){b(c),j(a,c)},f=function(a,b){var c,d,e,f;e=m(b),d=$.inArray(a,e);if(f=e[d-1]){c=k(f,b);if(c)return;b=$(f).overflowParent()[0],n(b)==="page"?A(b,f):z(b,f)}},e=function(a,b){var c,d,e,f;e=m(b),d=$.inArray(a,e);if(f=e[d+1]){c=k(f,b);if(c)return;b=$(f).overflowParent()[0],n(b)==="page"?A(b,f):z(b,f)}},v=function(a,b){var c,d,e,f;e=m(b),d=$.inArray(a,e),b=$(a).overflowParent()[0];while((f=e[d-1])&&$(f).overflowOffset(b).top>=0)d--;if(f){c=k(f,b);if(c)return;A(b,f)}},u=function(a,b){var c,d,e,f;e=m(b),d=$.inArray(a,e),b=$(a).overflowParent()[0];while((f=e[d+1])&&$(f).overflowOffset(b).bottom>=0)d++;if(f){c=k(f,b);if(c)return;A(b,f)}},p=function(a,b){b==null&&(b=!1),$(a).fire("navigation:keyopen",{modifierKey:b})},k=function(a,c){var d;return d=$(a).fire("navigation:focus",function(){return b(c),$(a).addClass("navigation-focus"),$(a).fire("navigation:focused",{async:!0})}),d.isDefaultPrevented()},l=function(){return $(".js-active-navigation-container")[0]},m=function(a){return $(a).find(".js-navigation-item").filter(":visible")},n=function(a){var b;return(b=$(a).attr("data-navigation-scroll"))!=null?b:"item"},A=function(a,b){var c,d,e,f;d=$(b).positionedOffset(a),c=$(b).overflowOffset(a);if(c.bottom<=0)return $(a).scrollTo({top:d.top-30,duration:200});if(c.top<=0)return e=a.offsetParent!=null?a.scrollHeight:$(document).height(),f=e-(d.bottom+c.height),$(a).scrollTo({top:f+30,duration:200})},z=function(a,b){var c,d,e,f;d=$(b).positionedOffset(a),c=$(b).overflowOffset(a);if(c.bottom<=0)return e=a.offsetParent!=null?a.scrollHeight:$(document).height(),f=e-(d.bottom+c.height),$(a).scrollTo({top:f});if(c.top<=0)return $(a).scrollTo({top:d.top})},$.fn.navigation=function(c){var d,e,f=this;if(c==="active")return l();if(!(d=$(this).closest(".js-navigation-container")[0]))return;return e={activate:function(){return a(d)},deactivate:function(){return g(d)},push:function(){return x(d)},pop:function(){return w(d)},focus:function(){return j(f,d)},clear:function(){return b(d)},refocus:function(){return y(f,d)}},typeof e[c]=="function"?e[c]():void 0}}.call(this),function(){var a;if(window.getSelection==null)return;a=function(b,c){var d,e,f,g;if(b===c)return!0;g=b.childNodes;for(e=0,f=g.length;e<f;e++){d=g[e];if(a(d,c))return!0}return!1},$(document).on("click",".js-selectable-text",function(){var b,c;c=window.getSelection(),c.rangeCount&&(b=c.getRangeAt(0).commonAncestorContainer,a(this,b)||c.selectAllChildren(this))})}.call(this),function(){var a,b;a=["position:absolute;","overflow:auto;","white-space:pre-wrap;","word-wrap:break-word;","top:0px;","left:-9999px;"],b=["box-sizing","font-family","font-size","font-style","font-variant","font-weight","height","letter-spacing","line-height","padding-bottom","padding-left","padding-right","padding-top","text-decoration","text-indent","text-transform","width","word-spacing"],$.fn.textareaMirror=function(c){var d,e,f,g,h,i,j,k,l,m,n;if(!(l=this[0]))return;if(l.nodeName.toLowerCase()!=="textarea")return;g=l.previousElementSibling;if(g&&g.className==="js-textarea-mirror")g.innerHTML="";else{g=document.createElement("div"),g.className="js-textarea-mirror",j=window.getComputedStyle(l),i=a.slice(0);for(m=0,n=b.length;m<n;m++)h=b[m],i.push(""+h+":"+j[h]+";");g.style.cssText=i.join(" ")}c!==!1&&(f=document.createElement("span"),f.className="js-marker",f.innerHTML="&nbsp;");if(typeof c=="number"){if(k=l.value.substring(0,c))e=document.createTextNode(k);if(k=l.value.substring(c))d=document.createTextNode(k)}else if(k=l.value)e=document.createTextNode(k);return e&&g.appendChild(e),f&&g.appendChild(f),d&&g.appendChild(d),g.parentElement||l.parentElement.insertBefore(g,l),g.scrollTop=l.scrollTop,g}}.call(this),function(){$.fn.textareaContentsHeight=function(){var a,b,c;if(!(c=this[0]))return;if(!(b=$.fn.textareaMirror.call([c],!1)))return;return b.style.height="",a=$.css(b,"height","content"),setTimeout(function(){var a;return(a=b.parentNode)!=null?a.removeChild(b):void 0},5e3),a}}.call(this),function(){var a,b;a=function(a){var b,c,d,e,f,g,h;b=$(a);if(b.data("size-to-fit-installed"))return;return h=!1,c=b.height(),d=a.style.height,e=parseInt(b.css("min-height")),g=function(e){b.height(e),c=b.height(),d=a.style.height},f=function(){if(!b.is(":visible"))return;g(b.textareaContentsHeight())},b.closest("form").on("reset",function(){return setTimeout(f,100)}),b.on("change",function(){return f()}),b.on("focus",function(){return setTimeout(f,0)}),b.on("input",function(){var f;if(h)return;if(d!==a.style.height){h=!0;return}f=b.textareaContentsHeight();if(f>c&&b.overflowOffset().bottom<=100)return;f!==c&&f>e&&g(f)}),f(),b.data("size-to-fit-installed",!0)},$.pageUpdate(b=function(){var b,c,d,e;e=$(this).find(".js-size-to-fit");for(c=0,d=e.length;c<d;c++)b=e[c],a(b)})}.call(this),function(){var a,b=this,c=[].slice;if(!Modernizr.eventsource)return;if(navigator.userAgent.match(/iPhone/))return;a=function(){function a(b){var c=this;this.base=b,this.flush=function(){return a.prototype.flush.apply(c,arguments)},this.setup=function(){return a.prototype.setup.apply(c,arguments)},this.readyState=this.CONNECTING,this.listeners={},setTimeout(this.setup,0)}return a.prototype.CONNECTING=0,a.prototype.OPEN=1,a.prototype.CLOSED=2,a.prototype.setup=function(){var a,b,c=this;if(b=this.popMessages())a={message:b};$.ajax({type:"POST",url:this.base,data:a,success:function(a,b,d){c.url=d.getResponseHeader("Location");if(!c.url)return c.close();c.readyState=c.OPEN,c.fire("open");if(c.readyState!==c.OPEN)return;return c.flush(),c.start()},error:function(){return c.close()}})},a.prototype.start=function(){var a=this;this.source=new EventSource(this.url),this.source.addEventListener("message",function(b){var c;c=JSON.parse(b.data),a.fire("message",c)}),this.source.addEventListener("reopen",function(b){a.fire("reopen")}),this.source.addEventListener("error",function(b){a.source.readyState===EventSource.CLOSED&&a.close()})},a.prototype.on=function(a,b){var c,d;return(d=(c=this.listeners)[a])==null&&(c[a]=[]),this.listeners[a].push(b),this},a.prototype.fire=function(){var a,b,d,e,f,g;e=arguments[0],a=2<=arguments.length?c.call(arguments,1):[];if(!(d=this.listeners[e]))return;for(f=0,g=d.length;f<g;f++)b=d[f],b.apply(this,a)},a.prototype.close=function(){var a;this.readyState=this.CLOSED,(a=this.source)!=null&&a.close(),this.source=null,this.url=null,this.fire("close")},a.prototype.send=function(a){var b,c;(b=this.outbox)==null&&(this.outbox=[]),this.outbox.push(a),this.fire("send",a),this.readyState===this.OPEN&&(c=this.flushTimeout)==null&&(this.flushTimeout=setTimeout(this.flush,0))},a.prototype.flush=function(){var a,b=this;if(!this.url)return;this.flushTimeout=null,(a=this.popMessages())&&$.ajax({type:"POST",url:""+this.url+"/message",data:{message:a},error:function(){return b.close()}})},a.prototype.popMessages=function(){var a;if(!this.outbox)return;return a=this.outbox,this.outbox=null,a},a}(),$.socket=function(b){return new a(b)}}.call(this),function(){if(!$.socket)return;$.fn.socket=function(){var a,b;if(!(a=this[0]))return;if(!$(a).is("link[rel=xhr-socket]"))return;return b=$(a).data("socket"),b&&b.readyState!==b.CLOSED?b:(b=$.socket(a.href),b.on("open",function(){return $(a).trigger("socket:open",[this])}),b.on("close",function(){return $(a).trigger("socket:close",[this])}),b.on("reopen",function(){return $(a).trigger("socket:reopen",[this])}),b.on("send",function(b){return $(a).trigger("socket:send",[b,this])}),b.on("message",function(b){return $(a).trigger("socket:message",[b,this])}),$(a).data("socket",b),b)}}.call(this),function(){var a,b,c,d,e;if(!$.fn.socket)return;e={},a={},d=function(b,c){var d,f,g,h,i,j,k;g=$(b).socket();if(!(f=$(c).attr("data-channel")))return;j=f.split(" ");for(h=0,i=j.length;h<i;h++)d=j[h],e[d]||(g.send({subscribe:d}),e[d]=!0),(k=a[d])==null&&(a[d]=[]),a[d].push(c)},$(document).on("socket:reopen","link[rel=xhr-socket]",function(a,b){var c,d;for(c in e)d=e[c],b.send({subscribe:c})}),$(document).on("socket:message","link[rel=xhr-socket]",function(b,c){var d,e;e=c[0],d=c[1];if(!e||!d)return;$(a[e]).trigger("socket:message",[d,e])}),b=null,$.pageUpdate(c=function(){var c,e,f,g;if(!(b!=null?b:b=$(document.head).find("link[rel=xhr-socket]")[0]))return;a={},g=$(".js-socket-channel");for(e=0,f=g.length;e<f;e++)c=g[e],d(b,c)})}.call(this),function(){$.fn.onFocusedInput=function(a,b){return this.on("focusin",a,function(a){var c,d;d="focusInput"+Math.floor(Math.random()*1e3),(c=b.call(this,a,d))&&$(this).on("input."+d,c),$(this).on("blur."+d,function(){$(this).off("."+d)})}),this}}.call(this),function(){$.fn.onFocusedKeydown=function(a,b){return this.on("focusin",a,function(a){var c,d;d="focusKeydown"+Math.floor(Math.random()*1e3),(c=b.call(this,a,d))&&$(this).on("keydown."+d,c),$(this).on("blur."+d,function(){$(this).off("."+d)})}),this}}.call(this),function(){$.fn.hasDirtyFields=function(){var a,b,c,d;d=this.find("input, textarea");for(b=0,c=d.length;b<c;b++){a=d[b];if(a.value!==a.defaultValue)return!0}return!1}}.call(this),function(){$.fn.hasFocus=function(){var a,b;return(b=this[0])?(a=document.activeElement,b===a||$.contains(b,a)):!1}}.call(this),function(){var a;a=null,document.addEventListener("mousedown",function(b){a=b},!0),document.addEventListener("mouseup",function(b){a=null},!0),$.fn.hasMousedown=function(){var b,c;return(c=this[0])?a?(b=a.target,c===b||$.contains(c,b)):!1:!1}}.call(this),function(){$.fn.hasSelection=function(){var a,b,c;return(b=this[0])?(c=window.getSelection(),c&&c.type==="Range"&&c.focusNode!=null?(a=c.focusNode,b===a||$.contains(b,a)):!1):!1}}.call(this),function(){$.fn.markedAsDirty=function(){return this.find(".js-dirty").length>0}}.call(this),function(){$.fn.preservingScrollPosition=function(a){var b,c,d,e;return b=this.overflowParent(),b[0].offsetParent==null&&(b=$(window)),d=this.positionedOffset(b),e=b.scrollTop()-d.top,c=b.scrollLeft()-d.left,a.call(this),d=this.positionedOffset(b),b.scrollTo({top:e+d.top,left:c+d.left}),this}}.call(this),function(){$.fn.textareaSelectionPosition=function(){var a,b,c;if(!(c=this[0]))return;if(c.selectionEnd==null)return;if(!(a=$(c).textareaMirror(c.selectionEnd)))return;return b=$(a).find(".js-marker").position(),setTimeout(function(){return $(a).remove()},5e3),b}}.call(this),function(){$.fn.touch=function(a){var b,c,d,e,f;if(a)for(c=0,e=this.length;c<e;c++)b=this[c],b.offsetHeight;else for(d=0,f=this.length;d<f;d++)b=this[d],b.className=b.className;return this}}.call(this),function(){$(document).on("focusin.delay",function(a){var b;b=a.target,$.data(b,"focus-delay-active")||$(b).fire("focusin:delay",function(){$.data(b,"focus-delay-active",!0),$(b).trigger("focusin:delayed")})}),$(document).on("focusout.delay",function(a){return setTimeout(function(){var b;b=a.target,b!==document.activeElement&&$(b).fire("focusout:delay",function(){$.removeData(a.target,"focus-delay-active"),$(b).trigger("focusout:delayed")})},200)})}.call(this),function(){var a,b=this;$.ajaxPoll=function(b){return new a(b)},$.ajaxPoll.version="1",a=function(){function a(b){var c=this;this.onAjaxStop=function(){return a.prototype.onAjaxStop.apply(c,arguments)},this.onAjaxStart=function(){return a.prototype.onAjaxStart.apply(c,arguments)},this.onComplete=function(){return a.prototype.onComplete.apply(c,arguments)},this.onError=function(){return a.prototype.onError.apply(c,arguments)},this.onSuccess=function(b,d,e){return a.prototype.onSuccess.apply(c,arguments)},this.onBeforeSend=function(b){return a.prototype.onBeforeSend.apply(c,arguments)},this.poll=function(){return a.prototype.poll.apply(c,arguments)},this.pause=function(){return a.prototype.pause.apply(c,arguments)},this.resume=function(b){return b==null&&(b=!1),a.prototype.resume.apply(c,arguments)},this.stop=function(){return a.prototype.stop.apply(c,arguments)},this.start=function(){return a.prototype.start.apply(c,arguments)},this.original=$.extend({},$.ajaxSettings,b),this.options=$.extend({},b,{beforeSend:this.onBeforeSend,success:this.onSuccess,error:this.onError,complete:this.onComplete,cache:!1,poller:this}),b.interval!=null&&(this.interval=b.interval,delete b.interval),b.decay!=null&&(this.decay=b.decay,delete b.decay),b.timeout!=null&&(this.timeout=b.timeout,delete b.timeout),this.interval=this.interval*1e3,this.timeout=this.timeout*1e3,this.start()}return a.prototype.interval=1,a.prototype.timeout=600,a.prototype.decay=1.1,a.prototype.start=function(){$(document).on("ajaxStart",this.onAjaxStart),$(document).on("ajaxStop",this.onAjaxStop),this.started=new Date,this.count=0,this.resume(!0)},a.prototype.stop=function(){$(document).off("ajaxStart",this.onAjaxStart),$(document).off("ajaxStop",this.onAjaxStop),this.pause(),this.started=null},a.prototype.resume=function(a){var b;a==null&&(a=!1);if(!this.started)return;this.paused=!1;if(this.timer)return;if(((b=this.xhr)!=null?b.readyState:void 0)<4)return;return a?this.poll():this.timer=setTimeout(this.poll,this.interval)},a.prototype.pause=function(){var a;if(!this.started||this.paused)return;this.paused=!0,this.timer&&clearTimeout(this.timer),((a=this.xhr)!=null?a.readyState:void 0)<4&&this.xhr.abort(),this.timer=this.xhr=null},a.prototype.poll=function(){var a;if(!this.started||this.paused)return;a=new Date-this.started;if(a>this.timeout){this.stop();return}if(this.ajaxStart){this.timer=setTimeout(this.poll,this.interval);return}return this.timer=null,this.count++,this.xhr=$.ajax(this.options)},a.prototype.onBeforeSend=function(a){a.setRequestHeader("X-Poller-Version",$.ajaxPoll.version);if(this.original.beforeSend)return this.original.beforeSend.apply(this,arguments)},a.prototype.onSuccess=function(a,b,c){c.status===202?(this.interval=this.interval*this.decay,this.resume()):this.pause();if(this.original.success)return this.original.success.apply(this,arguments)},a.prototype.onError=function(){this.pause();if(this.original.error)return this.original.error.apply(this,arguments)},a.prototype.onComplete=function(){return this.original.complete&&this.original.complete.apply(this,arguments),this.paused&&this.stop(),this.xhr=null},a.prototype.onAjaxStart=function(){this.ajaxStart=!0},a.prototype.onAjaxStop=function(){this.ajaxStart=!1},a}()}.call(this),function(){var a,b;a=function(a){var b;b=$(a);if(b.data("deferred-content-loading"))return;$.ajaxPoll({url:b.attr("data-url"),success:function(a,c,d){var e;if(d.status===202)return;return e=$($.parseHTML(a)),b.replaceWith(e),e.pageUpdate(),e.trigger("deferredContent:loaded")},error:function(){return b.addClass("error")}}),b.data("deferred-content-loading",!0)},$.pageUpdate(b=function(){var b,c,d,e;e=$(this).find(".js-deferred-content");for(c=0,d=e.length;c<d;c++)b=e[c],a(b)})}.call(this),function(){var a,b;b=function(a){var b,c,d,e,f,g;a==null&&(a=document),g=$(a).find(".js-relative-date");for(e=0,f=g.length;e<f;e++){c=g[e];if(b=moment($(c).attr("datetime"),"YYYY-MM-DDTHH:mm:ssZ"))d=b.fromNow(),d==="a few seconds ago"&&(d="just now"),c.textContent=d}},$.pageUpdate(a=function(){return b(this)}),setInterval(b,6e4)}.call(this),function(){$.escapeHTML=function(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/\//g,"&#x2F;")}}.call(this),function(){var a;$.pageUpdate(a=function(){var a,b,c,d,e,f,g,h,i,j;j=$(this).find(".js-obfuscate-email");for(h=0,i=j.length;h<i;h++){c=j[h],a=$(c);if(a.data("obfuscate-email-setup"))continue;if(g=a.attr("data-email")){d=decodeURIComponent(g),f=a.text().replace(/{email}/,d),a.html(f);if(e=a.attr("href"))b=$.escapeHTML($("<div>").html(d).text()),a.attr("href",e.replace(/{email}/,b));a.data("obfuscate-email-setup",!0)}}})}.call(this),function(){$.commafy=function(a){return(""+a).replace(/(^|[^\w.])(\d{4,})/g,function(a,b,c){return b+c.replace(/\d(?=(?:\d\d\d)+(?!\d))/g,"$&,")})}}.call(this),function(){$.pluralize=function(a,b){return b+(a>1||a===0?"s":"")}}.call(this),function(){var a,b;if(Modernizr.csspositionsticky)return;a=function(a){var b,c,d,e,f;b=$(a);if(b.data("sticky-installed"))return;f=b.offset().top;if(!(c=a.offsetParent))return;return e=$(c).offset().top,d=$(c).height(),document.addEventListener("scroll",function(){var a,c;c=window.scrollY,a=e+d-b.height(),a>f&&c>f?(b.addClass("stick"),a<c?b.addClass("stick-bottom"):b.removeClass("stick-bottom")):b.removeClass("stick stick-bottom")}),b.data("sticky-installed",!0)},$.pageUpdate(b=function(){var b,c,d,e;e=$(".sticky");for(c=0,d=e.length;c<d;c++)b=e[c],a(b)})}.call(this),FastClick.prototype.deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,FastClick.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),FastClick.prototype.deviceIsIOS4=FastClick.prototype.deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),FastClick.prototype.deviceIsIOSWithBadTarget=FastClick.prototype.deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),FastClick.prototype.needsClick=function(a){"use strict";switch(a.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(a.disabled)return!0;break;case"input":if(this.deviceIsIOS&&a.type==="file"||a.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(a.className)},FastClick.prototype.needsFocus=function(a){"use strict";switch(a.nodeName.toLowerCase()){case"textarea":case"select":return!0;case"input":switch(a.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!a.disabled&&!a.readOnly;default:return/\bneedsfocus\b/.test(a.className)}},FastClick.prototype.sendClick=function(a,b){"use strict";var c,d;document.activeElement&&document.activeElement!==a&&document.activeElement.blur(),d=b.changedTouches[0],c=document.createEvent("MouseEvents"),c.initMouseEvent("click",!0,!0,window,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null),c.forwardedTouchEvent=!0,a.dispatchEvent(c)},FastClick.prototype.focus=function(a){"use strict";var b;this.deviceIsIOS&&a.setSelectionRange?(b=a.value.length,a.setSelectionRange(b,b)):a.focus()},FastClick.prototype.updateScrollParent=function(a){"use strict";var b,c;b=a.fastClickScrollParent;if(!b||!b.contains(a)){c=a;do{if(c.scrollHeight>c.offsetHeight){b=c,a.fastClickScrollParent=c;break}c=c.parentElement}while(c)}b&&(b.fastClickLastScrollTop=b.scrollTop)},FastClick.prototype.getTargetElementFromEventTarget=function(a){return"use strict",a.nodeType===Node.TEXT_NODE?a.parentNode:a},FastClick.prototype.onTouchStart=function(a){"use strict";var b,c,d;if(a.targetTouches.length>1)return!0;b=this.getTargetElementFromEventTarget(a.target),c=a.targetTouches[0];if(this.deviceIsIOS){d=window.getSelection();if(d.rangeCount&&!d.isCollapsed)return!0;if(!this.deviceIsIOS4){if(c.identifier===this.lastTouchIdentifier)return a.preventDefault(),!1;this.lastTouchIdentifier=c.identifier,this.updateScrollParent(b)}}return this.trackingClick=!0,this.trackingClickStart=a.timeStamp,this.targetElement=b,this.touchStartX=c.pageX,this.touchStartY=c.pageY,a.timeStamp-this.lastClickTime<200&&a.preventDefault(),!0},FastClick.prototype.touchHasMoved=function(a){"use strict";var b=a.changedTouches[0];return Math.abs(b.pageX-this.touchStartX)>10||Math.abs(b.pageY-this.touchStartY)>10?!0:!1},FastClick.prototype.findControl=function(a){return"use strict",a.control!==undefined?a.control:a.htmlFor?document.getElementById(a.htmlFor):a.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},FastClick.prototype.onTouchEnd=function(a){"use strict";var b,c,d,e,f,g=this.targetElement;this.touchHasMoved(a)&&(this.trackingClick=!1,this.targetElement=null);if(!this.trackingClick)return!0;if(a.timeStamp-this.lastClickTime<200)return this.cancelNextClick=!0,!0;this.lastClickTime=a.timeStamp,c=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,this.deviceIsIOSWithBadTarget&&(f=a.changedTouches[0],g=document.elementFromPoint(f.pageX-window.pageXOffset,f.pageY-window.pageYOffset)),d=g.tagName.toLowerCase();if(d==="label"){b=this.findControl(g);if(b){this.focus(g);if(this.deviceIsAndroid)return!1;g=b}}else if(this.needsFocus(g)){if(a.timeStamp-c>100||this.deviceIsIOS&&window.top!==window&&d==="input")return this.targetElement=null,!1;this.focus(g);if(!this.deviceIsIOS4||d!=="select")this.targetElement=null,a.preventDefault();return!1}if(this.deviceIsIOS&&!this.deviceIsIOS4){e=g.fastClickScrollParent;if(e&&e.fastClickLastScrollTop!==e.scrollTop)return!0}return this.needsClick(g)||(a.preventDefault(),this.sendClick(g,a)),!1},FastClick.prototype.onTouchCancel=function(){"use strict",this.trackingClick=!1,this.targetElement=null},FastClick.prototype.onMouse=function(a){return"use strict",this.targetElement?a.forwardedTouchEvent?!0:a.cancelable?!this.needsClick(this.targetElement)||this.cancelNextClick?(a.stopImmediatePropagation?a.stopImmediatePropagation():a.propagationStopped=!0,a.stopPropagation(),a.preventDefault(),!1):!0:!0:!0},FastClick.prototype.onClick=function(a){"use strict";var b;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):a.target.type==="submit"&&a.detail===0?!0:(b=this.onMouse(a),b||(this.targetElement=null),b)},FastClick.prototype.destroy=function(){"use strict";var a=this.layer;this.deviceIsAndroid&&(a.removeEventListener("mouseover",this.onMouse,!0),a.removeEventListener("mousedown",this.onMouse,!0),a.removeEventListener("mouseup",this.onMouse,!0)),a.removeEventListener("click",this.onClick,!0),a.removeEventListener("touchstart",this.onTouchStart,!1),a.removeEventListener("touchend",this.onTouchEnd,!1),a.removeEventListener("touchcancel",this.onTouchCancel,!1)},FastClick.notNeeded=function(a){"use strict";var b;if(typeof window.ontouchstart=="undefined")return!0;if(/Chrome\/[0-9]+/.test(navigator.userAgent)){if(!FastClick.prototype.deviceIsAndroid)return!0;b=document.querySelector("meta[name=viewport]");if(b&&b.content.indexOf("user-scalable=no")!==-1)return!0}return a.style.msTouchAction==="none"?!0:!1},FastClick.attach=function(a){return"use strict",new FastClick(a)},typeof define!="undefined"&&define.amd?define(function(){return"use strict",FastClick}):typeof module!="undefined"&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.FastClick=FastClick,function(){var a;(a=window.GitHub)==null&&(window.GitHub={})}.call(this),function(a){a.fn.autocompleteField=function(b){var c=a.extend({searchVar:"q",url:null,delay:250,useCache:!1,extraParams:{},autoClearResults:!0,dataType:"html",minLength:1},b);return a(this).each(function(){function h(e){d&&d.readyState<4&&d.abort();if(c.useCache&&g.hasOwnProperty(e))b.trigger("autocomplete:finish",g[e]);else{var f={};f[c.searchVar]=e,f=a.extend(!0,c.extraParams,f),b.trigger("autocomplete:beforesend"),d=a.get(c.url,f,function(a){c.useCache&&(g[e]=a),b.val()===e&&b.trigger("autocomplete:finish",a)},c.dataType)}}function i(a){a.length>=c.minLength?f!=a&&(h(a),f=a):b.trigger("autocomplete:clear")}var b=a(this),d,e,f,g={};c.url!=null&&(b.attr("autocomplete","off"),b.keyup(function(a){a.preventDefault(),clearTimeout(e),e=setTimeout(function(){clearTimeout(e),i(b.val())},c.delay)}),b.blur(function(){f=null}))})}}(jQuery),function(a){a.fn.autosaveField=function(b){var c=a.extend({},a.fn.autosaveField.defaults,b);return this.each(function(){var b=a(this);if(b.data("autosaved-init"
))return;var d=b.attr("data-field-type")||":text",e=b.find(d),f=b.attr("data-action"),g=b.attr("data-name"),h=e.val(),i=function(){b.removeClass("errored"),b.removeClass("successful"),b.addClass("loading"),a.ajax({url:f,type:"POST",data:{_method:c.method,field:g,value:e.val()},success:function(){b.addClass("successful"),h=e.val()},error:function(a,c){b.attr("data-reset-on-error")&&e.val(h),a.status==422&&b.find(".error").text(a.responseText),b.addClass("errored")},complete:function(){b.removeClass("loading")}})};d==":text"?(e.blur(function(){a(this).val()!=h&&i()}),e.keyup(function(){b.removeClass("successful"),b.removeClass("errored")})):d=="input[type=checkbox]"&&e.change(function(){b.removeClass("successful"),b.removeClass("errored"),i()}),b.data("autosaved-init",!0)})},a.fn.autosaveField.defaults={method:"put"}}(jQuery),function(a){a.fn.caret=function(a){return typeof a=="undefined"?this[0].selectionStart:(this[0].focus(),this[0].setSelectionRange(a,a))},a.fn.caretSelection=function(a,b){return typeof a=="undefined"&&typeof b=="undefined"?[this[0].selectionStart,this[0].selectionEnd]:(this[0].focus(),this[0].setSelectionRange(a,b))}}(jQuery),DateInput=function(a){function b(c,d){typeof d!="object"&&(d={}),a.extend(this,b.DEFAULT_OPTS,d),this.input=a(c),this.bindMethodsToObj("show","hide","hideIfClickOutside","keydownHandler","selectDate"),this.build(),this.selectDate(),this.hide(),this.input.data("datePicker",this)}return b.DEFAULT_OPTS={month_names:["January","February","March","April","May","June","July","August","September","October","November","December"],short_month_names:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],short_day_names:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],start_of_week:1},b.prototype={build:function(){var b=a('<p class="month_nav"><span class="button prev" title="[Page-Up]">&#171;</span> <span class="month_name"></span> <span class="button next" title="[Page-Down]">&#187;</span></p>');this.monthNameSpan=a(".month_name",b),a(".prev",b).click(this.bindToObj(function(){this.moveMonthBy(-1)})),a(".next",b).click(this.bindToObj(function(){this.moveMonthBy(1)}));var c=a('<p class="year_nav"><span class="button prev" title="[Ctrl+Page-Up]">&#171;</span> <span class="year_name"></span> <span class="button next" title="[Ctrl+Page-Down]">&#187;</span></p>');this.yearNameSpan=a(".year_name",c),a(".prev",c).click(this.bindToObj(function(){this.moveMonthBy(-12)})),a(".next",c).click(this.bindToObj(function(){this.moveMonthBy(12)}));var d=a('<div class="nav"></div>').append(b,c),e="<table><thead><tr>";a(this.adjustDays(this.short_day_names)).each(function(){e+="<th>"+this+"</th>"}),e+="</tr></thead><tbody></tbody></table>",this.dateSelector=this.rootLayers=a('<div class="date_selector"></div>').append(d,e).insertAfter(this.input),this.tbody=a("tbody",this.dateSelector),this.input.change(this.bindToObj(function(){this.selectDate()})),this.selectDate()},selectMonth:function(b){var c=new Date(b.getFullYear(),b.getMonth(),1);if(!this.currentMonth||this.currentMonth.getFullYear()!=c.getFullYear()||this.currentMonth.getMonth()!=c.getMonth()){this.currentMonth=c;var d=this.rangeStart(b),e=this.rangeEnd(b),f=this.daysBetween(d,e),g="";for(var h=0;h<=f;h++){var i=new Date(d.getFullYear(),d.getMonth(),d.getDate()+h,12,0);this.isFirstDayOfWeek(i)&&(g+="<tr>"),i.getMonth()==b.getMonth()?g+='<td class="selectable_day" date="'+this.dateToString(i)+'">'+i.getDate()+"</td>":g+='<td class="unselected_month" date="'+this.dateToString(i)+'">'+i.getDate()+"</td>",this.isLastDayOfWeek(i)&&(g+="</tr>")}this.tbody.empty().append(g),this.monthNameSpan.empty().append(this.monthName(b)),this.yearNameSpan.empty().append(this.currentMonth.getFullYear()),a(".selectable_day",this.tbody).click(this.bindToObj(function(b){this.changeInput(a(b.target).attr("date"))})),a("td[date='"+this.dateToString(new Date)+"']",this.tbody).addClass("today"),a("td.selectable_day",this.tbody).mouseover(function(){a(this).addClass("hover")}),a("td.selectable_day",this.tbody).mouseout(function(){a(this).removeClass("hover")})}a(".selected",this.tbody).removeClass("selected"),a('td[date="'+this.selectedDateString+'"]',this.tbody).addClass("selected")},selectDate:function(a){typeof a=="undefined"&&(a=this.stringToDate(this.input.val())),a||(a=new Date),this.selectedDate=a,this.selectedDateString=this.dateToString(this.selectedDate),this.selectMonth(this.selectedDate)},changeInput:function(a){this.input.val(a).change(),this.hide()},show:function(){this.rootLayers.css("display","block"),a([window,document.body]).click(this.hideIfClickOutside),this.input.unbind("focus",this.show),this.rootLayers.keydown(this.keydownHandler),this.setPosition()},hide:function(){this.rootLayers.css("display","none"),a([window,document.body]).unbind("click",this.hideIfClickOutside),this.input.focus(this.show),this.rootLayers.unbind("keydown",this.keydownHandler)},hideIfClickOutside:function(a){a.target!=this.input[0]&&!this.insideSelector(a)&&this.hide()},insideSelector:function(b){$target=a(b.target);return $target.parents(".date_selector").length||$target.is(".date_selector");var c},keydownHandler:function(a){switch(a.keyCode){case 9:case 27:this.hide();return;case 13:this.changeInput(this.selectedDateString);break;case 33:this.moveDateMonthBy(a.ctrlKey?-12:-1);break;case 34:this.moveDateMonthBy(a.ctrlKey?12:1);break;case 38:this.moveDateBy(-7);break;case 40:this.moveDateBy(7);break;case 37:this.moveDateBy(-1);break;case 39:this.moveDateBy(1);break;default:return}a.preventDefault()},stringToDate:function(a){var b;return(b=a.match(/^(\d{1,2}) ([^\s]+) (\d{4,4})$/))?new Date(b[3],this.shortMonthNum(b[2]),b[1],12,0):null},dateToString:function(a){return a.getDate()+" "+this.short_month_names[a.getMonth()]+" "+a.getFullYear()},setPosition:function(){var a=this.input.offset();this.rootLayers.css({top:a.top+this.input.outerHeight(),left:a.left}),this.ieframe&&this.ieframe.css({width:this.dateSelector.outerWidth(),height:this.dateSelector.outerHeight()})},moveDateBy:function(a){var b=new Date(this.selectedDate.getFullYear(),this.selectedDate.getMonth(),this.selectedDate.getDate()+a);this.selectDate(b)},moveDateMonthBy:function(a){var b=new Date(this.selectedDate.getFullYear(),this.selectedDate.getMonth()+a,this.selectedDate.getDate());b.getMonth()==this.selectedDate.getMonth()+a+1&&b.setDate(0),this.selectDate(b)},moveMonthBy:function(a){var b=new Date(this.currentMonth.getFullYear(),this.currentMonth.getMonth()+a,this.currentMonth.getDate());this.selectMonth(b)},monthName:function(a){return this.month_names[a.getMonth()]},bindToObj:function(a){var b=this;return function(){return a.apply(b,arguments)}},bindMethodsToObj:function(){for(var a=0;a<arguments.length;a++)this[arguments[a]]=this.bindToObj(this[arguments[a]])},indexFor:function(a,b){for(var c=0;c<a.length;c++)if(b==a[c])return c},monthNum:function(a){return this.indexFor(this.month_names,a)},shortMonthNum:function(a){return this.indexFor(this.short_month_names,a)},shortDayNum:function(a){return this.indexFor(this.short_day_names,a)},daysBetween:function(a,b){return a=Date.UTC(a.getFullYear(),a.getMonth(),a.getDate()),b=Date.UTC(b.getFullYear(),b.getMonth(),b.getDate()),(b-a)/864e5},changeDayTo:function(a,b,c){var d=c*(Math.abs(b.getDay()-a-c*7)%7);return new Date(b.getFullYear(),b.getMonth(),b.getDate()+d)},rangeStart:function(a){return this.changeDayTo(this.start_of_week,new Date(a.getFullYear(),a.getMonth()),-1)},rangeEnd:function(a){return this.changeDayTo((this.start_of_week-1)%7,new Date(a.getFullYear(),a.getMonth()+1,0),1)},isFirstDayOfWeek:function(a){return a.getDay()==this.start_of_week},isLastDayOfWeek:function(a){return a.getDay()==(this.start_of_week-1)%7},adjustDays:function(a){var b=[];for(var c=0;c<a.length;c++)b[c]=a[(c+this.start_of_week)%7];return b}},a.fn.date_input=function(a){return this.each(function(){new b(this,a)})},a.date_input={initialize:function(b){a("input.date_input").date_input(b)}},b}(jQuery),function(a){a.fn.enticeToAction=function(b){var c=a.extend({},a.fn.enticeToAction.defaults,b);return this.each(function(){var b=a(this);b.addClass("entice"),b.attr("title",c.title);switch(c.direction){case"downwards":var d="n";case"upwards":var d="s";case"rightwards":var d="w";case"leftwards":var d="e"}b.tipsy({gravity:d}),this.onclick=function(){return!1},this.href="#"})},a.fn.enticeToAction.defaults={title:"You must be signed in to use this feature",direction:"downwards"}}(jQuery),function(a){a.fn.errorify=function(b,c){var d=a.extend({},a.fn.errorify.defaults,c);return this.each(function(){var c=a(this);c.removeClass("warn"),c.addClass("errored"),c.find("p.note").hide(),c.find("dd.error").remove(),c.find("dd.warning").remove();var d=a("<dd>").addClass("error").text(b);c.append(d)})},a.fn.errorify.defaults={},a.fn.unErrorify=function(b){var c=a.extend({},a.fn.unErrorify.defaults,b);return this.each(function(){var b=a(this);b.removeClass("errored warn"),b.find("p.note").show(),b.find("dd.error").remove(),b.find("dd.warning").remove()})},a.fn.unErrorify.defaults={}}(jQuery),$.fn.selectableList=function(a,b){return $(this).each(function(){var c=$(this),d=$.extend({toggleClassName:"selected",wrapperSelector:"a",mutuallyExclusive:!1,itemParentSelector:"li",enableShiftSelect:!1,ignoreLinks:!1},b);return c.delegate(a+" "+d.itemParentSelector+" "+d.wrapperSelector,"click",function(b){if(b.which>1||b.metaKey||d.ignoreLinks&&$(b.target).closest("a").length)return!0;var e=$(this),f=e.find(":checkbox, :radio"),g=c.find(a+" ."+d.toggleClassName),h=c.find(a+" *[data-last]");!e.is(":checkbox, :radio")&&b.target!=f[0]&&(f.prop("checked")&&!f.is(":radio")?f.prop("checked",!1):f.prop("checked",!0)),d.mutuallyExclusive&&g.removeClass(d.toggleClassName),e.toggleClass(d.toggleClassName),f.change();if(d.enableShiftSelect&&b.shiftKey&&g.length>0){if(h.length>0){var i=h.offset().top,j=e.offset().top,k="#"+e.attr("id"),l=$,m=$,n=$;i>j?l=h.prevUntil(k):i<j&&(l=h.nextUntil(k)),m=l.find(":checkbox"),n=l.find(":checked"),n.length==m.length?(l.removeClass(d.toggleClassName),m.prop("checked",!1)):(l.addClass(d.toggleClassName),m.prop("checked",!0))}e.trigger("selectableList:shiftClicked")}h.removeAttr("data-last"),e.attr("data-last",!0)}),c.delegate(a+" li :checkbox,"+a+" li :radio","change",function(b){var e=$(this),f=e.closest(d.wrapperSelector);d.mutuallyExclusive&&c.find(a+" ."+d.toggleClassName).removeClass(d.toggleClassName),$(this).prop("checked")?f.addClass(d.toggleClassName):f.removeClass(d.toggleClassName)}),c.find(a)})},function(){var a;a={},$(document).bind("keydown",function(b){var c;if(b.target!==document.body)return;if(c=a[b.hotkey])return c.apply(this,arguments)}),$.hotkeys=function(a){var b,c;for(b in a)c=a[b],$.hotkey(b,c);return this},$.hotkey=function(b,c){return a[b]=c,this}}.call(this),function(a,b,c){function j(a){var b={},d=/^jQuery\d+$/;return c.each(a.attributes,function(a,c){c.specified&&!d.test(c.name)&&(b[c.name]=c.value)}),b}function k(a,d){var e=this,f=c(e);if(e.value==f.attr("placeholder")&&f.hasClass("placeholder"))if(f.data("placeholder-password")){f=f.hide().next().show().attr("id",f.removeAttr("id").data("placeholder-id"));if(a===!0)return f[0].value=d;f.focus()}else e.value="",f.removeClass("placeholder"),e==b.activeElement&&e.select()}function l(){var a,b=this,d=c(b),e=d,f=this.id;if(b.value==""){if(b.type=="password"){if(!d.data("placeholder-textinput")){try{a=d.clone().attr({type:"text"})}catch(g){a=c("<input>").attr(c.extend(j(this),{type:"text"}))}a.removeAttr("name").data({"placeholder-password":!0,"placeholder-id":f}).bind("focus.placeholder",k),d.data({"placeholder-textinput":a,"placeholder-id":f}).before(a)}d=d.removeAttr("id").hide().prev().attr("id",f).show()}d.addClass("placeholder"),d[0].value=d.attr("placeholder")}else d.removeClass("placeholder")}var d="placeholder"in b.createElement("input"),e="placeholder"in b.createElement("textarea"),f=c.fn,g=c.valHooks,h,i;d&&e?(i=f.placeholder=function(){return this},i.input=i.textarea=!0):(i=f.placeholder=function(){var a=this;return a.filter((d?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":k,"blur.placeholder":l}).data("placeholder-enabled",!0).trigger("blur.placeholder"),a},i.input=d,i.textarea=e,h={get:function(a){var b=c(a);return b.data("placeholder-enabled")&&b.hasClass("placeholder")?"":a.value},set:function(a,d){var e=c(a);return e.data("placeholder-enabled")?(d==""?(a.value=d,a!=b.activeElement&&l.call(a)):e.hasClass("placeholder")?k.call(a,!0,d)||(a.value=d):a.value=d,e):a.value=d}},d||(g.input=h),e||(g.textarea=h),c(function(){c(b).delegate("form","submit.placeholder",function(){var a=c(".placeholder",this).each(k);setTimeout(function(){a.each(l)},10)})}),c(a).bind("beforeunload.placeholder",function(){c(".placeholder").each(function(){this.value=""})}))}(this,document,jQuery),function(a){function b(a,b){return typeof a=="function"?a.call(b):a}function c(a){while(a=a.parentNode)if(a==document)return!0;return!1}function d(b,c){this.$element=a(b),this.options=c,this.enabled=!0,this.fixTitle()}d.prototype={show:function(){var c=this.getTitle();if(c&&this.enabled){var d=this.tip();d.find(".tipsy-inner")[this.options.html?"html":"text"](c),d[0].className="tipsy",d.detach().css({top:0,left:0,visibility:"hidden",display:"block"}),this.options.className&&d.addClass(b(this.options.className,this.$element[0])),this.options.inline?d.insertAfter(this.$element[0]):d.prependTo(document.body);var e=a.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight}),f=d[0].offsetWidth,g=d[0].offsetHeight,h=b(this.options.gravity,this.$element[0]),i;switch(h.charAt(0)){case"n":i={top:e.top+e.height+this.options.offset,left:e.left+e.width/2-f/2};break;case"s":i={top:e.top-g-this.options.offset,left:e.left+e.width/2-f/2};break;case"e":i={top:e.top+e.height/2-g/2,left:e.left-f-this.options.offset};break;case"w":i={top:e.top+e.height/2-g/2,left:e.left+e.width+this.options.offset}}h.length==2&&(h.charAt(1)=="w"?i.left=e.left+e.width/2-15:i.left=e.left+e.width/2-f+15),d.offset(i).addClass("tipsy-"+h),d.find(".tipsy-arrow")[0].className="tipsy-arrow tipsy-arrow-"+h.charAt(0),this.options.fade?d.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity}):d.css({visibility:"visible",opacity:this.options.opacity})}},hide:function(){this.options.fade?this.tip().stop().fadeOut(function(){a(this).remove()}):this.tip().remove()},fixTitle:function(){var a=this.$element;(a.attr("title")||typeof a.attr("original-title")!="string")&&a.attr("original-title",a.attr("title")||"").removeAttr("title")},getTitle:function(){var a,b=this.$element,c=this.options;return c.content?c.content:(this.fixTitle(),typeof c.title=="string"?a=b.attr(c.title=="title"?"original-title":c.title):typeof c.title=="function"&&(a=c.title.call(b[0])),a=(""+a).replace(/(^\s*|\s*$)/,""),a||c.fallback)},tip:function(){return this.$tip||(this.$tip=a('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"></div>'),this.$tip.data("tipsy-pointee",this.$element[0])),this.$tip},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled}},a.fn.tipsy=function(b){function e(c){var e=a.data(c,"tipsy");return e||(e=new d(c,a.fn.tipsy.elementOptions(c,b)),a.data(c,"tipsy",e)),e}function f(){var a=e(this);a.hoverState="in",b.delayIn==0?a.show():(a.fixTitle(),setTimeout(function(){a.hoverState=="in"&&a.show()},b.delayIn))}function g(){var a=e(this);a.hoverState="out",b.delayOut==0?a.hide():setTimeout(function(){a.hoverState=="out"&&a.hide()},b.delayOut)}if(b===!0)return this.data("tipsy");if(typeof b=="string"){var c=this.data("tipsy");return c&&c[b](),this}b=a.extend({},a.fn.tipsy.defaults,b),b.live||this.each(function(){e(this)});if(b.trigger!="manual"){var h=b.live?"live":"bind",i=b.trigger=="hover"?"mouseenter":"focus",j=b.trigger=="hover"?"mouseleave":"blur";this[h](i,f)[h](j,g)}return this},a.fn.tipsy.defaults={className:null,delayIn:0,delayOut:0,fade:!1,fallback:"",gravity:"n",html:!1,inline:!1,live:!1,offset:0,opacity:.8,title:"title",trigger:"hover"},a.fn.tipsy.revalidate=function(){a(".tipsy").each(function(){var b=a.data(this,"tipsy-pointee");(!b||!c(b))&&a(this).remove()})},a.fn.tipsy.elementOptions=function(b,c){return a.metadata?a.extend({},c,a(b).metadata()):c},a.fn.tipsy.autoNS=function(){return a(this).offset().top>a(document).scrollTop()+a(window).height()/2?"s":"n"},a.fn.tipsy.autoWE=function(){return a(this).offset().left>a(document).scrollLeft()+a(window).width()/2?"e":"w"},a.fn.tipsy.autoBounds=function(b,c){return function(){var d={ns:c[0],ew:c.length>1?c[1]:!1},e=a(document).scrollTop()+b,f=a(document).scrollLeft()+b,g=a(this);return g.offset().top<e&&(d.ns="n"),g.offset().left<f&&(d.ew="w"),a(window).width()+a(document).scrollLeft()-g.offset().left<b&&(d.ew="e"),a(window).height()+a(document).scrollTop()-g.offset().top<b&&(d.ns="s"),d.ns+(d.ew?d.ew:"")}}}(jQuery),function(a){a.fn.popover=function(a){if(a=="destroy")this.tipsy("hide").data("tipsy",null);else if(a=="show")this.tipsy("show");else if(a=="hide")this.tipsy("hide");else{tipsyOptions={inline:!0,trigger:"manual",opacity:1,className:"popover",content:a.content,html:a.html};switch(a.placement){case"left":tipsyOptions.gravity="e";break;case"right":tipsyOptions.gravity="w";break;case"up":tipsyOptions.gravity="s";break;case"down":tipsyOptions.gravity="n"}this.tipsy("hide").data("tipsy",null),this.tipsy(tipsyOptions)}return this}}(jQuery),function(a){function b(a,b){var c=a.find("a");if(c.length>1){var d=c.filter(".selected"),e=c.get().indexOf(d.get(0));return e+=b,e>=c.length?e=0:e<0&&(e=c.length-1),d.removeClass("selected"),c.eq(e).addClass("selected"),!0}}a.fn.quicksearch=function(c){var d=a.extend({url:null,delay:150,spinner:null,insertSpinner:null,loading:a(".quicksearch-loading")},c);d.insertSpinner&&!d.spinner&&(d.spinner=a('<img src="'+GitHub.Ajax.spinner+'" alt="" class="spinner" width="16" />'));var e=function(a){return d.results.html(a).show()};return d.results.delegate("a","mouseover",function(b){var c=a(this);c.hasClass("selected")||(d.results.find("a.selected").removeClass("selected"),c.addClass("selected"))}),this.each(function(){function f(){d.insertSpinner&&(d.spinner.parent().length||d.insertSpinner.call(c,d.spinner),d.spinner.show()),c.trigger("quicksearch.loading"),d.loading&&e(d.loading.html())}function g(){d.insertSpinner&&d.spinner.hide(),c.trigger("quicksearch.loaded")}var c=a(this);c.autocompleteField({url:d.url||c.attr("data-url"),dataType:d.dataType,delay:d.delay,useCache:!0,minLength:2}).bind("keyup",function(a){a.which!=13&&c.val().length>=2&&d.results.is(":empty")&&f()}).bind("autocomplete:beforesend",function(a,b){f()}).bind("autocomplete:finish",function(a,b){e(b||{}),g()}).bind("autocomplete:clear",function(a){d.results.html("").hide(),g()}).bind("focus",function(a){c.val()&&c.trigger("keyup")}).bind("blur",function(a){setTimeout(function(){c.trigger("autocomplete:clear")},250)}).bind("keydown",function(c){switch(c.hotkey){case"up":if(b(d.results,-1))return!1;break;case"down":if(b(d.results,1))return!1;break;case"esc":return a(this).blur(),!1;case"enter":var e,f=d.results.find("a.selected");if(f.length)return a(this).blur(),f.hasClass("initial")?f.closest("form").submit():window.location=f.attr("href"),!1;a(this).trigger("autocomplete:clear")}})})}}(jQuery),function(a){a.smartPoller=function(b,c){a.isFunction(b)&&(c=b,b=1e3),function d(){setTimeout(function(){c.call(this,d)},b),b*=1.5}()}}(jQuery),function(a){function e(a){return"tagName"in a?a:a.parentNode}try{window.document.createEvent("TouchEvent")}catch(b){return!1}var c={},d;a(document).ready(function(){a(document.body).bind("touchstart",function(a){var b=Date.now(),f=b-(c.last||b);c.target=e(a.originalEvent.touches[0].target),d&&clearTimeout(d),c.x1=a.originalEvent.touches[0].pageX,f>0&&f<=250&&(c.isDoubleTap=!0),c.last=b}).bind("touchmove",function(a){c.x2=a.originalEvent.touches[0].pageX}).bind("touchend",function(b){c.isDoubleTap?(a(c.target).trigger("doubleTap"),c={}):c.x2>0?(Math.abs(c.x1-c.x2)>30&&a(c.target).trigger("swipe")&&a(c.target).trigger("swipe"+(c.x1-c.x2>0?"Left":"Right")),c.x1=c.x2=c.last=0):"last"in c&&(d=setTimeout(function(){d=null,a(c.target).trigger("tap"),c={}},250))}).bind("touchcancel",function(){c={}})}),["swipe","swipeLeft","swipeRight","doubleTap","tap"].forEach(function(b){a.fn[b]=function(a){return this.bind(b,a)}})}(jQuery),function(){var a;a=function(a){return debug("AJAX Error",a),$("#ajax-error-message").show(function(){return $(this).addClass("visible")})},$(document).on("ajaxError","[data-remote]",function(b,c,d,e){if(e==="canceled")return;return/<html/.test(c.responseText)?(a(e),b.stopImmediatePropagation()):setTimeout(function(){if(b.isDefaultPrevented())return;return a(e)},0)}),$(document).on("ajaxBeforeSend","[data-remote]",function(a,b,c){return $("#ajax-error-message").hide().removeClass("visible")}),$(document).on("click",".ajax-error-dismiss",function(){return $("#ajax-error-message").hide().removeClass("visible"),!1})}.call(this),function(){$(document).on("ajaxSend","[data-remote]",function(a){if(a.isDefaultPrevented())return;return $(this).addClass("loading"),$(document.documentElement).addClass("ajax-loading")}),$(document).on("ajaxComplete","[data-remote]",function(){return $(document.documentElement).removeClass("ajax-loading"),$(this).removeClass("loading")})}.call(this),function(){var a;a=function(a){var b,c,d;a=$(a),b=a.val();if(!$.trim(b))return;a.addClass("is-autocheck-loading"),a.closest("dl.form").addClass("is-loading"),a.closest("dl.form").removeClass("errored successed"),a.removeClass("is-autocheck-successful is-autocheck-errored"),(d=a.data("autocheck-xhr"))!=null&&d.abort(),a.trigger("autocheck:send"),c=$.ajax({type:"POST",url:a.attr("data-autocheck-url"),data:{value:b},complete:function(b,c){if(c==="abort")return;return a.removeClass("is-autocheck-loading"),a.closest("dl.form").removeClass("is-loading"),a.trigger("autocheck:complete",arguments)},success:function(){return a.addClass("is-autocheck-successful"),a.closest("dl.form").unErrorify().addClass("successed"),a.trigger("autocheck:success",arguments)},error:function(b,c){if(c==="abort")return;if(!a.is(":visible"))return;return a.addClass("is-autocheck-errored"),/<html/.test(b.responseText)?a.closest("dl.form").errorify("Something went wrong."):a.closest("dl.form").errorify(b.responseText),a.trigger("autocheck:error",arguments)}}),a.data("autocheck-xhr",c)},$(document).on("change","input[data-autocheck-url]",function(){return a(this)}),$(document).on("focusin","input[data-autocheck-url]",function(){return $(this).on("throttled:input.autocheck",function(){return a(this)}),$(this).on("blur.autocheck",function(){return $(this).off(".autocheck")})})}.call(this),function(){var a,b=this;a=function(){function a(){var b=this;this.onNavigationOpen=function(c){return a.prototype.onNavigationOpen.apply(b,arguments)},this.onNavigationKeyDown=function(c){return a.prototype.onNavigationKeyDown.apply(b,arguments)},this.onResultsChange=function(c){return a.prototype.onResultsChange.apply(b,arguments)},this.onInputChange=function(c,d){return a.prototype.onInputChange.apply(b,arguments)},this.onResultsMouseDown=function(c){return a.prototype.onResultsMouseDown.apply(b,arguments)},this.onInputBlur=function(c){return a.prototype.onInputBlur.apply(b,arguments)},this.onInputFocus=function(c){return a.prototype.onInputFocus.apply(b,arguments)},$(document).on("focusin","input[data-autocomplete]",this.onInputFocus),this.focusedInput=this.focusedResults=null,this.mouseDown=!1}return a.prototype.bindEvents=function(a,b){return $(a).on("blur",this.onInputBlur),$(a).on("throttled:input",this.onInputChange),$(b).on("mousedown",this.onResultsMouseDown),$(b).on("autocomplete:change",this.onResultsChange),$(b).on("navigation:open","[data-autocomplete-value]",this.onNavigationOpen),$(b).on("navigation:keydown","[data-autocomplete-value]",this.onNavigationKeyDown)},a.prototype.unbindEvents=function(a,b){return $(a).off("blur",this.onInputBlur),$(a).off("throttled:input",this.onInputChange),$(b).off("mousedown",this.onResultsMouseDown),$(b).off("autocomplete:change",this.onResultsChange),$(b).off("navigation:open","[data-autocomplete-value]",this.onNavigationOpen),$(b).off("navigation:keydown","[data-autocomplete-value]",this.onNavigationKeyDown)},a.prototype.onInputFocus=function(a){var b,c;b=a.currentTarget,c=document.getElementById($(b).attr("data-autocomplete")),this.focusedInput=b,this.focusedResults=c,this.bindEvents(b,c),$(b).trigger("autocomplete:focus"),$(b).trigger("autocomplete:search",[$(b).val()])},a.prototype.onInputBlur=function(a){var b,c;b=a.currentTarget,c=this.focusedResults,this.mouseDown||(this.hideResults(),this.inputValue=null,this.focusedInput=this.focusedResults=null,this.unbindEvents(b,c),$(b).trigger("autocomplete:blur"))},a.prototype.onResultsMouseDown=function(a){var b,c=this;this.mouseDown=!0,b=function(){return c.mouseDown=!1,$(document).off("mouseup",b)},$(document).on("mouseup",b)},a.prototype.onInputChange=function(a,b){var c;c=a.currentTarget,this.inputValue!==b&&($(c).removeAttr("data-autocompleted"),$(c).trigger("autocomplete:autocompleted:changed")),$(c).trigger("autocomplete:change",[b]),$(c).trigger("autocomplete:search",[b])},a.prototype.onResultsChange=function(a){var b,c;c=$(this.focusedInput).val(),b=$(this.focusedResults).find("[data-autocomplete-value]"),b.length===0?this.hideResults():this.inputValue!==c&&(this.inputValue=c,this.showResults(),$(this.focusedInput).is("[data-autocomplete-autofocus]")&&$(this.focusedResults).find("ul").navigation("focus"))},a.prototype.onNavigationKeyDown=function(a){switch(a.hotkey){case"tab":return this.onNavigationOpen(a),!1;case"esc":return this.hideResults(),!1}},a.prototype.onNavigationOpen=function(a){var b,c;b=a.currentTarget,c=$(b).attr("data-autocomplete-value"),this.inputValue=c,$(this.focusedInput).val(c),$(this.focusedInput).attr("data-autocompleted",c),$(this.focusedInput).trigger("autocomplete:autocompleted:changed",[c]),$(this.focusedInput).trigger("autocomplete:result",[c]),$(b).removeClass("active"),this.hideResults()},a.prototype.showResults=function(a,b){var c,d,e,f,g;a==null&&(a=this.focusedInput),b==null&&(b=this.focusedResults);if($(b).is(":visible"))return;return g=$(a).offset(),e=g.top,d=g.left,c=e+$(a).innerHeight(),f=$(a).innerWidth(),$(b).css({display:"block",position:"absolute",width:f+2}),$(b).offset({top:c+5,left:d+1}),$(a).addClass("js-navigation-enable"),$(b).find("ul").navigation("push"),$(b).show()},a.prototype.hideResults=function(a,b){a==null&&(a=this.focusedInput),b==null&&(b=this.focusedResults);if(!$(b).is(":visible"))return;return $(a).removeClass("js-navigation-enable"),$(b).find("ul").navigation("pop"),$(b).hide()},a}(),new a}.call(this),function(){var a,b=this;a=function(){function a(b){var c=this;this.container=b,this.hoverEnd=function(){return a.prototype.hoverEnd.apply(c,arguments)},this.hoverStart=function(){return a.prototype.hoverStart.apply(c,arguments)},this.items=this.container.find(".avatars li"),this.items.length>1&&this.container.hover(this.hoverStart,this.hoverEnd)}return a.prototype.namespace="avatarStack",a.prototype.hoverStart=function(){return this.container.addClass("avatar-stack-focus")},a.prototype.hoverEnd=function(){return this.container.removeClass("avatar-stack-focus")},a}(),$(function(){return $(".avatar-stack").each(function(){return new a($(this))})})}.call(this),function(){$(document).on("submit",".js-braintree-encrypt",function(){var a;a=Braintree.create($(this).attr("data-braintree-key")),a.encryptForm(this)})}.call(this),function(){var a;a=function(a){if(a.match(/^5[1-5]/))return"master";if(a.match(/^4/))return"visa";if(a.match(/^3(4|7)/))return"american_express";if(a.match(/^6011/))return"discover";if(a.match(/^(30[0-5]|36|38)/))return"diners_club";if(a.match(/^(3|2131|1800)/))return"jcb"},$(document).onFocusedInput(".js-card-select-number-field",function(){var b,c,d;return c=$(this).closest("form"),b=c.find(".js-card"),d=c.find(".js-card-select-type-field"),function(){var c,e,f,g;e=a($(this).val());for(f=0,g=b.length;f<g;f++)c=b[f],$(c).toggleClass("disabled",$(c).attr("data-name")!==e);d.val(e)}})}.call(this),function(){$(document).on("submit",".js-credit-card-form",function(a){var b;b=$(this).find(".js-optional-postal-code");if(b.val().match(/\S/))return b.attr("name",b.attr("data-name"))})}.call(this),function(){$(document).on("click:prepare",".minibutton.disabled",function(a){a.preventDefault(),a.stopPropagation()})}.call(this),function(){var a,b=this;a=function(){function a(b){var c=this;this.container=b,this.selectTab=function(b){return a.prototype.selectTab.apply(c,arguments)},this.clearAll=function(){return a.prototype.clearAll.apply(c,arguments)},this.prevSlide=function(){return a.prototype.prevSlide.apply(c,arguments)},this.nextSlide=function(){return a.prototype.nextSlide.apply(c,arguments)},this.reset=function(){return a.prototype.reset.apply(c,arguments)},this.start=function(){return a.prototype.start.apply(c,arguments)},this.stop=function(){return a.prototype.stop.apply(c,arguments)},this.handleClick=function(b){return a.prototype.handleClick.apply(c,arguments)},this.handleKeynav=function(b){return a.prototype.handleKeynav.apply(c,arguments)},this.currentTab=$(this.container).find(".js-carousel-slides .selected"),this.currentTab.length||this.selectTab(0),this.start(),$(this.container).find(".js-carousel-slides").hover(this.stop,this.start)}return a.prototype.namespace="carousel",a.prototype.TIMEOUT=15e3,a.prototype.handleKeynav=function(a){if(a.target!==document.body)return;if(a.hotkey==="left"||a.keyCode===37)this.prevSlide(),this.reset(),a.preventDefault();else if(a.hotkey==="right"||a.keyCode===39)this.nextSlide(),this.reset(),a.preventDefault()},a.prototype.handleClick=function(a){return this.reset(),this.selectTab($(a.currentTarget).closest("li").index()),!1},a.prototype.stop=function(){return clearInterval(this.interval),this.interval=null},a.prototype.start=function(){return this.interval=setInterval(this.nextSlide,this.TIMEOUT)},a.prototype.reset=function(){this.stop();if(!this.interval)return this.start()},a.prototype.nextSlide=function(){var a;if(!$(".js-carousel-slides").length){this.stop(),$(document).off("keyup.carousel");return}return a=this.currentTab.index(),a+1===$(this.container).find(".js-carousel-slides li").length?a=0:a++,this.selectTab(a)},a.prototype.prevSlide=function(){var a;return a=this.currentTab.index(),a===0?a=$(this.container).find(".js-carousel-slides li").length-1:a--,this.selectTab(a)},a.prototype.clearAll=function(){return this.container.find(".selected").removeClass("selected"),this.container.find(".previous").removeClass("previous"),this.container.find(".next1").removeClass("next1"),this.container.find(".next2").removeClass("next2"),this.container.find(".next3").removeClass("next3"),this.container.find(".next4").removeClass("next4")},a.prototype.selectTab=function(a){var b,c,d,e,f,g,h,i;return this.clearAll(),i=$(this.container).find(".js-carousel-slides li"),c=i.length,b=function(a,b){return a+1===b?0:a+1},h=a===0?c-1:a-1,d=b(a,c),e=b(d,c),f=b(e,c),g=b(f,c),i.eq(h).addClass("previous"),this.currentTab=i.eq(a).addClass("selected"),i.eq(d).addClass("next1"),i.eq(e).addClass("next2"),i.eq(f).addClass("next3"),i.eq(g).addClass("next4")},a}(),$.pageUpdate(function(){var b,c;b=$(".js-carousel");if(b.length)return c=new a($(b)),$(document).on("keyup.carousel",c.handleKeynav)})}.call(this),function(){var a,b;(a=window.GitHub)==null&&(window.GitHub={}),window.GitHub.assetHostUrl=(b=$("link[rel=assets]").prop("href"))!=null?b:"/"}.call(this),function(){var a;ZeroClipboard.setDefaults({moviePath:""+GitHub.assetHostUrl+"flash/ZeroClipboard.swf",trustedDomains:location.hostname,allowScriptAccess:"always"}),$.pageUpdate(a=function(){var a;if($(".js-zeroclipboard").length)return a=new ZeroClipboard($(".js-zeroclipboard")),a.on("load",function(a,b){return $(a.htmlBridge).tipsy()}),a.on("complete",function(a,b){var c;return c=$(a.htmlBridge),c.prop("title",$(this).attr("data-copied-hint")),c.tipsy("show")}),a.on("noflash wrongflash",function(a,b){return $(".js-zeroclipboard").hide()})})}.call(this),function(){$(document).on("ajaxBeforeSend",".js-new-comment-form",function(a){if(this!==a.target)return;if($(this).data("remote-xhr"))return!1}),$(document).on("ajaxSend",".js-new-comment-form",function(a){if(this!==a.target)return;return $(this).find(".js-comment-form-error"
).hide()}),$(document).on("ajaxSuccess",".js-new-comment-form",function(a){if(this!==a.target)return;return this.reset(),$(this).find(".js-write-tab").click()}),$(document).on("ajaxError",".js-new-comment-form",function(a,b){var c,d;if(this!==a.target)return;return debug("ajaxError for js-new-comment-form"),d="There was an error creating your comment",b.status===422&&(c=JSON.parse(b.responseText),c.errors&&(d+=": "+c.errors.join(", "))),$(this).find(".js-comment-form-error").show().text(d),!1})}.call(this),function(){$(document).onFocusedInput(".js-new-comment-form .js-comment-field",function(){var a,b,c,d,e;b=$(this).closest(".js-new-comment-form"),a=b.find(".js-comment-and-button").first();if(!a[0])return;return d=a.text(),e=a.attr("data-original-text"),c=a.attr("data-comment-text"),function(){var b,f;f=$(this).val().trim()!=="",b=f?c:e,b!==d&&a.text(d=b)}})}.call(this),function(){var a,b,c,d,e,f,g,h,i,j,k,l,m;l=sessionStorage,g=localStorage,i="draft:",e=/^draft:/,d=5e3,c=void 0,m=void 0,j=function(a,b){var c;return c=i+a.value,g.setItem(c,b.value),$(b).fire("drafts:saved",[c])},a=function(a,b){var c;return c=i+a.value,g.removeItem(c),$(b).fire("drafts:cleared",[c])},h=function(){var a,b,c,d,f,h;a={},h=Object.keys(g);for(d=0,f=h.length;d<f;d++){c=h[d];if(!c.match(e))continue;if(b=g.getItem(c))a[c.replace(e,"")]=b;g.removeItem(c)}return a},b=function(a){var b,c;a==null&&(a=document);if(m)return;if(!(c=$(document).find("head link[rel=drafts]")[0]))return;if($(a).closest("form").data("remote-xhr"))return;b=h();if(!Object.keys(b).length)return;return $(a).fire("drafts:flush",[b],function(){return m=$.ajax({type:"POST",url:c.href,data:{drafts:b},complete:function(){return m=void 0,$(a).fire("drafts:complete",[b])},success:function(){return $(a).fire("drafts:flushed",[b])},error:function(c,d,e){return $(a).fire("drafts:error",[b])}})})},k=function(a){return setTimeout(function(){return b(a)},0)},$(document).on("focusin",".js-draft-field",function(){var a,b=this;if(!(a=$(this).closest("form").find(".js-draft-key")[0]))return;return c=setInterval(function(){return k(b)},d),$(this).on("input.drafts",function(){var b=this;return setTimeout(function(){return j(a,b)},0)}),$(this).on("blur.drafts",function(){return k(this),clearInterval(c),$(this).off(".drafts")})}),$(document).on("reset",".js-draft-container",function(){var b;if(!(b=$(this).find(".js-draft-key")[0]))return;return a(b,$(this).find(".js-draft-field")[0])}),$.pageChange(f=function(){var a,b,c,d,e,f;e=$(this).find(".js-draft-field"),f=[];for(c=0,d=e.length;c<d;c++)b=e[c],!b.value&&!$(b).closest("form").hasDirtyFields()?(a=$(b).attr("data-draft"))?f.push($(b).removeAttr("data-draft").val(a).fire("drafts:resumed")):f.push(void 0):f.push(void 0);return f}),k()}.call(this),function(){var a;a=function(a){return $(a).find(".js-draft-flushed-date").attr("datetime",(new Date).toISOString()).html("just now")},$(document).on("drafts:resumed",".js-draft-container",function(b,c){return window.logDraftEvents&&console.log("drafts:resumed",c),$(this).addClass("has-resumed-draft"),a(this)}),$(document).on("drafts:flush",".js-draft-container",function(a,b){return window.logDraftEvents&&console.log("draft:flush",b),$(this).removeClass("has-flushed-draft has-resumed-draft").addClass("is-flushing-draft")}),$(document).on("drafts:complete",".js-draft-container",function(a,b){return $(this).removeClass("is-flushing-draft")}),$(document).on("drafts:error",".js-draft-container",function(a,b){return console.log("draft:error",status,error,b)}),$(document).on("drafts:flushed",".js-draft-container",function(b,c){return window.logDraftEvents&&console.log("draft:flushed",c),$(this).removeClass("has-draft-changes").addClass("has-flushed-draft"),a(this)}),$(document).on("drafts:cleared",".js-draft-container",function(a){return $(this).removeClass("has-draft-changes has-flushed-draft has-resumed-draft")})}.call(this),function(){$(document).on("click",".js-comment-edit-button",function(){var a;return a=$(this).closest(".js-comment"),a.addClass("is-comment-editing"),a.find(".js-comment-field").focus(),!1}),$(document).on("click",".js-comment-cancel-button",function(){var a;return a=$(this).closest("form"),a.hasDirtyFields()&&!confirm($(this).attr("data-confirm-text"))?!1:(a[0].reset(),$(this).closest(".js-comment").removeClass("is-comment-editing"),!1)}),$(document).on("ajaxSend",".js-comment-delete, .js-comment-update",function(a,b){var c;return c=$(this).closest(".js-comment"),c.addClass("is-comment-loading"),c.find(".minibutton").addClass("disabled"),b.setRequestHeader("X-Body-Version",c.attr("data-body-version"))}),$(document).on("ajaxError",".js-comment-update",function(a,b,c,d){var e,f,g;debug("ajaxError for js-comment-update",d);if(b.status===422)try{f=JSON.parse(b.responseText),e=$(this).closest(".js-comment");if(f.stale)return b.stale=!0,e.addClass("is-comment-stale"),e.find(".minibutton").addClass("disabled"),e.hasClass("is-updating-task-list")&&window.location.reload(),a.preventDefault();if(f.errors)return g="There was an error posting your comment: "+f.errors.join(", "),e.find(".js-comment-update-error").text(g).show(),a.preventDefault()}catch(h){return debug("Error trying to handle ajaxError for js-comment-update: "+h)}}),$(document).on("ajaxComplete",".js-comment-delete, .js-comment-update",function(a,b,c){var d;d=$(this).closest(".js-comment"),d.removeClass("is-comment-loading"),d.find(".minibutton").removeClass("disabled");if(b.stale)return d.find(".form-actions button[type=submit].minibutton").addClass("disabled")}),$(document).on("ajaxSuccess",".js-comment-delete",function(){var a,b;return a=$(this).closest(".js-comment"),b=$(this).closest(".js-comment-container"),b.length||(b=a),b.fadeOut(function(){return a.removeClass("is-comment-editing")})}),$(document).on("ajaxSuccess",".js-comment-update",function(a,b,c,d){var e,f,g,h,i,j;e=$(this).closest(".js-comment"),f=$(this).closest(".js-comment-container"),f.length||(f=e),d.title!=null&&e.find(".js-comment-body-title").html(d.title),e.find(".js-comment-body").html(d.body),e.attr("data-body-version",d.newBodyVersion),j=e.find("input, textarea");for(h=0,i=j.length;h<i;h++)g=j[h],g.defaultValue=g.value;return e.removeClass("is-comment-editing"),f.pageUpdate()})}.call(this),function(){$(document).on("focusin",".js-write-bucket",function(){return $(this).addClass("focused")}),$(document).on("focusout",".js-write-bucket",function(){return $(this).removeClass("focused")})}.call(this),function(){$(document).onFocusedKeydown(".js-comment-field",function(){return function(a){var b;if(a.hotkey==="ctrl+L"||a.hotkey==="meta+L")if(b=$(this).prev(".js-enable-fullscreen")[0])return b.click(),!1}})}.call(this),function(){var a;$(document).on("click",".add-line-comment[data-remote]",function(){var b,c;return $(this).hasClass("loading")?!1:($(this).closest(".file").addClass("show-inline-notes"),c=$(this).closest("tr"),b=c.next("tr.inline-comments"),b.length?a(b):$.ajax({context:this,url:$(this).attr("data-remote"),success:function(b){return c.after(b).pageUpdate(),a(c.next("tr.inline-comments"))}}))}),a=function(a){return a.find(".js-write-tab").click(),a.addClass("show-inline-comment-form").find(".js-comment-field").focus()},$(document).on("click",".js-show-inline-comment-form",function(){return a($(this).closest(".inline-comments")),!1}),$(document).on("click",".js-hide-inline-comment-form",function(){var a;return a=$(this).closest(".inline-comments"),a.removeClass("show-inline-comment-form"),a.find(".inline-comment-form .js-comment-field").val(""),a.find(".js-comments-holder").children(":visible").length||a.remove(),!1}),$(document).onFocusedKeydown(".inline-comment-form .js-comment-field",function(){return function(a){var b;if($(this).hasClass("js-navigation-enable"))return;if(a.hotkey==="esc"&&this.value.length===0)return b=$(this).closest(".inline-comments"),b.find(".js-hide-inline-comment-form").click(),!1}}),$(document).on("ajaxSend",".js-inline-comment-form",function(){return $(this).find(".ajaxindicator").show()}),$(document).on("ajaxComplete",".js-inline-comment-form",function(){return $(this).find(".ajaxindicator").hide()}),$(document).on("ajaxSuccess",".js-inline-comment-form",function(a,b,c,d){var e,f;return f=$(this).closest(".js-line-comments"),f.find(".js-comments-holder").append(d),f.find(".js-hide-inline-comment-form").click(),e=f.closest(".inline-comments").find(".comment-count .counter"),e.text(parseInt(e.text().replace(",",""))+1),f.closest(".inline-comments").pageUpdate()}),$(document).on("ajaxSuccess",".inline-comments .js-comment-delete",function(){var a,b=this;return a=$(this).closest(".inline-comments"),setTimeout(function(){if(!a.find(".js-comments-holder").children(":visible").length)return a.remove()},500)})}.call(this),function(){var a,b;$(document).on("click",".js-write-tab",function(){var a;return a=$(this).closest(".js-previewable-comment-form"),a.addClass("write-selected").removeClass("preview-selected"),a.find(".tabnav-tab").removeClass("selected"),$(this).addClass("selected"),!1}),$(document).on("click",".js-preview-tab",function(){var c;return c=$(this).closest(".js-previewable-comment-form"),c.addClass("preview-selected").removeClass("write-selected"),c.find(".tabnav-tab").removeClass("selected"),$(this).addClass("selected"),a(c),b(c),!1}),b=function(a){var b;return b=a.find(".comment-body"),b.html("<p>Loading preview&hellip;</p>"),$.ajax({type:"POST",url:a.attr("data-preview-url"),data:{text:a.find(".js-comment-field").val()},success:function(a){return b.html(a||"<p>Nothing to preview</p>")}})},$(document).onFocusedKeydown(".js-comment-field",function(){return function(a){var b;if(a.hotkey==="ctrl+P"||a.hotkey==="meta+P"){b=$(this).closest(".js-previewable-comment-form");if(b.hasClass("write-selected"))return $(this).blur(),b.find(".preview-tab").click(),a.stopImmediatePropagation(),!1}}}),a=function(a){return $(document).off("keydown.unpreview"),$(document).on("keydown.unpreview",function(b){if(b.hotkey==="ctrl+P"||b.hotkey==="meta+P")return a.find(".js-write-tab").click(),a.find(".js-comment-field").focus(),$(document).off("keydown.unpreview"),!1})}}.call(this),function(){$(document).on("keydown",function(a){var b,c,d,e;if(a.hotkey!=="r")return;if($(a.target).is(":input"))return;if(!(c=$(".js-new-comment-form .js-comment-field")[0]))return;e=window.getSelection();if(e.toString()&&$(e.focusNode).closest(".js-discussion").length){d="> "+e.toString().replace(/\n/g,"\n> ")+"\n\n";if(b=c.value)d=""+b+"\n\n"+d;c.value=d}return $(c).closest(".js-new-comment-form").scrollTo({duration:300},function(){return c.focus(),c.selectionStart=c.value.length}),!1})}.call(this),function(){$(document).onFocusedKeydown(".js-comment-field",function(){return function(a){if(a.hotkey==="ctrl+enter"||a.hotkey==="meta+enter")return $(this).closest("form").submit(),!1}})}.call(this),function(){$(document).on("pjax:send",".context-loader-container",function(){var a;return a=$(this).find(".context-loader:first"),a.length?a.addClass("is-context-loading"):$(".page-context-loader").addClass("is-context-loading")}),$(document).on("pjax:complete",".context-loader-container",function(a){return $(a.target).find(".context-loader:first").removeClass("is-context-loading"),$(".page-context-loader").removeClass("is-context-loading"),$(document.body).removeClass("disables-context-loader")}),$(document).on("pjax:timeout",".context-loader-container",function(){return!1})}.call(this),function(){var a;a=function(){var a,b,c;return a=$(this),c=document.getElementById(a.attr("data-counter")),b=a.find(".js-countable").length,c.innerHTML=b,a.find(".js-no-results").toggleClass("hidden",b!==0)},$(document).on("counters:change",".js-has-counter",function(){return $(this).each(a)}),$.pageUpdate(function(){return $(".js-has-counter").trigger("counters:change")})}.call(this),function(){var a;a=function(a){var b,c,d,e;e=$(a).attr("data-confirm").toLowerCase().split(",");for(c=0,d=e.length;c<d;c++){b=e[c];if(a.value.toLowerCase()===b)return!0}return!1},$(document).onFocusedInput(".js-dangerous-confirmation .confirm-input",function(){var b,c;return b=$(this).closest(".js-dangerous-confirmation"),c=b.find(".confirm-button")[0],function(){c.disabled=!a(this)}})}.call(this),function(){$(document).on("click",".js-details-container .js-details-target",function(a){var b,c=this;b=$(this).closest(".js-details-container"),$(this).fire("details:toggle",{relatedTarget:a.target},function(){b.performTransition(function(){this.toggleClass("open"),this.fire("details:toggled",{relatedTarget:a.target,async:!0})}),a.preventDefault()})})}.call(this),function(){var a,b,c,d,e,f;return}.call(this),function(a){function b(b){if(a.facebox.settings.inited)return!0;a.facebox.settings.inited=!0,a(document).trigger("init.facebox"),e();var c=a.facebox.settings.imageTypes.join("|");a.facebox.settings.imageTypesRegexp=new RegExp(".("+c+")$","i"),b&&a.extend(a.facebox.settings,b),a("body").append(a.facebox.settings.faceboxHtml),a(".facebox-close").click(a.facebox.close)}function c(){var a,b;return self.pageYOffset?(b=self.pageYOffset,a=self.pageXOffset):document.documentElement&&document.documentElement.scrollTop?(b=document.documentElement.scrollTop,a=document.documentElement.scrollLeft):document.body&&(b=document.body.scrollTop,a=document.body.scrollLeft),new Array(a,b)}function d(){var a;return self.innerHeight?a=self.innerHeight:document.documentElement&&document.documentElement.clientHeight?a=document.documentElement.clientHeight:document.body&&(a=document.body.clientHeight),a}function e(){var b=a.facebox.settings;b.imageTypes=b.image_types||b.imageTypes,b.faceboxHtml=b.facebox_html||b.faceboxHtml}function f(b,c){if(b.match(/#/)){var d=window.location.href.split("#")[0],e=b.replace(d,"");if(e=="#")return;a.facebox.reveal(a(e).html(),c)}else b.match(a.facebox.settings.imageTypesRegexp)?g(b,c):h(b,c)}function g(b,c){var d=new Image;d.onload=function(){a.facebox.reveal('<div class="image"><img src="'+d.src+'" /></div>',c)},d.src=b}function h(b,c){a.get(b,function(b){a.facebox.reveal(b,c)})}function i(){return a.facebox.settings.overlay==0||a.facebox.settings.opacity===null}function j(){if(i())return;return a(".facebox-overlay").length==0&&a("body").append('<div class="facebox-overlay facebox-overlay-hide"></div>'),a(".facebox-overlay").hide().addClass("facebox-overlay-active").css("opacity",a.facebox.settings.opacity).click(function(){a(document).trigger("close.facebox")}).fadeIn(200),!1}function k(){if(i())return;return a(".facebox-overlay").fadeOut(200,function(){a(".facebox-overlay").removeClass("facebox-overlay-active"),a(".facebox-overlay").addClass("facebox-overlay-hide"),a(".facebox-overlay").remove()}),!1}a.facebox=function(b,c){a.facebox.loading(),b.ajax?h(b.ajax,c):b.image?g(b.image,c):b.div?f(b.div,c):a.isFunction(b)?b.call(a):a.facebox.reveal(b,c)},a.extend(a.facebox,{settings:{opacity:.5,overlay:!0,imageTypes:["png","jpg","jpeg","gif"],faceboxHtml:'    <div class="facebox" id="facebox" style="display:none;">       <div class="facebox-popup">         <div class="facebox-content">         </div>         <button type="button" class="facebox-close">           <span class="octicon octicon-remove-close"></span>         </button>       </div>     </div>'},loading:function(){b();if(a(".facebox-loading").length==1)return!0;j(),a(".facebox-content").empty().append('<div class="facebox-loading"></div>'),a(".facebox").show().css({top:c()[1]+d()/10,left:a(window).width()/2-a(".facebox-popup").outerWidth()/2}),a(document).bind("keydown.facebox",function(b){return b.keyCode==27&&a.facebox.close(),!0}),a(document).trigger("loading.facebox")},reveal:function(b,c){a(document).trigger("beforeReveal.facebox"),c&&a(".facebox-content").addClass(c),a(".facebox-content").append(b),a(".facebox-loading").remove(),a(".facebox-popup").children().fadeIn("normal"),a(".facebox").css("left",a(window).width()/2-a(".facebox-popup").outerWidth()/2),a(document).trigger("reveal.facebox").trigger("afterReveal.facebox")},close:function(){return a(document).trigger("close.facebox"),!1}}),a.fn.facebox=function(c){function d(){a.facebox.loading(!0);var b=this.rel.match(/facebox\[?\.(\w+)\]?/);return b&&(b=b[1]),f(this.href,b),!1}if(a(this).length==0)return;return b(c),this.bind("click.facebox",d)},a(document).bind("close.facebox",function(){a(document).unbind("keydown.facebox"),a(".facebox").fadeOut(function(){a(".facebox-content").removeClass().addClass("facebox-content"),a(".facebox-loading").remove(),a(document).trigger("afterClose.facebox")}),k()})}(jQuery),function(){var a;$(document).on("reveal.facebox",function(){var a,b;a=$("#facebox"),a.pageUpdate(),b=a.find("input[autofocus], textarea[autofocus]").last()[0],b&&document.activeElement!==b&&b.focus()}),$(document).on("afterClose.facebox",function(){return $("#facebox :focus").blur()}),$.pageUpdate(a=function(){var a,b,c,d;d=$(this).find("a[rel*=facebox]");for(b=0,c=d.length;b<c;b++){a=d[b];if($(a).data("facebox-installed"))return;$(a).facebox(),$(a).data("facebox-installed",!0)}})}.call(this),function(){var a,b,c,d;b=function(a){var b,d,e,f,g,h;return d=document.getElementById(a),e=document.getElementById("fullscreen_overlay"),f=$(e).find(".js-fullscreen-contents"),Modernizr.localstorage&&(g="gh-fullscreen-theme",localStorage.getItem(g)==="dark"?$(".js-fullscreen-overlay").addClass("dark-theme"):$(".js-fullscreen-overlay").removeClass("dark-theme")),h=$(d).val(),b=$(d).caret(),$(e).attr("data-return-scroll-position",window.pageYOffset),$("body").addClass("fullscreen-overlay-enabled"),$(document).on("keydown",c),$(f).attr("placeholder",$(d).attr("placeholder")),$(f).val(h),$(f).caret(b),f.focus()},a=function(a){var b,d,e,f,g,h;return d=document.getElementById(a),e=document.getElementById("fullscreen_overlay"),g=$(e).find(".js-fullscreen-contents"),h=$(g).val(),b=$(g).caret(),$("body").removeClass("fullscreen-overlay-enabled"),$(document).off("keydown",c),(f=$(e).attr("data-return-scroll-position"))&&window.scrollTo(0,f),window.editor!=null?window.editor.setCode(h):($(d).val(h),$(d).caret(b),$(d).trigger("validation:field:change")),g.val("")},d=!1,c=function(a){if(a.keyCode===27||a.hotkey==="ctrl+L"||a.hotkey==="meta+L")return d?history.back():window.location.hash="",a.preventDefault()},$(document).on("click",".js-exit-fullscreen",function(a){d&&(a.preventDefault(),history.back())}),$(document).on("click",".js-theme-switcher",function(){var a;return Modernizr.localstorage?(a="gh-fullscreen-theme",localStorage.getItem(a)==="dark"?(localStorage.removeItem(a),$("body, .js-fullscreen-overlay").removeClass("dark-theme")):(localStorage.setItem(a,"dark"),$("body, .js-fullscreen-overlay").addClass("dark-theme"))):$("body, .js-fullscreen-overlay").toggleClass("dark-theme"),!1}),$(window).on("hash:change",function(c){var e,f;if(e=c.newURL.match(/\#fullscreen_(.+)$/))return d=!!c.oldURL,b(e[1]);if(e=(f=c.oldURL)!=null?f.match(/\#fullscreen_(.+)$/):void 0)return d=!1,a(e[1])}),Modernizr.localstorage&&localStorage["gh-fullscreen-theme"]==="dark"&&$(function(){return $("body, .js-fullscreen-overlay").addClass("dark-theme")})}.call(this),function(){var a,b,c;b={},a=function(a){var c;a.preventDefault(),(c=b[a.hotkey])&&$(c).click()},$(document).on("keydown",function(b){if(b.target!==document.body)return;b.hotkey==="g"&&(b.preventDefault(),$(document).on("keydown hotkey:activate",a),setTimeout(function(){return $(document).off("keydown hotkey:activate",a)},1500))}),$.pageUpdate(c=function(){var a,c,d,e,f;b={},f=$("[data-gotokey]");for(d=0,e=f.length;d<e;d++)a=f[d],c=$(a).attr("data-gotokey"),b[c]=a})}.call(this),function(){var a,b,c,d,e;c=function(b){var c,f,g,h,i,j,k;c=$(a(this));if(b.which===2||b.metaKey)return!0;if(!c.length)return!0;g=$(this).closest(".js-hard-tabs"),k=g.find("a.selected");for(i=0,j=k.length;i<j;i++)f=k[i],$(f).removeClass("selected"),d(g,$(a(f)));return e(g,c),$(this).addClass("selected"),typeof (h=window.history).replaceState=="function"&&h.replaceState(null,document.title,$(this).attr("href")),c.pageChange(),!1},$(document).on("click",".js-hard-tabs a",c),a=function(a){var c,d;return d=b($(a).attr("href")),c=$(a).attr("data-container-id")?$(a).attr("data-container-id"):d,document.getElementById(c)},d=function(a,b){return a.hasClass("js-large-data-tabs")?b[0]===null?$():(b.is(":visible")&&!b[0].style.width&&b.css({width:""+b.width()+"px"}),b.css({position:"absolute",left:"-9999px"})):b.hide()},e=function(a,b){return a.hasClass("js-large-data-tabs")?b[0]===null?$():(b.is(":visible")||b.show(),b.css({position:"",left:""})):b.show()},b=function(a){var b;return a==null&&(a=document.location.pathname),a=a.replace(/\?.+|#.+/,""),b=a.match(/[^\/]+\/?$/),b.length===0&&alert("Invalid tab link!"),b[0].replace("/","")}}.call(this),function(){var a,b,c;b=function(a,b){var c,d,e;if(d=window.location.hash.slice(1))e=document.getElementById(d);return e==null&&(e=window),c=$.Event("hash:change",{oldURL:a,newURL:b}),$(e).trigger(c),!c.isDefaultPrevented()},$(c=function(){b(null,window.location.href)}),$(window).on("hashchange",function(a){var c;return c=a.originalEvent,b(c.oldURL,c.newURL)}),a=function(a){var b,c;((c=a.data)!=null?c.test:void 0)!=null&&(b=a.handler,a.handler=function(a){var c;if(c=a.newURL.match(a.data))return b.call(this,a,c)})},$.event.special["hash:change"]={add:a}}.call(this),function(){$(document).on("ajaxSuccess",".js-notice-dismiss",function(){return $(this).closest(".js-notice").fadeOut()}),$(document).on("ajaxError",".js-notice-dismiss",function(){return alert("Failed to dismiss notice. Sorry!")})}.call(this),function(){if(!$.support.pjax)return;$(document).on("pjax:start",function(a){var b;if(b=a.relatedTarget)$(b).addClass("pjax-active"),$(b).parents(".js-pjax-active").addClass("pjax-active")}),$(document).on("pjax:end",function(a){$(".pjax-active").removeClass("pjax-active")})}.call(this),function(){$(document).on("pjax:click","#js-repo-pjax-container .user-mention",function(){return!1})}.call(this),function(){var a;if(!$.support.pjax)return;$.pjax.defaults.fragment="#pjax-body",$.pjaxHeadCache=[],$(a=function(){return $.pjaxHeadCache[document.location.pathname]=$("head [data-pjax-transient]")}),$(document).on("pjax:success",function(a,b){var c;c=$.parseHTML(b)[0];if(c.id==="pjax-head")return $.pjaxHeadCache[document.location.pathname]=$(c).children()}),$(document).on("pjax:end",function(){var a,b,c;a=$.pjaxHeadCache[document.location.pathname];if(a)return $("head [data-pjax-transient]").remove(),c=$(a).filter(":not(title, script, link[rel='stylesheet'])"),b=$(a).filter("link[rel='stylesheet']"),$(document.head).append(c.attr("data-pjax-transient",!0)),$(document.head).append(b)})}.call(this),function(){var a;$.support.pjax&&(a=function(a){return $(this).is("[data-pjax-preserve-scroll]")?!1:0},$(document).on("click","[data-pjax] a, a[data-pjax]",function(b){var c,d,e;if($(this).is("[data-skip-pjax]"))return;if($(this).is("[data-remote]"))return;$(this).is("[data-pjax]")?d=this:d=$(this).closest("[data-pjax]")[0],e=a(this);if(c=$(this).closest("[data-pjax-container]")[0])return $.pjax.click(b,{container:c,scrollTo:e})}),$(document).on("submit","form[data-pjax]",function(b){var c,d;d=a(this);if(c=$(this).closest("[data-pjax-container]")[0])return $.pjax.submit(b,{container:c,scrollTo:d})}))}.call(this),function(){if(!$.support.pjax)return;$.pjax.defaults.timeout=1e3}.call(this),function(a){function m(){return l==1?!1:window.DeviceOrientationEvent!=undefined}function n(a){x=a.gamma,y=a.beta;if(Math.abs(window.orientation)===90){var b=x;x=y,y=b}return window.orientation<0&&(x=-x,y=-y),j=j==null?x:j,k=k==null?y:k,{x:x-j,y:y-k}}function o(a){if((new Date).getTime()<d+c)return;d=(new Date).getTime();var b=f.offset()!=null?f.offset().left:0,j=f.offset()!=null?f.offset().top:0,k=a.pageX-b,o=a.pageY-j;if(k<0||k>f.width()||o<0||o>f.height())return;if(m()){if(a.gamma==undefined){l=!0;return}values=n(a),k=values.x/g,o=values.y/g,k=k<i?i:k>h?h:k,o=o<i?i:o>h?h:o,k=(k+1)/2,o=(o+1)/2}var p=k/(m()==1?h:f.width()),q=o/(m()==1?h:f.height()),r,s;for(s=e.length;s--;)r=e[s],newX=r.startX+r.inversionFactor*r.xRange*p,newY=r.startY+r.inversionFactor*r.yRange*q,r.background?r.obj.css("background-position",newX+"px "+newY+"px"):r.obj.css("left",newX).css("top",newY)}var b=25,c=1/b*1e3,d=(new Date).getTime(),e=[],f=a(window),g=30,h=1,i=-1,j=null,k=null,l=!1;a.fn.plaxify=function(b){return this.each(function(){var c=-1,d={xRange:a(this).data("xrange")||0,yRange:a(this).data("yrange")||0,invert:a(this).data("invert")||!1,background:a(this).data("background")||!1};for(var f=0;f<e.length;f++)this===e[f].obj.get(0)&&(c=f);for(var g in b)d[g]==0&&(d[g]=b[g]);d.inversionFactor=d.invert?-1:1,d.obj=a(this);if(d.background){pos=(d.obj.css("background-position")||"0px 0px").split(/ /);if(pos.length!=2)return;x=pos[0].match(/^((-?\d+)\s*px|0+\s*%|left)$/),y=pos[1].match(/^((-?\d+)\s*px|0+\s*%|top)$/);if(!x||!y)return;d.originX=d.startX=x[2]||0,d.originY=d.startY=y[2]||0}else{var h=d.obj.position();d.obj.css({top:h.top,left:h.left,right:"",bottom:""}),d.originX=d.startX=h.left,d.originY=d.startY=h.top}d.startX-=d.inversionFactor*Math.floor(d.xRange/2),d.startY-=d.inversionFactor*Math.floor(d.yRange/2),c>=0?e.splice(c,1,d):e.push(d)})},a.plax={enable:function(b){b&&(b.activityTarget&&(f=b.activityTarget||a(window)),typeof b.gyroRange=="number"&&b.gyroRange>0&&(g=b.gyroRange)),a(document).bind("mousemove.plax",function(a){o(a)}),m()&&(window.ondeviceorientation=function(a){o(a)})},disable:function(b){a(document).unbind("mousemove.plax"),window.ondeviceorientation=undefined;if(b&&typeof b.restorePositions=="boolean"&&b.restorePositions)for(var c=e.length;c--;)layer=e[c],e[c].background?layer.obj.css("background-position",layer.originX+"px "+layer.originY+"px"):layer.obj.css("left",layer.originX).css("top",layer.originY);b&&typeof b.clearLayers=="boolean"&&b.clearLayers&&(e=[])}},typeof ender!="undefined"&&a.ender(a.fn,!0)}(function(){return typeof jQuery!="undefined"?jQuery:ender}()),function(){$.pageUpdate(function(){var a,b,c,d;b=$(".js-plaxify");if(b.length>0){for(c=0,d=b.length;c<d;c++)a=b[c],$(a).plaxify({xRange:$(a).data("xrange")||0,yRange:$(a).data("yrange")||0,invert:$(a).data("invert")||!1});return $.plax.enable()}})}.call(this),function(){var a;a=function(a){if($(a).data("poller"))return;return $.smartPoller(function(b){var c;return c=$.ajax({context:a,url:$(a).attr("data-url"),complete:function(a){if(a.status===202)return b()}}),$(a).data("poller",c)})},$.pageUpdate(function(){var b,c,d,e;e=$(this).find(".js-poll");for(c=0,d=e.length;c<d;c++)b=e[c],a(b)})}.call(this),function(){$(function(){if($(document.body).hasClass("js-print-popup"))return window.print(),window.close()})}.call(this),function(){$(document).on("focusin",".js-repo-filter .js-filterable-field",function(){return $(this).closest(".js-repo-filter").find(".js-more-repos-link").click()}),$(document).on("click",".js-repo-filter .js-repo-filter-tab",function(){var a;return a=$(this).closest(".js-repo-filter"),a.find(".js-more-repos-link").click(),a.find(".js-repo-filter-tab").removeClass("filter-selected"),$(this).addClass("filter-selected"),a.find(".js-filterable-field").fire("filterable:change"),!1}),$(document).on("filterable:change",".js-repo-filter .js-repo-list",function(){var a,b;a=$(this).closest(".js-repo-filter"),(b=a.find(".js-repo-filter-tab.filter-selected").attr("data-filter"))&&$(this).children().not(b).hide()}),$(document).on("click:prepare",".js-repo-filter .js-more-repos-link",function(){if($(this).hasClass("is-loading"))return!1}),$(document).on("ajaxSend",".js-repo-filter .js-more-repos-link",function(){return $(this).addClass("is-loading")}),$(document).on("ajaxComplete",".js-repo-filter .js-more-repos-link",function(){return $(this).removeClass("is-loading")}),$(document).on("ajaxSuccess",".js-repo-filter .js-more-repos-link",function(a,b,c,d){var e;return e=$(this).closest(".js-repo-filter"),e.find(".js-repo-list").html(d).pageUpdate(),e.find(".js-filterable-field").fire("filterable:change"),$(this).remove()})}.call(this),function(){$(document).on("ajaxSuccess",".js-select-menu:not([data-multiple])",function(){return $(this).menu("deactivate")}),$(document).on("ajaxSend",".js-select-menu:not([data-multiple])",function(){return $(this).addClass("is-loading")}),$(document).on("ajaxComplete",".js-select-menu",function(){return $(this).removeClass("is-loading")}),$(document).on("ajaxError",".js-select-menu",function(){return $(this).addClass("has-error")}),$(document).on("menu:deactivate",".js-select-menu",function(){return $(this).removeClass("is-loading has-error")})}.call(this),function(){$(document).on("selectmenu:selected",".js-select-menu .js-navigation-item",function(){var a,b,c;a=$(this).closest(".js-select-menu"),c=$(this).find(".js-select-button-text"),c[0]&&a.find(".js-select-button").html(c.html()),b=$(this).find(".js-select-menu-item-gravatar");if(c[0])return a.find(".js-select-button-gravatar").html(b.html())})}.call(this),function(){$(document).on("filterable:change",".js-select-menu .select-menu-list",function(a){var b,c;c=$(this).find(".js-navigation-item"),c.removeClass("last-visible"),c.filter(":visible:last").addClass("last-visible"),$(this).is("[data-filterable-for]")||(b=$(a.target).hasClass("filterable-empty"),$(this).toggleClass("filterable-empty",b))})}.call(this),function(){$(document).on("menu:activated",".js-select-menu",function(){return $(this).find(".js-filterable-field").focus()}),$(document).on("menu:deactivate",".js-select-menu",function(){return $(this).find(".js-filterable-field").val("").trigger("filterable:change")})}.call(this),function(){$(document).on("navigation:open",".js-select-menu:not([data-multiple]) .js-navigation-item",function(){var a,b;b=$(this),a=b.closest(".js-select-menu"),a.find(".js-navigation-item.selected").removeClass("selected"),b.addClass("selected"),b.find("input[type=radio], input[type=checkbox]").prop("checked",!0).change(),b.fire("selectmenu:selected");if(!a.hasClass("is-loading"))return a.menu("deactivate")}),$(document).on("navigation:open",".js-select-menu[data-multiple] .js-navigation-item",function(){var a,b;return a=$(this),b=a.hasClass("selected"),a.toggleClass("selected",!b),a.find("input[type=radio], input[type=checkbox]").prop("checked",!b).change(),a.fire("selectmenu:selected")})}.call(this),function(){$(document).on("menu:activate",".js-select-menu",function(){return $(this).find(".js-menu-target").addClass("selected"),$(this).find(".js-navigation-container").navigation("push")}),$(document).on("menu:deactivate",".js-select-menu",function(){return $(this).find(".js-menu-target").removeClass("selected"),$(this).find(".js-navigation-container").navigation("pop")}),$(document).on("filterable:change",".js-select-menu .select-menu-list",function(){return $(this).navigation("refocus")})}.call(this),function(){var a;$(document).on("filterable:change",".js-select-menu .select-menu-list",function(b){var c,d;if(!(d=$(this).find(".js-new-item-form")[0]))return;c=b.relatedTarget.value,c===""||a(this,c)?$(this).removeClass("is-showing-new-item-form"):($(this).addClass("is-showing-new-item-form"),$(d).find(".js-new-item-name").text(c),$(d).find(".js-new-item-value").val(c))}),a=function(a,b){var c,d,e,f,g;g=$(a).find(".js-select-button-text");for(e=0,f=g.length;e<f;e++){c=g[e],d=$.trim($(c).text().toLowerCase());if(d===b.toLowerCase())return!0}return!1}}.call(this),function(){var a;$(document).on("menu:activate",".js-select-menu",function(){var b;return b=$(this).find(".js-select-menu-tab-bucket .selected").closest(".js-select-menu-tab-bucket").attr("data-tab-filter"),a($(this),b)}),$(document).on("click",".js-select-menu .js-select-menu-tab",function(b){var c;return(c=$(this).attr("data-tab-filter"))&&a($(this).closest(".js-select-menu"),c),!1}),a=function(a,b){var c,d,e;return a.find("[data-tab-filter]").removeClass("selected"),b?(c=function(){return $(this).attr("data-tab-filter")===b},d=a.find(".js-select-menu-tab").filter(c),e=a.find(".js-select-menu-tab-bucket").filter(c)):(d=a.find(".js-select-menu-tab:first"),e=a.find(".js-select-menu-tab-bucket:first")),d.addClass("selected"),e.addClass("selected"),a.find(".js-filterable-field").trigger("filterable:change")}}.call(this),function(){$(document).on("ajaxSuccess",".js-social-container",function(a,b,c,d){return $(this).find(".js-social-count").text(d.count)})}.call(this),function(){}.call(this),function(){if(!$.fn.socket)return;$(document).on("visibilitychange webkitvisibilitychange mozvisibilitychange msvisibilitychange",function(){var a;if(!(a=$(document.head).find("link[rel=xhr-socket]").data("socket")))return;document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?a.send({visibility:"hidden"
}):a.send({visibility:"visible"})})}.call(this),function(){var a,b=this;a=function(){function b(){var a=this;this.onMouseMove=function(c){return b.prototype.onMouseMove.apply(a,arguments)},this.onMouseUp=function(c){return b.prototype.onMouseUp.apply(a,arguments)},this.onMouseDown=function(c){return b.prototype.onMouseDown.apply(a,arguments)},$(document).on("mousedown",".js-sortable-container .js-sortable-target",this.onMouseDown)}var a;return a=$("<li />").addClass("js-sortable-placeholder sortable-placeholder"),b.prototype.onMouseDown=function(b){return $(b.currentTarget).addClass("js-sorting").fadeTo(0,.5).css({"z-index":10,position:"absolute",top:$(b.currentTarget).position().top,left:$(b.currentTarget).position().left}).after(a),$(document).on("mousemove.sortable",this.onMouseMove),$(document).on("mouseup",this.onMouseUp),!1},b.prototype.onMouseUp=function(a){return $(".js-sorting").removeClass("js-sorting").fadeTo(0,1).css({"z-index":"",position:"",top:"",left:""}),$(".js-sortable-placeholder").remove(),$(document).off("mousemove.sortable",this.onMouseMove),$(document).off("mouseup",this.onMouseUp),!1},b.prototype.onMouseMove=function(a){var b,c,d;return b=$(".js-sorting"),d=a.pageY-b.parent().offset().top,c=$(".js-sorting").height(),d<0+c/2?$(".js-sorting").css({top:0}):d>b.parent().height()-c/2?$(".js-sorting").css({top:b.parent().height()-b.height()}):$(".js-sorting").css({top:d-c/2}),$(".js-sorting").index()<b.parent().find(".js-sortable-target").length&&$(".js-sorting").index()>=0&&($(".js-sorting").position().top>$(".js-sortable-placeholder").position().top+c*.8?($(".js-sortable-placeholder").insertAfter($(".js-sortable-placeholder").next()),$(".js-sorting").insertBefore($(".js-sortable-placeholder"))):$(".js-sorting").position().top<$(".js-sortable-placeholder").position().top-c*.8&&($(".js-sortable-placeholder").insertBefore($(".js-sortable-placeholder").prev().prev()),$(".js-sorting").insertBefore($(".js-sortable-placeholder")))),!1},b}(),new a}.call(this),function(){var a,b=this;a=function(){function b(a){var c=this;this.textarea=a,this.onNavigationOpen=function(a){return b.prototype.onNavigationOpen.apply(c,arguments)},this.onNavigationKeyDown=function(a){return b.prototype.onNavigationKeyDown.apply(c,arguments)},this.onKeyUp=function(){return b.prototype.onKeyUp.apply(c,arguments)},this.teardown=function(){return b.prototype.teardown.apply(c,arguments)},$(this.textarea).on("focusout:delayed.suggester",this.teardown),$(this.textarea).on("keyup.suggester",this.onKeyUp),this.suggester=document.getElementById($(this.textarea).attr("data-suggester")),$(this.suggester).on("navigation:keydown.suggester","[data-value]",this.onNavigationKeyDown),$(this.suggester).on("navigation:open.suggester","[data-value]",this.onNavigationOpen),this.loadSuggestions()}var a;return b.prototype.types={mention:{search:"fuzzy",limit:5,className:"mention-suggestions",match:/(^|\s)@([a-z0-9\-_\/]*)$/i,replace:"$1@$value "},emoji:{search:"prefix",limit:5,className:"emoji-suggestions",match:/(^|\s):([a-z0-9\-\+_]*)$/i,replace:"$1:$value: "},hashed:{search:"fuzzy-hashed",limit:5,className:"hashed-suggestions",match:/(^|\s)\#([a-z0-9\-_\/]*)$/i,replace:"$1#$value "}},a=function(a){var b,c;if(((b=a.match(/`{3,}/g))!=null?b.length:void 0)%2)return!0;if(((c=a.match(/`/g))!=null?c.length:void 0)%2)return!0},b.prototype.teardown=function(){this.deactivate(),$(this.textarea).off(".suggester"),$(this.suggester).off(".suggester")},b.prototype.onKeyUp=function(){if(this.checkQuery())return!1},b.prototype.onNavigationKeyDown=function(a){switch(a.hotkey){case"tab":return this.onNavigationOpen(a),!1;case"esc":return this.deactivate(),!1}},b.prototype.onNavigationOpen=function(a){var b,c,d;return d=$(a.target).attr("data-value"),c=this.textarea.value.substring(0,this.textarea.selectionEnd),b=this.textarea.value.substring(this.textarea.selectionEnd),c=c.replace(this.type.match,this.type.replace.replace("$value",d)),this.textarea.value=c+b,this.deactivate(),this.textarea.focus(),this.textarea.selectionStart=c.length,this.textarea.selectionEnd=c.length,!1},b.prototype.checkQuery=function(){var a,b,c;c=this.searchQuery(),b=c[0],a=c[1];if(b!=null&&a!=null){if(a===this.query)return;return this.type=b,this.query=a,this.search(b,a)?this.activate():this.deactivate(),this.query}this.type=this.query=null,this.deactivate()},b.prototype.activate=function(){if($(this.suggester).hasClass("active"))return;$(this.suggester).addClass("active"),$(this.suggester).css($(this.textarea).textareaSelectionPosition()),$(this.textarea).addClass("js-navigation-enable"),$(this.suggester).navigation("push"),$(this.suggester).navigation("focus")},b.prototype.deactivate=function(){if(!$(this.suggester).hasClass("active"))return;$(this.suggester).removeClass("active"),$(this.suggester).find(".suggestions").hide(),$(this.textarea).removeClass("js-navigation-enable"),$(this.suggester).navigation("pop")},b.prototype.search=function(a,b){var c,d;c=$(this.suggester).find("ul."+a.className);if(!c[0])return;return d=function(){switch(a.search){case"fuzzy-hashed":return c.fuzzyFilterSortList("#"+b,{limit:a.limit});case"fuzzy":return c.fuzzyFilterSortList(b,{limit:a.limit});default:return c.prefixFilterList(b,{limit:a.limit})}}(),d>0?(c.show(),$(this.suggester).navigation("focus"),!0):!1},b.prototype.searchQuery=function(){var b,c,d,e,f;d=this.textarea.value.substring(0,this.textarea.selectionEnd);if(a(d))return[];f=this.types;for(c in f){e=f[c];if(b=d.match(e.match))return[e,b[2]]}return[]},b.prototype.loadSuggestions=function(){var a=this;if($(this.suggester).children().length)return;return $.ajax({url:$(this.suggester).attr("data-url"),success:function(b){return $(a.suggester).html(b),a.type=a.query=null,a.checkQuery()}})},b}(),$(document).on("focusin:delayed","textarea[data-suggester]",function(){new a(this)})}.call(this),function(){$(document).on("tasklist:change",".js-task-list-container",function(){return $(this).addClass("is-updating-task-list").taskList("disable")}),$(document).on("tasklist:changed",".js-task-list-container",function(a,b,c){var d,e,f,g;return e=$(this).find("form.js-comment-update"),f=e.find("input[name=task_list_key]"),f.length>0||(g=e.find(".js-task-list-field").attr("name").split("[")[0],f=$("<input>",{type:"hidden",name:"task_list_key",value:g}),e.append(f)),d=$("<input>",{type:"hidden",name:"task_list_checked",value:c!=null?c:{1:"0"}}),e.append(d),e.one("ajaxComplete",function(){return d.remove()}),e.submit()}),$(document).on("ajaxSuccess",".js-task-list-container",function(){return $(this).removeClass("is-updating-task-list").pageUpdate()}),$.pageUpdate(function(){return $(".js-task-list-container:not(.is-updating-task-list)").taskList("enable")})}.call(this),function(a){var b=function(){"use strict";var a="s",c=function(a){var b=-a.getTimezoneOffset();return b!==null?b:0},d=function(a,b,c){var d=new Date;return a!==undefined&&d.setFullYear(a),d.setMonth(b),d.setDate(c),d},e=function(a){return c(d(a,0,2))},f=function(a){return c(d(a,5,2))},g=function(a){var b=a.getMonth()>7,d=b?f(a.getFullYear()):e(a.getFullYear()),g=c(a),h=d<0,i=d-g;return!h&&!b?i<0:i!==0},h=function(){var b=e(),c=f(),d=b-c;return d<0?b+",1":d>0?c+",1,"+a:b+",0"},i=function(){var a=h();return new b.TimeZone(b.olson.timezones[a])},j=function(a){var b=new Date(2010,6,15,1,0,0,0),c={"America/Denver":new Date(2011,2,13,3,0,0,0),"America/Mazatlan":new Date(2011,3,3,3,0,0,0),"America/Chicago":new Date(2011,2,13,3,0,0,0),"America/Mexico_City":new Date(2011,3,3,3,0,0,0),"America/Asuncion":new Date(2012,9,7,3,0,0,0),"America/Santiago":new Date(2012,9,3,3,0,0,0),"America/Campo_Grande":new Date(2012,9,21,5,0,0,0),"America/Montevideo":new Date(2011,9,2,3,0,0,0),"America/Sao_Paulo":new Date(2011,9,16,5,0,0,0),"America/Los_Angeles":new Date(2011,2,13,8,0,0,0),"America/Santa_Isabel":new Date(2011,3,5,8,0,0,0),"America/Havana":new Date(2012,2,10,2,0,0,0),"America/New_York":new Date(2012,2,10,7,0,0,0),"Europe/Helsinki":new Date(2013,2,31,5,0,0,0),"Pacific/Auckland":new Date(2011,8,26,7,0,0,0),"America/Halifax":new Date(2011,2,13,6,0,0,0),"America/Goose_Bay":new Date(2011,2,13,2,1,0,0),"America/Miquelon":new Date(2011,2,13,5,0,0,0),"America/Godthab":new Date(2011,2,27,1,0,0,0),"Europe/Moscow":b,"Asia/Amman":new Date(2013,2,29,1,0,0,0),"Asia/Beirut":new Date(2013,2,31,2,0,0,0),"Asia/Damascus":new Date(2013,3,6,2,0,0,0),"Asia/Jerusalem":new Date(2013,2,29,5,0,0,0),"Asia/Yekaterinburg":b,"Asia/Omsk":b,"Asia/Krasnoyarsk":b,"Asia/Irkutsk":b,"Asia/Yakutsk":b,"Asia/Vladivostok":b,"Asia/Baku":new Date(2013,2,31,4,0,0),"Asia/Yerevan":new Date(2013,2,31,3,0,0),"Asia/Kamchatka":b,"Asia/Gaza":new Date(2010,2,27,4,0,0),"Africa/Cairo":new Date(2010,4,1,3,0,0),"Europe/Minsk":b,"Pacific/Apia":new Date(2010,10,1,1,0,0,0),"Pacific/Fiji":new Date(2010,11,1,0,0,0),"Australia/Perth":new Date(2008,10,1,1,0,0,0)};return c[a]};return{determine:i,date_is_dst:g,dst_start_for:j}}();b.TimeZone=function(a){"use strict";var c={"America/Denver":["America/Denver","America/Mazatlan"],"America/Chicago":["America/Chicago","America/Mexico_City"],"America/Santiago":["America/Santiago","America/Asuncion","America/Campo_Grande"],"America/Montevideo":["America/Montevideo","America/Sao_Paulo"],"Asia/Beirut":["Asia/Amman","Asia/Jerusalem","Asia/Beirut","Europe/Helsinki","Asia/Damascus"],"Pacific/Auckland":["Pacific/Auckland","Pacific/Fiji"],"America/Los_Angeles":["America/Los_Angeles","America/Santa_Isabel"],"America/New_York":["America/Havana","America/New_York"],"America/Halifax":["America/Goose_Bay","America/Halifax"],"America/Godthab":["America/Miquelon","America/Godthab"],"Asia/Dubai":["Europe/Moscow"],"Asia/Dhaka":["Asia/Yekaterinburg"],"Asia/Jakarta":["Asia/Omsk"],"Asia/Shanghai":["Asia/Krasnoyarsk","Australia/Perth"],"Asia/Tokyo":["Asia/Irkutsk"],"Australia/Brisbane":["Asia/Yakutsk"],"Pacific/Noumea":["Asia/Vladivostok"],"Pacific/Tarawa":["Asia/Kamchatka","Pacific/Fiji"],"Pacific/Tongatapu":["Pacific/Apia"],"Asia/Baghdad":["Europe/Minsk"],"Asia/Baku":["Asia/Yerevan","Asia/Baku"],"Africa/Johannesburg":["Asia/Gaza","Africa/Cairo"]},d=a,e=function(){var a=c[d],e=a.length,f=0,g=a[0];for(;f<e;f+=1){g=a[f];if(b.date_is_dst(b.dst_start_for(g))){d=g;return}}},f=function(){return typeof c[d]!="undefined"};return f()&&e(),{name:function(){return d}}},b.olson={},b.olson.timezones={"-720,0":"Pacific/Majuro","-660,0":"Pacific/Pago_Pago","-600,1":"America/Adak","-600,0":"Pacific/Honolulu","-570,0":"Pacific/Marquesas","-540,0":"Pacific/Gambier","-540,1":"America/Anchorage","-480,1":"America/Los_Angeles","-480,0":"Pacific/Pitcairn","-420,0":"America/Phoenix","-420,1":"America/Denver","-360,0":"America/Guatemala","-360,1":"America/Chicago","-360,1,s":"Pacific/Easter","-300,0":"America/Bogota","-300,1":"America/New_York","-270,0":"America/Caracas","-240,1":"America/Halifax","-240,0":"America/Santo_Domingo","-240,1,s":"America/Santiago","-210,1":"America/St_Johns","-180,1":"America/Godthab","-180,0":"America/Argentina/Buenos_Aires","-180,1,s":"America/Montevideo","-120,0":"America/Noronha","-120,1":"America/Noronha","-60,1":"Atlantic/Azores","-60,0":"Atlantic/Cape_Verde","0,0":"UTC","0,1":"Europe/London","60,1":"Europe/Berlin","60,0":"Africa/Lagos","60,1,s":"Africa/Windhoek","120,1":"Asia/Beirut","120,0":"Africa/Johannesburg","180,0":"Asia/Baghdad","180,1":"Europe/Moscow","210,1":"Asia/Tehran","240,0":"Asia/Dubai","240,1":"Asia/Baku","270,0":"Asia/Kabul","300,1":"Asia/Yekaterinburg","300,0":"Asia/Karachi","330,0":"Asia/Kolkata","345,0":"Asia/Kathmandu","360,0":"Asia/Dhaka","360,1":"Asia/Omsk","390,0":"Asia/Rangoon","420,1":"Asia/Krasnoyarsk","420,0":"Asia/Jakarta","480,0":"Asia/Shanghai","480,1":"Asia/Irkutsk","525,0":"Australia/Eucla","525,1,s":"Australia/Eucla","540,1":"Asia/Yakutsk","540,0":"Asia/Tokyo","570,0":"Australia/Darwin","570,1,s":"Australia/Adelaide","600,0":"Australia/Brisbane","600,1":"Asia/Vladivostok","600,1,s":"Australia/Sydney","630,1,s":"Australia/Lord_Howe","660,1":"Asia/Kamchatka","660,0":"Pacific/Noumea","690,0":"Pacific/Norfolk","720,1,s":"Pacific/Auckland","720,0":"Pacific/Tarawa","765,1,s":"Pacific/Chatham","780,0":"Pacific/Tongatapu","780,1,s":"Pacific/Apia","840,0":"Pacific/Kiritimati"},typeof exports!="undefined"?exports.jstz=b:a.jstz=b}(this),function(){var a;a=jstz.determine().name(),document.cookie="tz="+encodeURIComponent(a)+"; path=/"}.call(this),function(){var a;if(((a=window.performance)!=null?a.timing:void 0)==null)return;$(window).on("load",function(){return setTimeout(function(){var a,b,c,d;b={},d=window.performance.timing;for(a in d)c=d[a],typeof c=="number"&&(b[a]=c);return $.ajax({url:"/_stats",type:"POST",data:{timing:b}})},0)})}.call(this),function(){var a;$.pageUpdate(a=function(){var a,b,c,d,e,f;f=$(this).find(".tooltipped");for(d=0,e=f.length;d<e;d++)b=f[d],a=$(b),c=a.hasClass("downwards")?"n":"s",c=a.hasClass("rightwards")?"w":c,c=a.hasClass("leftwards")?"e":c,c=a.hasClass("downandright")?"nw":c,a.tipsy({gravity:c});return $(this).tipsy.revalidate()})}.call(this),function(){var a,b=this;a=function(){function a(){var b=this;this.onToggle=function(c){return a.prototype.onToggle.apply(b,arguments)},this.onError=function(c){return a.prototype.onError.apply(b,arguments)},this.onSuccess=function(c){return a.prototype.onSuccess.apply(b,arguments)},this.onComplete=function(c){return a.prototype.onComplete.apply(b,arguments)},this.onBeforeSend=function(c){return a.prototype.onBeforeSend.apply(b,arguments)},this.onClick=function(c){return a.prototype.onClick.apply(b,arguments)},$(document).on("click",".js-toggler-container .js-toggler-target",this.onClick),$(document).on("ajaxBeforeSend",".js-toggler-container",this.onBeforeSend),$(document).on("ajaxComplete",".js-toggler-container",this.onComplete),$(document).on("ajaxSuccess",".js-toggler-container",this.onSuccess),$(document).on("ajaxError",".js-toggler-container",this.onError),$(document).on("toggler:toggle",".js-toggler-container",this.onToggle)}return a.prototype.onClick=function(a){return $(a.target).trigger("toggler:toggle"),!1},a.prototype.onBeforeSend=function(a){var b;return b=a.currentTarget,$(b).removeClass("success error"),$(b).addClass("loading")},a.prototype.onComplete=function(a){return $(a.currentTarget).removeClass("loading")},a.prototype.onSuccess=function(a){return $(a.currentTarget).addClass("success")},a.prototype.onError=function(a){return $(a.currentTarget).addClass("error")},a.prototype.onToggle=function(a){var b;return b=a.currentTarget,$(b).toggleClass("on")},a}(),new a}.call(this),function(){var a,b,c,d;d=function(a,c,d){var e,f;if(!(e=$(a).attr("data-url")))return;if($(a).data("updatable-xhr"))return;return f=$.ajax({url:e,context:a,channel:c,success:function(c){return b(a,c)},error:function(){return console.error("error updating %s: %o",e,a)},complete:function(){return $(a).removeData("updatable-xhr")}}),$(a).data("updatable-xhr",f)},a=function(a){return $(a).hasDirtyFields()||$(a).hasFocus()||$(a).hasMousedown()||$(a).hasSelection()||$(a).markedAsDirty()},b=function(b,d){var e,f;if(a(b)){$(b).addClass("is-stale"),$(b).trigger("updatableContent:stale");return}return $(b).removeClass("is-stale"),f=$.parseHTML(d),e=$(f).find(".js-updatable-content-fragment"),e.length?(c(b,e),$(b).pageUpdate()):($(b).replaceWith(f),$(f).pageUpdate())},c=function(a,b){var c,d,e;for(d=0,e=b.length;d<e;d++)c=b[d],c.id?$(a).find("#"+c.id).replaceWith(c):console.error("fragment is missing id: %o",c)},$(document).on("socket:message",".js-updatable-content",function(a,b,c){if(this!==a.target)return;d(this,c,b)})}.call(this),function(){var a,b,c,d,e,f,g,h,i;if(!Modernizr.draganddrop)return;b=null,f=null,e=!1,g=function(a){var d,g;g=a.target,g!==f&&(e=c(a,f,g)),f=g,e&&a.preventDefault(),clearTimeout(b),d=function(){return e=c(a,f,null),f=null},b=setTimeout(d,100)},c=function(a,b,c){var d;return d=!0,b&&$(b).fire("drag:out",{originalEvent:a,dataTransfer:a.originalEvent.dataTransfer,relatedTarget:c}),c&&$(c).fire("drag:over",{originalEvent:a,dataTransfer:a.originalEvent.dataTransfer,relatedTarget:b},function(){return d=!1}),d},a=0,h=function(){++a===1&&$(window).on("dragover",g)},i=function(){--a===0&&$(window).off("dragover",g)},d=function(a){var b,c,d,e,f;e=this,f=a.type,c=a.relatedTarget,b=a.handleObj;if(!c||c!==e&&!$.contains(e,c))a.type=b.origType,d=b.handler.apply(this,arguments),a.type=f;return d},$.event.special["drag:out"]={setup:h,teardown:i},$.event.special["drag:over"]={setup:h,teardown:i},$.event.special["drag:enter"]={handle:d,delegateType:"drag:over",bindType:"drag:over"},$.event.special["drag:leave"]={handle:d,delegateType:"drag:out",bindType:"drag:out"}}.call(this),function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y=this,z=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1},A={}.hasOwnProperty,B=function(a,b){function d(){this.constructor=a}for(var c in b)A.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};f=function(){function a(){this.uploads=[],this.busy=!1}return a.prototype.upload=function(a,b){var c,d,e,f;return f=b.start||function(){},e=b.progress||function(){},c=b.complete||function(){},d=b.error||function(){},this.uploads.push({file:a,to:b.to,form:b.form||{},start:f,progress:e,complete:c,error:d}),this.process()},a.prototype.process=function(){var a,b,c,d,e,f,g=this;if(this.busy||this.uploads.length===0)return;c=this.uploads.shift(),this.busy=!0,e=new XMLHttpRequest,e.open("POST",c.to,!0),e.setRequestHeader("X-CSRF-Token",this.token()),e.onloadstart=function(a){return c.start()},e.onreadystatechange=function(a){var b;if(e.readyState===4)return e.status===204?(b=e.getResponseHeader("Location"),c.complete({href:b})):e.status===201?c.complete(JSON.parse(e.responseText)):c.error(),g.busy=!1,g.process()},e.onerror=function(a){return c.error()},e.upload.onprogress=function(a){var b;if(a.lengthComputable)return b=Math.round(a.loaded/a.total*100),c.progress(b)},a=new FormData,f=c.form;for(b in f)d=f[b],a.append(b,d);return a.append("file",c.file),e.send(a)},a.prototype.token=function(){return $('meta[name="csrf-token"]').attr("content")},a}(),e=function(){function d(a){var b=this;this.container=a,this.available=function(){return d.prototype.available.apply(b,arguments)},this.model=$(a).data("model"),this.policyUrl="/upload/policies/"+this.model}var a,b,c;return b=["image/gif","image/png","image/jpeg"],a=["gif","png","jpg","jpeg"],d.prototype.available=function(){return this.field&&this.field[0]!=null},d.prototype.okToUpload=function(a){return this.acceptableSize(a)&&c(a.type)},d.prototype.acceptableSize=function(a){return a.size<5242880},d.prototype.setup=function(a){return a()},d.prototype.start=function(a){},d.prototype.progress=function(a){},d.prototype.complete=function(a){},d.prototype.error=function(a){},d.prototype.acceptsExtension=function(b){var c;return c=b.split(".").pop(),z.call(a,c)>=0},c=function(a){return z.call(b,a)>=0},d}(),c=function(a){function e(a){var b=this;this.container=a,this.complete=function(a){return e.prototype.complete.apply(b,arguments)},e.__super__.constructor.call(this,a),this.field=$(a).siblings("ul.js-releases-field"),this.li=this.field.find("li.js-template"),this.meter=$(a).find(".js-upload-meter")}var b,c,d;return B(e,a),e.prototype.setup=function(a){return $("#release_id").val()?a():$("button.js-save-draft").trigger("click",a)},e.prototype.start=function(a){return this.meter.show()},e.prototype.progress=function(a){return this.meter.css("width",a+"%")},e.prototype.complete=function(a){var b,c,d;return c=this.li.clone(),c.removeClass("template"),c.removeClass("js-template"),b=a.asset.name||a.asset.href.split("/").pop(),c.find(".filename").val(b),a.asset.size?(d=(a.asset.size/1048576).toFixed(2),c.find(".filesize").text("("+d+"MB)")):c.find(".filesize").text(""),c.find("input[type=hidden].url").val(a.asset.href),c.find("input[type=hidden].id").val(a.asset.id),this.field.append(c),this.field.addClass("is-populated"),this.meter.hide()},e.prototype.okToUpload=function(a){return this.acceptsExtension(a.name)},d=["app"],e.prototype.acceptsExtension=function(a){var b;return b=a.split(".").pop(),z.call(d,b)>=0?(q(this.container),this.container.addClass("is-bad-file"),!1):!0},b=function(a){return!0},c=function(a){return!0},e}(e),a=function(a){function b(a){var c=this;this.container=a,this.complete=function(a){return b.prototype.complete.apply(c,arguments)},b.__super__.constructor.call(this,a),this.field=$(a).find("img.js-image-field"),this.input=$(a).find("input.js-oauth-application-logo-id")}return B(b,a),b.prototype.complete=function(a){return this.field.attr("src",a.asset.href),this.input.val(a.asset.id),this.container.addClass("has-uploaded-logo")},b}(e),d=function(a){function b(a){var c=this;this.container=a,this.complete=function(a){return b.prototype.complete.apply(c,arguments)},b.__super__.constructor.call(this,a),this.field=$(a).find("img.js-showcase-image-field"),this.input=$(a).find("input.js-showcase-asset-id")}return B(b,a),b.prototype.complete=function(a){return this.field.attr("src",a.asset.href),this.field.removeClass("hide"),this.container.find(".js-showcase-asset-placeholder").addClass("hide"),this.input.val(a.asset.id)},b}(e),b=function(a){function g(a){var b=this;this.container=a,this.error=function(a){return g.prototype.error.apply(b,arguments)},this.complete=function(a){return g.prototype.complete.apply(b,arguments)},this.start=function(a){return g.prototype.start.apply(b,arguments)},g.__super__.constructor.call(this,a),this.field=$(a).find("textarea.js-comment-field")}var b,c,d,e,f;return B(g,a),d=function(a){return a.toLowerCase().replace(/[^a-z0-9\-_]+/gi,".").replace(/\.{2,}/g,".").replace(/^\.|\.$/gi,"")},e=function(a){return"![Uploading "+a+" . . .]()"},b=function(a){return d(a).replace(/(.*)\.[^.]+$/,"$1").replace(/\./g," ")},c=function(a,b){var c,d,e,f;return e=a.selectionEnd,c=a.value.substring(0,e),f=a.value.substring(e),d=a.value===""||c.match(/\n$/)?"":"\n",a.value=c+d+b+f,a.selectionStart=e+b.length,a.selectionEnd=e+b.length},f=function(a,b,c){var d,e;return $(a).data("link-replace")?a.value=c:(d=a.value.substring(0,a.selectionEnd),e=a.value.substring(a.selectionEnd),d=d.replace(b,c),e=e.replace(b,c),a.value=d+e,a.selectionStart=d.length,a.selectionEnd=d.length)},g.prototype.start=function(a){return c(this.field[0],e(a.name)+"\n")},g.prototype.complete=function(a){var c,d;return d=e(a.asset.original_name),c="!["+b(a.asset.name)+"]("+a.asset.href+")",f(this.field[0],d,c)},g.prototype.error=function(a){var b;return b=e(a.asset.original_name),f(this.field[0],b,"")},g}(e),o=["is-default","is-uploading","is-bad-file","is-too-big","is-failed"],q=function(a){return a.removeClass(o.join(" "))},r=function(a){return q(a),a.addClass("is-default")},x=new f,s=function(e){var f;f=new b(e),f.available()||(f=new a(e)),f.available()||(f=new c(e)),f.available()||(f=new d(e));if(!f||!f.available())return;return f},p=function(a,b){var c;c=s(b);if(!c||!c.okToUpload(a))return;return c.setup(function(){return j(a,c.policyUrl,{success:function(b){var d;return c.start(a),d=k(b,c),x.upload(a,d)},error:function(a,c,d){return q(b),a.status===422?b.addClass("is-bad-file"):b.addClass("is-failed-request")}})})},j=function(a,b,c){return $.ajax({type:"POST",url:b,data:{name:a.name,size:a.size,content_type:a.type,repository_id:$("#release_repository_id").val(),release_id:$("#release_id").val(),team_id:$("[data-team-id]").data("team-id")},success:c.success,error:c.error})},k=function(a,b){var c,d;return c=$(b.container),d={to:a.upload_url,form:a.form,start:function(){return q(c),c.addClass("is-uploading")},progress:function(a){return b.progress(a)},complete:function(d){return $.ajax({type:"PUT",url:a.asset_upload_url}),b.complete(a),b.field.trigger("change"),r(c)},error:function(){return b.error(a),b.field.trigger("change"),q(c),c.addClass("is-failed")}}},u=function(a){var b,c,d,e;if(!a.types)return!1;e=a.types;for(c=0,d=e.length;c<d;c++){b=e[c];if(b==="Files")return!0}return!1},v=function(a){var b,c,d,e;if(!a.types)return!1;e=a.types;for(c=0,d=e.length;c<d;c++){b=e[c];if(b==="text/uri-list")return!0}return!1},w=function(a){var b,c,d,e;if(!a.types)return!1;e=a.types;for(c=0,d=e.length;c<d;c++){b=e[c];if(b==="text/plain")return!0}return!1},g=function(a,b){var c,d,e,f,g;g=[];for(e=0,f=a.length;e<f;e++)c=a[e],p(c,b)?g.push(void 0):(q(b),d=s(b),d.acceptableSize(c)?g.push(b.addClass("is-bad-file")):g.push(b.addClass("is-too-big")));return g},h=function(a,b){var c,d,e,f,g,h;if(!a)return;d=s(b);if(!d.available())return;g=a.split("\r\n"),h=[];for(e=0,f=g.length;e<f;e++)c=g[e],d.acceptsExtension(c)?(d.start({name:""}),h.push(d.complete({asset:{name:"",href:c}}))):(q(b),h.push(b.addClass("is-bad-file")));return h},i=function(a,b){var c;return c=textarea(b),insertTextAtCursor(c[0],a)},l=function(a){return u(a)?"copy":v(a)?"link":w(a)?"copy":"none"},m=function(a){switch(a){case"image/gif":return"image.gif";case"image/png":return"image.png";case"image/jpeg":return"image.jpg"}},Modernizr.draganddrop&&(t=function(a){a==null&&(a=!0),$(document).off("drop.uploads dragover.uploads");if(!a)return;return $(document).on("drop.uploads",function(a){return a.preventDefault()}),$(document).on("dragover.uploads",function(a){return a.originalEvent.dataTransfer.dropEffect="none",a.preventDefault()})},n=function(a){if($(a).data("uploadable-container-installed"))return;return $(a).on("dragenter dragover",function(a){var b;return b=l(a.originalEvent.dataTransfer),a.originalEvent.dataTransfer.dropEffect=b,$(this).addClass("dragover"),!1}),$(a).on("dragleave",function(a){return a.originalEvent.dataTransfer.dropEffect="none",$(this).removeClass("dragover"),!1}),$(a).on("drop",function(b){var c;return $(this).removeClass("dragover"),c=b.originalEvent.dataTransfer,c.types?u(c)?g(c.files,$(this)):v(c)?h(c.getData("text/uri-list"),$(this)):w(c)&&i(c.getData("text/plain"),$(this)):(q($(a)),$(a).addClass("is-bad-browser")),!1}),$(a).data("uploadable-container-installed",!0)},$.pageUpdate(function(){var a,b,c,d,e;a=$(".js-uploadable-container"),t(a.length>0),e=[];for(c=0,d=a.length;c<d;c++)b=a[c],e.push(n(b));return e})),$(document).on("change",".js-manual-file-chooser",function(a){var b;return b=$(this).closest(".js-uploadable-container"),a.target.files?g(a.target.files,b):(q(b),b.addClass("is-bad-browser"))}),$(document).on("paste",".js-uploadable-container",function(a){var b,c,d,e,f;if(!(d=(e=event.clipboardData)!=null?(f=e.items)!=null?f[0]:void 0:void 0))return;if(!(c=m(d.type)))return;return b=d.getAsFile(),b.name=c,g([b],this),a.preventDefault()})}.call(this),function(){var a;a=function(b){var c,d,e,f,g;c=$(b);if(c.is("form")){g=b.elements;for(e=0,f=g.length;e<f;e++){d=g[e];if(!a(d))return!1}return!0}return c.is("input[required], textarea[required]")&&$.trim(c.val())===""?!1:!0},$(document).on("focusin","input[required], textarea[required]",function(){var b,c;return c=a(this),b=function(b){var d;d=a(this),d!==c&&$(this).trigger("validation:field:change",[d]),c=d},$(this).on("input",b),$(this).on("change",b),$(this).on("blur",function(){return $(this).off("input",b),$(this).off("change",b)})}),$(document).on("validation:field:change","form",function(b){var c;return c=a(this),$(this).trigger("validation:change",[c])}),$(function(){var b,c,d,e;e=$("input[required], textarea[required]");for(c=0,d=e.length;c<d;c++)b=e[c],$(b).trigger("validation:field:change",[a(b)])}),$(document).on("validation:change","form",function(a,b){return $(this).find("button[data-disable-invalid]").prop("disabled",!b)})}.call(this),function(){$(document).on("ajaxSuccess",function(a,b){var c;if(c=b.getResponseHeader("X-XHR-Location"))document.location.href=c,a.stopImmediatePropagation()})}.call(this);if(typeof console=="undefined"||typeof console.log=="undefined")window.console={log:function(){}};window.debug=function(){},$.fn.spin=function(){return debug("$.fn.spin is DEPRECATED"),this.after('<img src="'+GitHub.Ajax.spinner+'" id="spinner" width="16" />')},$.fn.stopSpin=function(){return debug("$.fn.stopSpin is DEPRECATED"),$("#spinner").remove(),this},GitHub.Ajax={spinner:GitHub.assetHostUrl+"images/spinners/octocat-spinner-32.gif",error:GitHub.assetHostUrl+"images/modules/ajax/error.png"},$(function(){var b=new Image;b.src=GitHub.Ajax.spinner,$(".flash .close").click(function(){$(this).closest(".flash").fadeOut(300,function(){$(this).remove(),$(".flash-messages .close").length==0&&$(".flash-messages").remove()})}),$(".js-date-input").date_input(),$(".js-form-signup-home input").placeholder()}),$.pageUpdate(function(){$(this).find(".js-entice").each(function(){$(this).enticeToAction({title:$(this).attr("data-entice")})})}),function(){$.pageUpdate(function(){var a,b,c;if(!$("#menu-about").length)return;a=$(".js-github-jobs");if(!a.length)return;return $(".js-github-jobs").attr("data-loading")||($(".js-github-jobs").attr("data-loading",!0),$.getJSON(a.data("url"),function(a){var d,e,f,g;if(a.length===0)return c();g=[];for(e=0,f=a.length;e<f;e++)d=a[e],g.push(b(d));return g}).complete(function(){return $(".js-github-jobs").removeAttr("data-loading")}).error(function(a,b,c){return $(".js-github-jobs .jobs-list").html("Had a problem pulling in our jobs. Sorry!")})),b=function(a){var b;return b=a.description.split("\n")[0],$(".js-github-jobs .jobs-list").append('      <li>        <h3><a href="'+a.url+'">'+a.title+"</a></h3>        <p>"+b+"</p>      </li>    ")},c=function(){return $(".js-github-jobs .jobs").html("<p>We haven't posted any jobs lately. Check back later, though!</p>")}})}.call(this),function(){var a,b,c,d,e;(e=window._gaq)==null&&(window._gaq=[]),_gaq.push(["_setAccount","UA-3769691-2"]),_gaq.push(["_setDomainName","none"]),_gaq.push(["_trackPageview"]),_gaq.push(["_trackPageLoadTime"]),document.title==="404 - GitHub"&&(d=document.location.pathname+document.location.search,a=document.referrer,_gaq.push(["_trackPageview","/404.html?page="+d+"&from="+a])),b=document.createElement("script"),b.type="text/javascript",b.async=!0,c=document.location.protocol==="https:"?"https://ssl":"http://www",b.src=""+c+".google-analytics.com/ga.js",document.getElementsByTagName("head")[0].appendChild(b),$(function(){var a,b,c;if(!(a=$("meta[name=octolytics-host]")[0]))return;return(c=window._octo)==null&&(window._octo=[]),_octo.push(["recordPageView"]),$(document).on("pjax:complete",function(){return _octo.push(["recordPageView"])}),b=document.createElement("script"),b.type="text/javascript",b.async=!0,b.src="//"+a.content+"/assets/api.js",document.getElementsByTagName("head")[0].appendChild(b)})}.call(this),$(function(){$.hotkeys({y:function(){var a=$("link[rel='permalink']").attr("href"),b=$("title");a&&(a+=location.hash,window.location.href=a)}})}),function(){$(document).on("focusin","#js-command-bar-field",function(){var a;return a=$(this),a.data("command-bar-installed")?a.closest(".command-bar").addClass("command-bar-focus"):(a.commandBar().data("command-bar-installed",!0),setTimeout(function(){return a.focus()},20))}),$(document).on("hotkey:activate","#js-command-bar-field",function(a){switch(a.originalEvent.which){case 191:return $(".js-this-repository-navigation-item").fire("navigation:open");case 83:return $(".js-all-repositories-navigation-item").fire("navigation:open")}}),$(document).on("focusout","#js-command-bar-field",function(){return $(this).closest(".command-bar").removeClass("command-bar-focus")}),$(document).on("mousedown",".commandbar .display",function(){return!1}),$(document).on("mousedown",".command-bar-focus #advanced_search",function(){return!1}),$(document).on("click",".js-command-bar .help",function(){var a;return a=$("#js-command-bar-field").focus(),$(".tipsy").hide(),setTimeout(function(){return a.val("help"),a.trigger("execute.commandbar")},250),!1})}.call(this),function(){var a,b,c,d=[].slice,e=this;b=function(a){return a.replace(/^\s+|\s+$/g,"")},c=function(a){return a.replace(/^\s+/g,"")},a=function(){function a(a){this.defaultContext=a,this.callbacks={}}return a.prototype.bind=function(a,b){var c,d,e,f,g;g=a.split(" ");for(e=0,f=g.length;e<f;e++)c=g[e],(d=this.callbacks)[c]||(d[c]=[]),this.callbacks[c].push(b);return this},a.getPageInfo=function(){var a,b;return b=$("#js-command-bar-field"),a={},b.length?(b.data("username")&&(a.current_user=b.data("username")),a.search_choice="global",$(".js-search-this-repository:checked").length&&(a.search_choice="this_repo"),b.data("repo")&&(a.repo={name_with_owner:b.data("repo"),branch:b.data("branch"),tree_sha:b.data("sha"),issues_page:!1},$(".js-issues-results").length&&(a.repo.issues_page=!0)),a):{}},a.prototype.trigger=function(){var a,b,c,e,f,g;e=arguments[0],a=2<=arguments.length?d.call(arguments,1):[],c=this.callbacks[e];if(!
c)return!0;for(f=0,g=c.length;f<g;f++){b=c[f];if(b.apply(this.context,a)===!1)return!1}return!0},a.prototype.unbind=function(a,b){var c,d,e,f,g;if(a)if(b){c=this.callbacks[a];for(e=f=0,g=c.length;f<g;e=++f){d=c[e];if(d!==b)continue;c.splice(e,1);break}}else delete this.callbacks[a];else this.callbacks={};return this},a.prototype.execute=function(a){return(new this.defaultContext(this,a)).fullMatch().execute()},a.prototype.suggestions=function(a,b){return(new this.defaultContext(this,a)).partialMatch().suggestions().slice(0,b)},a.prototype.complete=function(b,c){var d;return d=(new this.defaultContext(this,b)).partialMatch(),a.Store.set(""+d.constructor.name+":"+b,c),d.complete(c)},a}(),a.Store=function(){function b(){}var a;return a=function(){try{return"localStorage"in window&&window.localStorage!==null}catch(a){return!1}},b.set=function(b,c){if(!a())return;try{return localStorage.setItem(b,JSON.stringify(c)),c}catch(d){return!1}},b.get=function(b){return a()?this.parse(localStorage[b]):null},b.parse=function(a){try{return JSON.parse(a)}catch(b){return a}},b.expire=function(b){var c;if(!a())return;return c=localStorage[b],localStorage.removeItem(b),c},b}(),a.RemoteProxy=function(){function a(){}return a.caches={},a.requests={},a.get=function(a,b,c){var d,e,f=this;return this.commandBar=c,(e=b.cache_for)==null&&(b.cache_for=36e5),d=(new Date).getTime()-b.cache_for,this.shouldLoad=function(a){return this.isCached(a)?this.caches[a].requested<d?!0:!1:!0},this.shouldLoad(a)?(this.isLoading(a)||(this.requests[a]=$.ajax({url:a,dataType:b.dataType||"json",success:function(c){return f.caches[a]={response:b.process(c),requested:(new Date).getTime()}},error:function(b,c,d){return f.caches[a]={response:[],requested:(new Date).getTime()}},complete:function(){var b;return delete f.requests[a],(b=f.commandBar)!=null?b.trigger("suggest.commandbar"):void 0}})),this.isCached(a)?this.caches[a].response:[{command:"",description:b.loadingMessage,type:"loading"}]):this.caches[a].response},a.isLoading=function(a){return this.requests[a]!=null},a.isCached=function(a){return this.caches[a]!=null},a}(),a.Timer=function(){function a(){this.time=(new Date).getTime(),this}return a.prototype.diff=function(){var a,b;return b=(new Date).getTime(),a=b-this.time,this.time=b,a},a}(),a.History=function(){function f(){}var c,d,e;return e=[],d=function(){return a.Store.set("commandbar.history",e.slice(0,50).join("\n"))},c=function(a){var c,d,f,g;d=[];for(f=0,g=e.length;f<g;f++)c=e[f],b(c)!==b(a)&&d.push(c);return e=d},f.load=function(){var b;return b=a.Store.get("commandbar.history"),e=b!=null?b.split("\n"):[]},f.add=function(a){return c(a),e.unshift(a),d()},f.get=function(a){return e[a]},f.exists=function(a){return e[a]!=null},f}.call(this),a.History.load(),a.Context=function(){function d(a,b,c){var e=this;this.commandBar=a,this.text=b,this.parent=c,this.lazyLoad=function(a,b){return d.prototype.lazyLoad.apply(e,arguments)},this.suggestionCollection=function(){return d.prototype.suggestionCollection.apply(e,arguments)},this.matches=this.text.match(this.constructor.regex),this.remainder=this.matches?this.text.replace(this.matches[0],""):this.text}return d.contexts=[],d.register=function(a){return this.contexts.push(a)},d.regex=/(?:)/i,d.matches=function(a){return!!a.match(this.regex)},d.help=function(){return{}},d.prototype.override=function(){return!1},d.prototype.search=function(){return!1},d.prototype.suffix=function(){return" "},d.prototype.suggestionOptions=function(){return[]},d.prototype.filter=function(c){var d,e,f,g,h;f=b(this.remainder),d=[];for(g=0,h=c.length;g<h;g++)e=c[g],e=a.SuggestionCollection.prepare(e),e.score=e.defaultScore||a.SuggestionCollection.score(e,f,this),e.score!==0&&d.push(e);return d.sort(function(a,b){return b.score-a.score})},d.prototype.suggestionCollection=function(){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r;j=[],e=[],h=!1,i=0,f=a.getPageInfo(),r=this.constructor.contexts;for(l=0,o=r.length;l<o;l++){c=r[l];if(!c.logged_in||!!f.current_user)b=new c(this.commandBar,this.remainder,this),k=b.suggestionOptions(),k=this.filter(k),k.length!==0&&(b.override()&&(h=!0),b.search()&&i++,e.push({suggestions:k,override:b.override(),search:b.search()}))}if(h){g=[];for(m=0,p=e.length;m<p;m++)d=e[m],(d.override||d.search)&&g.push(d);e=g}for(n=0,q=e.length;n<q;n++)d=e[n],j=j.concat(d.suggestions.slice(0,Math.round(6/(e.length-i))));return j},d.prototype.suggestions=function(){var a;return a=this.suggestionCollection(),a.sort(function(a,b){return b.score-a.score}),a},d.prototype.fullMatch=function(c){var d,e,f,g,h,i,j,k;c==null&&(c=this.remainder),e=this,f=a.getPageInfo();if(b(c)==="")h=this;else{k=this.constructor.contexts;for(i=0,j=k.length;i<j;i++){d=k[i];if(!d.logged_in||!!f.current_user)if(!d.skipMatch&&d.matches(c)){g=(new d(this.commandBar,c,this)).fullMatch();if(g)return g}}}return h||e},d.prototype.partialMatch=function(){var b,d,e,f,g,h,i,j;d=this,e=a.getPageInfo();if(this.remainder.length){j=this.constructor.contexts;for(h=0,i=j.length;h<i;h++){b=j[h];if(!b.logged_in||!!e.current_user)if(b.matches(this.remainder)){f=(new b(this.commandBar,c(this.remainder),this)).partialMatch();if(f)return f}}}else g=this.parent;return g||d},d.prototype.description=function(){return"Execute `"+this.command()+"`"},d.prototype.command=function(){return this.parent?b(""+this.parent.command()+" "+this.matches[0]):""},d.prototype.complete=function(a){var b;return b=this.fullMatch(a),(b!=null?b.command():void 0)+b.suffix()},d.prototype.lazyLoad=function(b,c){return a.RemoteProxy.get(b,c,this.commandBar)},d.prototype.loading=function(a){return this.commandBar.trigger("loading.commandbar",a)},d.prototype.success=function(a){return this.commandBar.trigger("success.commandbar",a)},d.prototype.error=function(a){return this.commandBar.trigger("error.commandbar",a)},d.prototype.message=function(a){return this.commandBar.trigger("message.commandbar",a)},d.prototype.goToUrl=function(b){var c;if(!a.ctrlKey&&!a.metaKey)return window.location=b;c=window.open(b,(new Date).getTime());if(c!==window)return this.success("Opened in a new window")},d.prototype.post=function(a){return a=$.extend(a,{type:"POST"}),$.ajax(a)},d.prototype.execute=function(){},d}(),a.SuggestionCollection={constructor:function(a){this.suggestions=a},prepare:function(a){return{prefix:a.prefix||"",url:a.url||null,search:a.search||null,command:a.command||"",display:a.display||a.command,description:a.description||"",type:a.type||"choice",multiplier:a.multiplier||1,defaultScore:a.defaultScore||null,skip_fuzzy:a.skip_fuzzy||!1,filter:a.filter===!1?!1:!0}},score:function(b,c,d){var e,f,g;return f=0,b.filter===!1?f=1:b.type!=="loading"?(e=a.Store.get(""+d.constructor.name+":"+c),e===b.command?f=1.99:(g=b.search?b.search:b.command,f=c?$.fuzzyScore(g,c):1,f*=b.multiplier)):f=20,f}},window.CommandBar=a}.call(this),function(){CommandBar.Context.prototype.execute=function(){return $.trim(this.text)===""?!1:(this.loading("Searching for '"+this.text+"'"),this.commandBar.trigger("submit.commandbar"))}}.call(this),function(){var a,b=this,c={}.hasOwnProperty,d=function(a,b){function e(){this.constructor=a}for(var d in b)c.call(b,d)&&(a[d]=b[d]);return e.prototype=b.prototype,a.prototype=new e,a.__super__=b.prototype,a};a=function(a){function b(){var a=this;return this.suffix=function(){return b.prototype.suffix.apply(a,arguments)},b.__super__.constructor.apply(this,arguments)}return d(b,a),b.contexts=[],b.regex=/^(help|\?)$/i,b.prototype.suggestionOptions=function(){return this.text.match(/^[h\?]/i)?[{command:"help",description:"Show available commands",search:"help ?"}]:[]},b.prototype.description=function(){return"Show available commands"},b.prototype.helpMessagesFor=function(a){var b,c,d,e,f,g,h;f=this,e=[],d=CommandBar.getPageInfo();for(g=0,h=a.length;g<h;g++){b=a[g];if(!b.logged_in||!!d.current_user)c=b.help(),c.constructor===Array?e=e.concat(c):(b.contexts.length&&(c.children=f.helpMessagesFor(b.contexts)),e.push(c))}return e},b.prototype.formatCommands=function(a){var b;return b="<table>",b+=this.messageRows(a),b+="</table>",b},b.prototype.messageRows=function(a,b){var c,d,e,f;d="",b||(b=""),a=a.sort(function(a,b){return a.command>b.command?1:-1});for(e=0,f=a.length;e<f;e++){c=a[e];if(c.child!==!0||b!=="")d+=this.messageRow(c,b);c.children&&(d+=this.messageRows(c.children,""+b+c.command+" "))}return d},b.prototype.messageRow=function(a,b){var c;return c="",a.description?(c+="<tr><td class=command>",c+=""+b+"<strong>"+a.command+"</strong>",c+="</td><td><span>"+a.description+"</span></td></tr>"):""},b.prototype.execute=function(){var a;return a=[],a=a.concat(this.helpMessagesFor(this.commandBar.defaultContext.contexts)),this.message(this.formatCommands(a))},b.prototype.suffix=function(){return""},b}(CommandBar.Context),CommandBar.Context.register(a)}.call(this),function(){var a,b,c,d,e,f,g,h,i=this,j={}.hasOwnProperty,k=function(a,b){function d(){this.constructor=a}for(var c in b)j.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};d=function(a){function b(){var a=this;return this.repo=function(){return b.prototype.repo.apply(a,arguments)},b.__super__.constructor.apply(this,arguments)}return k(b,a),b.contexts=[],b.regex=/^([\w\._-]+\/[\w\._-]+)/i,b.help=function(){return{command:"user/repo",description:"View a repository"}},b.prototype.repo=function(){if(this.matches)return this.matches[1]},b.prototype.suggestionOptions=function(){var a,b,c,d;if(!this.text.match(/^[\w\._-]/i))return[];b=CommandBar.getPageInfo(),a=[],b.current_user&&b.search_choice==="global"&&(a=this.lazyLoad("/command_bar/repos",{loadingMessage:"Loading repositories",process:function(a){return a.results}}));if(d=this.text.match(/([\w\._-]+)\//i))c=d[1],a=this.lazyLoad("/command_bar/repos_for/"+c,{loadingMessage:"Loading repositories for "+c,process:function(a){return a.results}});return a},b.prototype.description=function(){return"Go to "+this.repo()},b.prototype.helpText=function(){return{command:"user/repo",description:"View user/repo, manage issues, etc."}},b.prototype.execute=function(){return this.loading("Loading "+this.repo()),this.goToUrl("/"+this.repo()+"?source=c")},b}(CommandBar.Context),b=function(a){function b(){var a=this;return this.suffix=function(){return b.prototype.suffix.apply(a,arguments)},this.execute=function(){return b.prototype.execute.apply(a,arguments)},this.branch=function(){return b.prototype.branch.apply(a,arguments)},this.repo=function(){return b.prototype.repo.apply(a,arguments)},b.__super__.constructor.apply(this,arguments)}return k(b,a),b.contexts=[],b.regex=/@(.+)?/i,b.help=function(){return{child:!0,command:"@branchname",description:"View a branch in a repository"}},b.prototype.repo=function(){if(this.parent.repo)return this.parent.repo()},b.prototype.suggestionOptions=function(){return!!this.text.match(/^\s@/i)&&this.repo()?this.lazyLoad("/command_bar/"+this.repo()+"/branches",{loadingMessage:"Loading "+this.repo()+"'s  branches",process:function(a){return a.results}}):[{command:"@branchname",description:"View a branch in a repository"}]},b.prototype.branch=function(){if(this.matches)return this.matches[1]},b.prototype.description=function(){return"Show branch `"+this.branch()+"` for "+this.repo()},b.prototype.execute=function(){return!this.repo()||!this.branch()?!0:(this.loading("Loading "+this.repo()+":"+this.branch()+" branch"),this.goToUrl("/"+this.repo()+"/tree/"+this.branch()+"?source=cb"))},b.prototype.suffix=function(){return""},b}(CommandBar.Context),c=function(a){function b(){var a=this;return this.repo=function(){return b.prototype.repo.apply(a,arguments)},b.__super__.constructor.apply(this,arguments)}return k(b,a),b.contexts=[],b.skipMatch=!0,b.regex=/(.+)?/i,b.prototype.repo=function(){var a;a=CommandBar.getPageInfo();if(a.repo)return a.repo.name_with_owner},b.prototype.suggestionOptions=function(){var a;return a=CommandBar.getPageInfo(),a.search_choice==="global"?[]:this.lazyLoad("/command_bar/"+this.repo()+"/branches",{loadingMessage:"Loading "+this.repo()+"'s  branches",process:function(a){return a.results}})},b}(CommandBar.Context),e=function(a){function b(){var a=this;return this.execute=function(){return b.prototype.execute.apply(a,arguments)},this.issue=function(){return b.prototype.issue.apply(a,arguments)},this.query=function(){return b.prototype.query.apply(a,arguments)},this.repo=function(){return b.prototype.repo.apply(a,arguments)},b.__super__.constructor.apply(this,arguments)}return k(b,a),b.contexts=[],b.regex=/\#(.+)/i,b.timeout=null,b.previous_term=null,b.last_suggested=null,b.search_delay=400,b.help=function(){return{child:!0,command:"#123",description:"View a specific issue"}},b.prototype.searchDelayPassed=function(){return(new Date).getTime()-this.constructor.last_suggested>=this.constructor.search_delay},b.prototype.repo=function(){if(this.parent.repo)return this.parent.repo()},b.prototype.query=function(){if(this.matches)return this.matches[1]},b.prototype.suggestionOptions=function(){return!!this.text.match(/^\s#/i)&&this.repo()?this.delayedSearch():[{command:"#123",description:"View a specific issue"}]},b.prototype.delayedSearch=function(){var a,b,c;return c=this.text,b=this.constructor.previous_term,clearTimeout(this.constructor.timeout),this.constructor.previous_term=c,c===b&&this.searchDelayPassed()?this.lazyLoad("/command_bar/"+this.repo()+"/issues_for?q="+encodeURIComponent(c),{loadingMessage:"Loading "+this.repo()+"'s issues",process:function(a){return a.results}}):(this.constructor.last_suggested=(new Date).getTime(),a=this.commandBar,this.constructor.timeout=setTimeout(function(){return a.trigger("suggest.commandbar")},this.constructor.search_delay),[])},b.prototype.suffix=function(){return""},b.prototype.issue=function(){return this.matches?this.matches[1]:""},b.prototype.description=function(){return"Show issue #"+this.issue()+" for "+this.repo()},b.prototype.execute=function(){return this.loading("Loading issue #"+this.issue()+" for "+this.repo()),this.goToUrl("/"+this.repo()+"/issues/"+this.issue()+"?source=c")},b}(CommandBar.Context),f=function(a){function b(){var a=this;return this.repo=function(){return b.prototype.repo.apply(a,arguments)},b.__super__.constructor.apply(this,arguments)}return k(b,a),b.contexts=[],b.skipMatch=!0,b.regex=/(?:)/i,b.timeout=null,b.previous_term=null,b.last_suggested=null,b.search_delay=400,b.prototype.override=function(){var a;return a=CommandBar.getPageInfo(),a.repo&&!this.text.match(/^([\w\._-]+\/[\w\._-]+)/i)?a.repo.issues_page:!1},b.prototype.repo=function(){var a;a=CommandBar.getPageInfo();if(a.repo)return a.repo.name_with_owner},b.prototype.searchDelayPassed=function(){return(new Date).getTime()-this.constructor.last_suggested>=this.constructor.search_delay},b.prototype.suggestionOptions=function(){var a,b;return b=this.text,a=CommandBar.getPageInfo(),this.repo()&&a.search_choice==="this_repo"?this.delayedSearch():a.current_user?this.lazyLoad("/command_bar/issues",{loadingMessage:"Loading issues",process:function(a){return a.results}}):[]},b.prototype.delayedSearch=function(){var a,b,c;return c=this.text,b=this.constructor.previous_term,clearTimeout(this.constructor.timeout),this.constructor.previous_term=c,c===b&&this.searchDelayPassed()?this.lazyLoad("/command_bar/"+this.repo()+"/issues_for?q="+encodeURIComponent(c),{loadingMessage:"Loading "+this.repo()+"'s issues",process:function(a){return a.results}}):(this.constructor.last_suggested=(new Date).getTime(),a=this.commandBar,this.constructor.timeout=setTimeout(function(){return a.trigger("suggest.commandbar")},this.constructor.search_delay),[])},b}(CommandBar.Context),a=function(a){function b(){var a=this;return this.suffix=function(){return b.prototype.suffix.apply(a,arguments)},this.filename=function(){return b.prototype.filename.apply(a,arguments)},this.fullpath=function(){return b.prototype.fullpath.apply(a,arguments)},this.repo=function(){return b.prototype.repo.apply(a,arguments)},b.__super__.constructor.apply(this,arguments)}return k(b,a),b.contexts=[],b.regex=/^\s*\/([\w\_\-\.]+\/?)+/i,b.timeout=null,b.previous_term=null,b.last_suggested=null,b.search_delay=400,b.help=function(){return{child:!0,command:"/path/to/file.s",description:"View a blob page"}},b.prototype.repo=function(){var a;if(this.parent.repo)return this.parent.repo();a=CommandBar.getPageInfo();if(a.repo)return a.repo.name_with_owner},b.prototype.searchDelayPassed=function(){return(new Date).getTime()-this.constructor.last_suggested>=this.constructor.search_delay},b.prototype.fullpath=function(){if(this.matches)return $.trim(this.matches[0])},b.prototype.filename=function(){if(this.matches)return $.trim(this.matches[1])},b.prototype.suggestionOptions=function(){var a,b,c,d,e;return e=this.text,b=CommandBar.getPageInfo(),e.match(/^[\/\w\._-]/i)?this.repo()?(d=b.repo.tree_sha,d===""||b.search_choice==="global"?[]:(c=this.constructor.previous_term,clearTimeout(this.constructor.timeout),this.constructor.previous_term=e,e===c&&this.searchDelayPassed()?this.lazyLoad("/command_bar/"+this.repo()+"/paths/"+b.repo.branch+"?q="+e+"&sha="+d,{loadingMessage:"Loading "+this.repo()+"'s  files",process:function(a){return a.results}}):(this.constructor.last_suggested=(new Date).getTime(),a=this.commandBar,this.constructor.timeout=setTimeout(function(){return a.trigger("suggest.commandbar")},this.constructor.search_delay),[]))):[]:[]},b.prototype.suffix=function(){return""},b.prototype.execute=function(){var a;return a=CommandBar.getPageInfo(),a.repo?(this.loading("Loading "+this.filename()),this.goToUrl("/"+this.repo()+"/blob/"+a.repo.branch+this.fullpath()+"?source=c")):null},b}(CommandBar.Context),h=function(a){function b(){var a=this;return this.suffix=function(){return b.prototype.suffix.apply(a,arguments)},this.execute=function(){return b.prototype.execute.apply(a,arguments)},this.section=function(){return b.prototype.section.apply(a,arguments)},this.repo=function(){return b.prototype.repo.apply(a,arguments)},b.__super__.constructor.apply(this,arguments)}return k(b,a),b.contexts=[],b.regex=/^\s*(wiki|graphs|network|pulse|issues|pulls)\b$/i,b.help=function(){return(new this(this.commandBar,"")).suggestionOptions()},b.prototype.repo=function(){return this.parent.repo()},b.prototype.section=function(){if(this.matches)return this.matches[1]},b.prototype.suggestionOptions=function(){return[{command:"wiki",description:"Pull up the wiki"},{command:"graphs",description:"All the Graphs!"},{command:"network",description:"See the network"},{command:"pulse",description:"See recent activity"},{command:"issues",description:"View open issues"},{command:"pulls",description:"Show open pull requests"}]},b.prototype.description=function(){return"View the "+this.section()+" for "+this.repo()},b.prototype.execute=function(){return this.loading("Loading "+this.section()+" for "+this.repo()),this.goToUrl("/"+this.repo()+"/"+this.section()+"?source=c")},b.prototype.suffix=function(){return""},b}(CommandBar.Context),g=function(a){function b(){var a=this;return this.suffix=function(){return b.prototype.suffix.apply(a,arguments)},this.execute=function(){return b.prototype.execute.apply(a,arguments)},this.type=function(){return b.prototype.type.apply(a,arguments)},this.repo=function(){return b.prototype.repo.apply(a,arguments)},b.__super__.constructor.apply(this,arguments)}return k(b,a),b.contexts=[],b.regex=/^\s*new\s(pull|issues)\b$/i,b.logged_in=!0,b.help=function(){return(new this(this.commandBar,"")).suggestionOptions()},b.prototype.repo=function(){return this.parent.repo()},b.prototype.type=function(){if(this.matches)return this.matches[1]},b.prototype.suggestionOptions=function(){return[{command:"new issues",description:"Create new issue"},{command:"new pull",description:"Create new pull request"}]},b.prototype.description=function(){return"Create a new issue for "+this.repo()},b.prototype.execute=function(){return this.loading("Loading new "+this.type()+" form for "+this.repo()),this.goToUrl("/"+this.repo()+"/"+this.type()+"/new?source=c")},b.prototype.suffix=function(){return""},b}(CommandBar.Context),CommandBar.Context.register(d),CommandBar.Context.register(c),CommandBar.Context.register(a),CommandBar.Context.register(f),d.register(e),d.register(b),d.register(a),d.register(g),d.register(h)}.call(this),function(){var a,b,c=this,d={}.hasOwnProperty,e=function(a,b){function e(){this.constructor=a}for(var c in b)d.call(b,c)&&(a[c]=b[c]);return e.prototype=b.prototype,a.prototype=new e,a.__super__=b.prototype,a};b=function(a){function b(){var a=this;return this.suffix=function(){return b.prototype.suffix.apply(a,arguments)},b.__super__.constructor.apply(this,arguments)}return e(b,a),b.contexts=[],b.regex=/^search\sgithub\sfor\s'(.+)'$/i,b.prototype.search=function(){return!0},b.prototype.query=function(){if(this.matches)return $.trim(this.matches[1])},b.prototype.suggestionOptions=function(){return[{command:"Search GitHub for '"+this.text+"'",description:"",multiplier:0,defaultScore:-2,url:"/search?q="+encodeURIComponent(this.text)+"&source=cc",skip_fuzzy:!0}]},b.prototype.description=function(){return"Search GitHub for "+this.query()},b.prototype.execute=function(){return this.loading("Searching for '"+this.query()+"'"),this.goToUrl("/search?q="+encodeURIComponent(this.query())+"&source=c")},b.prototype.suffix=function(){return""},b}(CommandBar.Context),a=function(a){function b(){var a=this;return this.suffix=function(){return b.prototype.suffix.apply(a,arguments)},b.__super__.constructor.apply(this,arguments)}return e(b,a),b.contexts=[],b.regex=/^search\s([\w\._-]+\/[\w\._-]+)\sfor\s'(.+)'$/i,b.prototype.search=function(){return!0},b.prototype.query=function(){if(this.matches)return $.trim(this.matches[2])},b.prototype.repomatch=function(){if(this.matches)return $.trim(this.matches[1])},b.prototype.suggestionOptions=function(){var a;return a=CommandBar.getPageInfo(),a.repo?[{command:"Search "+a.repo.name_with_owner+" for '"+this.text+"'",description:"",multiplier:0,defaultScore:-1,url:"/"+a.repo.name_with_owner+"/search?q="+encodeURIComponent(this.text)+"&source=cc",skip_fuzzy:!0}]:[]},b.prototype.description=function(){return"Search GitHub for "+this.query()},b.prototype.execute=function(){return this.loading("Searching for '"+this.query()+"'"),this.goToUrl("/"+this.repomatch()+"/search?q="+encodeURIComponent(this.query())+"&source=c")},b.prototype.suffix=function(){return""},b}(CommandBar.Context),CommandBar.Context.register(b),CommandBar.Context.register(a)}.call(this),function(){var a,b=this,c={}.hasOwnProperty,d=function(a,b){function e(){this.constructor=a}for(var d in b)c.call(b,d)&&(a[d]=b[d]);return e.prototype=b.prototype,a.prototype=new e,a.__super__=b.prototype,a};a=function(a){function b(){var a=this;return this.suffix=function(){return b.prototype.suffix.apply(a,arguments)},this.user=function(){return b.prototype.user.apply(a,arguments)},b.__super__.constructor.apply(this,arguments)}return d(b,a),b.contexts=[],b.regex=/^@([A-Za-z0-9-_]+)\/?/i,b.timeout=null,b.previous_term=null,b.last_suggested=null,b.search_delay=400,b.help=function(){return{command:"@user",description:"View a user&rsquo;s profile"}},b.matches=function(a){var b;return b=a.match(this.regex),!!b&&!b[0].match(/\/$/)},b.prototype.searchDelayPassed=function(){return(new Date).getTime()-this.constructor.last_suggested>=this.constructor.search_delay},b.prototype.suggestionOptions=function(){var a,b,c,d;return d=this.text,d.match(/^[@\w\._-]/i)?(b=CommandBar.getPageInfo(),this.text.match(/^@[\w\._-]/i)?(c=this.constructor.previous_term,clearTimeout(this.constructor.timeout),this.constructor.previous_term=d,d===c&&this.searchDelayPassed()?this.lazyLoad("/command_bar/users?q="+this.user(),{loadingMessage:"Loading users",process:function(a){return a.results}}):(this.constructor.last_suggested=(new Date).getTime(),a=this.commandBar,this.constructor.timeout=setTimeout(function(){return a.trigger("suggest.commandbar")},this.constructor.search_delay),[])):b.current_user&&b.search_choice==="global"?this.lazyLoad("/command_bar/users",{loadingMessage:"Loading users",process:function(a){return a.results}}):[]):[]},b.prototype.user=function(){if(this.matches)return this.matches[1]},b.prototype.suffix=function(){return""},b.prototype.execute=function(){return this.loading("Loading "+this.user()+"'s profile"),this.goToUrl("/"+this.user()+"?source=c")},b}(CommandBar.Context),CommandBar.Context.register(a)}.call(this),function(){var a,b,c;a=jQuery,b={ENTER:13,TAB:9,UP:38,DOWN:40,N:78,P:80,CTRL:17,ESC:27},c={init:function(c){var d;return d={classname:"commandbar",debug:!1,context:CommandBar.Context,limit:12},d=a.extend(d,c),this.each(function(){var c,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;return h=new CommandBar(d.context),f=a(this),d.limit||(d.limit=f.attr("data-results-limit")),f.attr("autocomplete","off"),f.attr("spellcheck","false"),f.wrap('<div class="'+d.classname+'" />'),e=f.closest("."+d.classname),g=a('<span class="message" />').prependTo(e),c=a('<div class="display hidden" />').appendTo(e),n=null,j=0,f.bind("execute.commandbar",function(){return k()}),h.bind("suggest.commandbar",function(){return f.trigger("suggest.commandbar")}),h.bind("loading.commandbar",function(a){return t(a,"loading")}),h.bind("message.commandbar",function(a){return q(a)}),h.bind("success.commandbar",function(a){return t(""+String.fromCharCode(10004)+" "+a,"success",!0)}),h.bind("error.commandbar",function(a){return t(""+String.fromCharCode(10006)+" "+a,"error",!0)}),h.bind("submit.commandbar",function(a){return f.closest("form").submit()}),t=function(a,b,c){g.text(a).show().addClass("visible"),g.removeClass("loading error success").addClass(b);if(c)return l()},l=function(){return setTimeout(function(){return g.removeClass("visible")},5e3)},m=function(){return g.hide().removeClass("visible loading error success")},r=function(){var a,b,d;a=c.find(".selected"),d=function(){return a.position().top<0},b=function(){return a.position().top+a.outerHeight()>c.height()},d()&&c.scrollTop(c.scrollTop()+a.position().top);if(b())return c.scrollTop(c.scrollTop()+a.position().top+a.outerHeight()-c.height())},o=function(){var a;c.find(".selected").removeClass("selected");if(j===-1)return f.val(f.data("val")),c.removeClass("hidden"),j++;if(j>=0)return a=c.find(".choice:nth-child("+(j+1)+")").addClass("selected"),a.length?(r(),f.val(h.complete(f.data("val"),a.data("command"))),j++):c.find(".choice:nth-child("+j+")").addClass("selected");if(CommandBar.History.exists(-j-2))return f.val(CommandBar.History.get(-j-2)),j++},p=function(){var a;c.find(".selected").removeClass("selected");if(j===1)return f.val(f.data("val")),j--;if(j>1)return a=c.find(".choice:nth-child("+(j-1)+")"),a.addClass("selected"),r(),a.length&&f.val(h.complete(f.data("val"),a.data("command"))),j--;if(CommandBar.History.exists(-j))return c.addClass("hidden"),f.val(CommandBar.History.get(-j)),j--},i=function(b){var d,e;b.length||(b=c.find(".choice:first"));if(!b.length)return;return n!=null&&clearTimeout(n),e=f.data("val"),d=a(b).data("command"),f.val(h.complete(e,d)),f.focus().keyup()},q=function(a){return c.html(a).show().removeClass("hidden")},k=function(){return c.html(""),CommandBar.History.add(f.val()),h.execute(f.val()),f.val(""),s()},g.click(function(){return m(),f.focus(),!1}),f.focus(function(){return clearTimeout(n),e.addClass("focused"),a(this).keyup()}),f.blur(function(){return n=setTimeout(function(){return e.removeClass("focused"),c.addClass("hidden")},200)}),f.bind("suggest.commandbar",function(){var b,e,f,g,i,k,l,m;j=0,k=a(this).val(),c.html("");if(k!==""){i=h.suggestions(k,d.limit);for(l=0,m=i.length;l<m;l++)g=i[l],e=a("<span class=command />"),f=a("<span class=description />"),b=a("<a class="+g.type+"></a>").attr("data-command",g.command),g.url&&b.attr("href",g.url),g.prefix&&a("<span class=prefix />").html(g.prefix).appendTo(b),g.display&&e.text(g.display).appendTo(b),g.description&&f.text(g.description).appendTo(b),b.appendTo(c),g.skip_fuzzy||a.fuzzyHighlight(e[0],k),g.skip_fuzzy||a.fuzzyHighlight(f[0],k)}return s()}),s=function(){return c.is(":empty")?c.hide().addClass("hidden"):c.show().removeClass("hidden")},f.bind("throttled:input",function(a){return f.val()!==""&&m(),f.data("val",f.val()),f.trigger("suggest.commandbar")}),f.keyup(function(a){switch(a.which){case b.N:case b.P:return a.ctrlKey?!1:f.trigger("suggest.commandbar");case b.ENTER:case b.TAB:case b.CTRL:case b.DOWN:case b.UP:case b:return!1;case b.ESC:return f.val()===""?f.blur():f.val("")}}),f.keydown(function(a){CommandBar.ctrlKey=a.ctrlKey,CommandBar.metaKey=a.metaKey,CommandBar.shiftKey=a.shiftKey;switch(a.which){case b.DOWN:return o();case b.UP:return p(),a.preventDefault(),!1;case b.P:if(a.ctrlKey)return p();break;case b.N:if(a.ctrlKey)return o();break;case b.ENTER:return k(),!1;case b.TAB:if(f.val()!=="")return i(c.find(".selected")),!1}}),c.on("click",".choice",function(){var b;b=a(this);if(!b.attr("href"))return i(b),!1})})}},a.fn.commandBar=function(b){return c[b]?c[b].apply(this,Array.prototype.slice.call(arguments,1)):typeof b=="object"||!b?c.init.apply(this,arguments):a.error("Method "+b+" does not exists on jQuery.commandBar")}}.call(this),function(){}.call(this),function(){var a,b;a=null,b=function(b){return a!=null?b(a):$.conduit?$.conduit("status",function(c){return b(a=c!=null)}):b(!1)},$.pageUpdate(function(){var a;a=$(this).find(".js-desktop-app-required");if(!a.length)return;b(function(b){return a.toggleClass("desktop-app-installed",b)})})}.call(this),function(){var a;if(!Modernizr.websockets)return;a=null,$.conduit=function(b,c){c==null&&(c=function(){}),a==null&&(a=$("link[rel=conduit-xhr]").prop("href")),a?$.ajax({url:""+a+b,success:function(a){return c(a)},error:function(){return c()}}):setTimeout(c,0)}}.call(this),function(){var a,b,c,d,e,f,g,h;c=null,d=null,g=null,h=null,b=function(a){var b;return b=$("<img>",{"class":"dots",src:"/images/spinners/octocat-spinner-128.gif"}),$("#contribution-activity-listing").html(b),$.pjax({url:a,container:"#contribution-activity",scrollTo:!1,replace:!0})},e=function(a){var d,e;return c=a,d=null,g=null,h=null,e=""+document.location.pathname+"?tab=contributions&period="+c,f(),b(e)},f=function(a,b){var c,d;return d=$(".calendar-graph"),c=d3.select(".js-calendar-graph").selectAll("rect.day").classed("active",!1),a||b?(d.addClass("days-selected"),c.filter(function(c,d){return a&&b?c[0]>=a&&c[0]<=b:c[0]===a}).classed("active",!0)):d.removeClass("days-selected")},$(document).on("contributions:range",function(a,i,j){var k,l,m,n,o,p,q,r,s,t;j==null&&(j=!1),q=""+document.location.pathname+"?tab=contributions";if(i>=g&&i<=h){e("weekly");return}return typeof j=="object"&&(d=j,j=!0),d&&j?(o=moment(d).clone().subtract("days",31).toDate(),n=moment(d).clone().add("days",31).toDate(),r=i>d?[d,i]:[i,d],m=r[0],p=r[1],m<o&&(m=o),p>n&&(p=n),s=[m,p],g=s[0],h=s[1],k=moment(m).format("YYYY-MM-DD"),l=moment(p).format("YYYY-MM-DD"),q+="&from="+k+"&to="+l):(m=i,t=[m,null],g=t[0],h=t[1],k=moment(m).format("YYYY-MM-DD"),q+="&from="+k),d=i,c="custom",f(m,p),b(q)}),$(document).on("change",".js-period-container",function(a){var b;a.preventDefault(),a.stopPropagation(),b=$(a.target).val().toLowerCase();if(c===b)return;return e(b)}),$(a=function(){var a;return a=$(".popular-repos .col").height()-20,$(".popular-repos .capped-box").css("height",""+a+"px")})}.call(this),function(){$(document).on("click",".js-git-protocol-selector",function(){var a,b,c;return a=$(this).closest(".url-box"),c=$(this).attr("href"),b=$(this).attr("data-permission"),a.find(".js-url-field").val(c),a.find(".js-zeroclipboard").attr("data-clipboard-text",c),a.find(".js-clone-url-permission").text(b),$(".js-live-clone-url").text(c),(c=$(this).attr("data-url"))&&$.ajax({type:"POST",url:c}),a.find(".js-clone-urls > .selected").removeClass("selected"),$(this).parent(".js-clone-url-button").addClass("selected"),!1}),$(document).on("mouseup",".js-url-field",function(){return $(this).select()}),$(document).on("click",".js-clone-selector",function(a){var b,c,d,e;a.preventDefault(),b=$(this).attr("data-protocol"),e=$(".clone-url").hide(),c=e.filter('[data-protocol-type="'+b+'"]').show();if(d=c.attr("data-url"))return $.ajax({type:"POST",url:d})})}.call(this),function(){$(document).on("ajaxSend",".js-update-capability",function(){return $(this).find("select").prop("disabled",!0)}),$(document).on("ajaxComplete",".js-update-capability",function(){return $(this).find("select").prop("disabled",!1)}),$(document).on("ajaxSend",".js-revoke-capability",function(){return $(this).addClass("disabled")}),$(document).on("ajaxSuccess",".js-revoke-capability",function(){return $(this).closest(".js-capability-member").remove()})}.call(this),$.pageUpdate(function(
){$(document).on("click",".js-hook-target",function(){return $(".js-hook-target").removeClass("selected"),$(this).addClass("selected"),$(".js-hook-group").hide(),$(this.hash).show().scrollTo(),!1}),$(".test_hook").click(function(){var a=$(this),b=a.prev(".test_hook_message");b.text("Sending payload...");var c=a.attr("href");return $.post(c,{name:a.attr("rel")||""},function(){b.text("Payload deployed")}),!1}),$(".add_postreceive_url").click(function(){var a=$(this).prev("dl.form").clone();return a.find("input").val(""),$(this).before(a),!1}),$(document).on("click",".remove_postreceive_url",function(){return $(this).closest(".fields").find("dl.form").length<2?(alert("You cannot remove the last post-receive URL"),!1):($(this).closest("dl.form").remove(),!1)}),$(".unlock_branch").click(function(){var a=location.pathname.split("/"),b="/"+a[1]+"/"+a[2]+"/unlock_branch/"+a[4],c=$(this).parents(".notification");$(this).spin().remove();var d=this;return $.post(b,function(){c.hide()}),!1});if($("#edit_repo").length>0){var b=$("#change_default_branch"),c=b.find("select"),d=c.val();c.change(function(){b.removeClass("success").removeClass("error").addClass("loading"),$.ajax({type:"PUT",url:b.closest("form").attr("action"),data:{field:"repository_master_branch",value:c.val()},success:function(){b.removeClass("loading").addClass("success"),d=c.val()},error:function(){c.val(d),b.removeClass("loading").addClass("error")}})}),$(".addon.feature").each(function(){var a=$(this);a.find(":checkbox").change(function(){var b=this;a.removeClass("success").removeClass("error").addClass("loading"),$.ajax({type:"PUT",url:a.closest("form").attr("action"),data:{field:b.name,value:b.checked?1:0},success:function(){a.removeClass("loading").addClass("success")},error:function(){b.checked=!b.checked,a.removeClass("loading").addClass("error")}})})});var e=$("#push_pull_collabs input[data-autocomplete]"),f=$("#push_pull_collabs button[type=submit]"),g=null;e.on("autocomplete:search",function(){g&&g.abort();var a=$(this).val();if(a===""){$("#add-user-autocomplete ul").empty(),$("#add-user-autocomplete").trigger("autocomplete:change");return}g=$.ajax({type:"GET",data:{q:a},url:"/autocomplete/users",dataType:"html",success:function(a){g=null,$("#add-user-autocomplete ul").html(a),$("#add-user-autocomplete").trigger("autocomplete:change")}})}),e.on("autocomplete:autocompleted:changed",function(){e.attr("data-autocompleted")?f.removeAttr("disabled"):f.attr("disabled","disabled")}),$("#push_pull_collabs form").submit(function(){var a=$(this).find(":text"),b=a.val();debug("Trying to add %s...",b);if(!b||!a.attr("data-autocompleted"))return!1;var c=function(a){a!=null?$("#push_pull_collabs .error").text(a).show():$("#push_pull_collabs .error").hide()};return c(),$.ajax({url:this.action,data:{member:b},type:"POST",dataType:"json",success:function(b){a.val(""),b.error?c(b.error):$("#push_pull_collabs ul.usernames").append(b.html)},error:function(){c("An unidentified error occurred, try again?")}}),!1}),$(document).on("click","#push_pull_collabs .remove-user",function(){return $.ajax({type:"DELETE",url:this.href}),$(this).closest("li").remove(),!1}),$("#teams form").submit(function(){var a=$(this).find("select"),b=a.val(),c=function(a){a!=null?$("#push_pull_collabs .error").text(a).show():$("#push_pull_collabs .error").hide()};return b==""?(c("You must select a team"),!1):(c(),$.ajax({url:this.action,data:{team:b},type:"POST",dataType:"json",success:function(b){a.val(""),b.error?c(b.error):$("#teams ul.teams").append(b.html)},error:function(){c("An unidentified error occurred, try again?")}}),!1)}),$(document).on("click","#teams .remove-team",function(){return $.ajax({type:"DELETE",url:this.href}),$(this).closest("li").remove(),!1}),$(".site").is(".vis-public")?$(".private-only").hide():$(".public-only").hide(),$(document).on("click","#custom_tabs .remove-tab",function(){return $.ajax({type:"DELETE",url:this.href}),$(this).closest("li").remove(),!1})}}),function(){$(document).on("click",".email-hidden-toggle > a",function(){return $(this).parent().siblings(".email-hidden-reply").toggle(),!1})}.call(this),function(){var a,b,c,d,e,f,g,h,i,j;i=721,b=110,j=[20,0,0,20],f=j[0],e=j[1],c=j[2],d=j[3],a=13,g=2,h=function(a){var b,c,d,e,f;d=a.length;if(d<1)return NaN;if(d===1)return 0;c=d3.mean(a),b=-1,e=0;while(++b<d)f=a[b]-c,e+=f*f;return e/(d-1)},$(document).on("graph:load",".js-calendar-graph",function(c,e){var j,k,l,m,n,o,p,q,r,s,t,u,v,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N;j=$(this),n=j.attr("data-from"),n&&(n=y=moment(n).toDate()),F=j.attr("data-to"),F&&(F=moment(F).toDate()),e||(e=[]),e=e.map(function(a){return[new Date(a[0]),a[1]]}).sort(function(a,b){return d3.ascending(a[0],b[0])}),k=3.77972616981,v=e.map(function(a){return a[1]}),C=Math.sqrt(h(v)),s=d3.mean(v),B=3,p=d3.max(v),G=r-s;if(G<6||p<15)B=1;x=0;while(x<B)H=v.filter(function(a){var b;return b=Math.abs((s-a)/C),b>k}),H.length>0?(H=H[0],v=v.filter(function(a){return a!==H}),x===0&&(q=v)):H=null,x+=1;r=d3.max(v),z=["#d6e685","#8cc665","#44a340","#1e6823"],o=d3.scale.quantile().domain([0,r]).range(z),m=d3.time.format("%w"),N=d3.time.format("%Y%U"),M=d3.time.format("%m-%y"),t=d3.time.format("%b"),K={},u={},e.forEach(function(a){var b;return b=N(a[0]),K[b]||(K[b]=[]),K[b].push(a)}),K=d3.entries(K),K.forEach(function(a){var b;return b=M(a.value[0][0]),u[b]||(u[b]=[a.value[0][0],0]),u[b][1]+=1}),u=d3.entries(u).sort(function(a,b){return d3.ascending(a.value[0],b.value[0])}),E=d3.tip().attr("class","svg-tip").offset([-10,0]).html(function(a){var b;return b=a[1]===0?"No":a[1],"<strong>"+b+" "+$.pluralize(a[1],"contribution")+"</strong> on "+moment(a[0]).format("MMMM Do YYYY")}),I=d3.select(this).append("svg").attr("width",i).attr("height",b).attr("id","calendar-graph").append("g").attr("transform","translate("+d+", "+f+")").call(E),J=0,D=(new Date).getFullYear(),L=I.selectAll("g.week").data(K).enter().append("g").attr("transform",function(b,c){var d;return d=b.value[0][0],d.getFullYear()===D&&d.getDay()!==0&&J===0&&(J=-1),"translate("+(c+J)*a+", 0)"}),A=L.selectAll("rect.day").data(function(a){return a.value}).enter().append("rect").attr("class","day").attr("width",a-g).attr("height",a-g).attr("y",function(b){return m(b[0])*a}).style("fill",function(a){return a[1]===0?"#eee":o(a[1])}).on("click",function(a){return $(document).trigger("contributions:range",[a[0],d3.event.shiftKey])}).on("mouseover",E.show).on("mouseout",E.hide),l=0,I.selectAll("text.month").data(u).enter().append("text").attr("x",function(b,c){var d;return d=a*l,l+=b.value[1],d}).attr("y",-5).attr("class","month").style("display",function(a){if(a.value[1]<=2)return"none"}).text(function(a){return t(a.value[0])}),I.selectAll("text.day").data(["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]).enter().append("text").style("display",function(a,b){if(b%2===0)return"none"}).attr("text-anchor","middle").attr("class","wday").attr("dx",-10).attr("dy",function(b,c){return f+((c-1)*a+g)}).text(function(a){return a[0]});if(n||F)return $(document).trigger("contributions:range",[n,F])})}.call(this),function(){$(document).on("graph:load",".js-graph-code-frequency",function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;return p=$(this).width(),f=500,u=[10,10,20,40],l=u[0],k=u[1],i=u[2],j=u[3],b=b.map(function(a,b){return[new Date(a[0]*1e3),a[1],a[2]]}).sort(function(a,b){return d3.ascending(a[0],b[0])}),c=b.map(function(a){return[a[0],a[1]]}),e=b.map(function(a){return[a[0],a[2]]}),g=d3.max(c,function(a){return a[1]}),h=d3.min(e,function(a){return a[1]}),o=b[0][0],n=b[b.length-1][0],q=d3.time.scale().domain([o,n]).range([0,p-j-k]),s=d3.scale.linear().domain([h,g]).range([f-i-l,0]),r=d3.svg.axis().scale(q).tickFormat(function(a){return o.getFullYear()!==n.getFullYear()?d3.time.format("%m/%y")(a):d3.time.format("%m/%d")(a)}),t=d3.svg.axis().scale(s).orient("left").tickPadding(5).tickSize(p).tickFormat(function(a){return d3.formatSymbol(a,!0)}),d=d3.svg.area().x(function(a){return q(a[0])}).y0(function(a){return s(a[1])}).y1(function(a){return s(0)}),m=d3.select(this).data(b).append("svg").attr("width",p).attr("height",f).attr("class","viz code-frequency").append("g").attr("transform","translate("+j+","+l+")"),m.append("g").attr("class","x axis").attr("transform","translate(0, "+(f-l-i)+")").call(r),m.append("g").attr("class","y axis").attr("transform","translate("+p+", 0)").call(t),m.selectAll("path.area").data([c,e]).enter().append("path").attr("class",function(a,b){return b===0?"addition":"deletion"}).attr("d",d)})}.call(this),function(){$(document).on("graph:load",".js-commit-activity-graph",function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;return i=$("#commit-activity-master"),d=$("#commit-activity-detail"),g=260,q=d.width(),r=0,function(){var a,c,f,h,i,j,k,l,m,n,o,p,s,t,u,v,w,x,y,z,A;j=0;for(i=y=0,z=b.length;y<z;i=++y)a=b[i],a.total!==0&&(j=i);return r=j,A=[20,30,30,40],o=A[0],m=A[1],n=A[2],l=A[3],f=b[r].days,k=d3.max(b,function(a){return d3.max(a.days)}),u=d3.scale.linear().domain([0,f.length-1]).range([0,q-m-n]),w=d3.scale.linear().domain([0,k]).range([g,0]),x=d3.svg.axis().scale(w).orient("left").ticks(5).tickSize(-q+n+m),$(document).on("gg.week.selected",function(a,b){return s(b)}),$(document).on("keyup",function(a){var c,d;c=r;if((d=a.keyCode)===37||d===39)return r>0&&a.keyCode===37&&(c-=1),r<b.length&&a.keyCode===39&&(c+=1),s({index:c})}),t=d3.select(d[0]).data([f]).append("svg").attr("width",q).attr("height",g+o+l).attr("class","viz").append("g").attr("transform","translate("+m+","+o+")"),t.append("g").attr("class","y axis").call(x),v=t.append("g").attr("class","axis"),c=v.selectAll(".day").data(d3.weekdays).enter().append("g").attr("class","day").attr("transform",function(a,b){return"translate("+u(b)+", "+g+")"}),c.append("text").attr("text-anchor","middle").attr("dy","2em").text(function(a,b){return a}),p=d3.svg.line().interpolate("cardinal").x(function(a,b){return u(b)}).y(w),t.append("path").attr("class","path").attr("d",p),h=t.selectAll("g.dot").data(f).enter().append("g").attr("class","dot").attr("transform",function(a,b){return"translate("+u(b)+", "+w(a)+")"}),h.append("circle").attr("r",4),h.append("text").attr("text-anchor","middle").attr("class","tip").attr("dy",-10).text(function(a){return a}),s=function(a){var c,d,g;if(a.index>52||a.index<0)return;return r=a.index,f=b[a.index].days,k=d3.max(f),u.domain([0,f.length-1]),g=d3.selectAll(".bar.mini").attr("class","bar mini"),c=d3.select(g[0][r]).attr("class","bar mini active"),d=d3.transform(c.attr("transform")),e.transition().ease("back-out").duration(300).attr("transform","translate("+(d.translate[0]+8)+", 105)"),t.selectAll(".path").data([f]).transition().duration(500).attr("d",p),t.selectAll("g.dot").data(f).transition().duration(300).attr("transform",function(a,b){return"translate("+u(b)+", "+w(a)+")"}),t.selectAll("text.tip").data(f).text(function(a){return a})}}(),w=[10,30,20,30],m=w[0],k=w[1],l=w[2],j=w[3],g=100,o=b.map(function(a){return a.total}),h=d3.max(o),f=d3.time.format("%m/%d"),s=d3.scale.ordinal().domain(d3.range(o.length)).rangeRoundBands([0,q-k-l],.1),u=d3.scale.linear().domain([0,h]).range([g,0]),v=d3.svg.axis().scale(u).orient("left").ticks(3).tickSize(-q+k+l).tickFormat(d3.formatSymbol),t=d3.svg.axis().scale(s).ticks(d3.time.weeks).tickFormat(function(a,c){var d;return d=new Date(b[c].week*1e3),f(d)}),n=d3.tip().attr("class","svg-tip").offset([-10,0]).html(function(a,c){var d;return d=moment(b[c].week*1e3),"<strong>"+a+"</strong> "+$.pluralize(a,"commit")+" the week of "+d.format("MMMM Do")}),p=d3.select(i[0]).style("width",""+q+"px").append("svg").attr("width",q+(k+l)).attr("height",g+m+j).attr("class","viz").append("g").attr("transform","translate("+k+","+m+")").call(n),p.append("g").attr("class","y axis").call(v),c=p.selectAll("g.mini").data(o).enter().append("g").attr("class",function(a,b){return b===r?"bar mini active":"bar mini"}).attr("transform",function(a,b){return"translate("+s(b)+", 0)"}).on("click",function(a,b){return $(document).trigger("gg.week.selected",{node:this,index:b,data:a})}),c.append("rect").attr("width",s.rangeBand()).attr("height",function(a){return g-u(a)}).attr("y",function(a){return u(a)}).on("mouseover",n.show).on("mouseout",n.hide),p.append("g").attr("class","x axis").attr("transform","translate(0,"+g+")").call(t).selectAll(".x.axis g").style("display",function(a,b){return b%3!==0?"none":"block"}),e=p.append("circle").attr("class","focus").attr("r",8).attr("transform","translate("+(s(r)+s.rangeBand()/2)+", "+ -g+")"),e.transition().ease("elastic-in").duration(1e3).attr("r",2).attr("transform","translate("+(s(r)+s.rangeBand()/2)+", "+(g+5)+")")})}.call(this),function(){var a,b,c,d,e;a=d3.time.format("%Y-%m-%d"),c=function(a){return new Date(~~a*1e3)},d=function(){var a,b,c,d,e,f,g,h;c={},g=document.location.search.substr(1).split("&");for(e=0,f=g.length;e<f;e++)b=g[e],h=b.split("="),a=h[0],d=h[1],c[a]=d;return c},e=function(a,b){var c,d,e,f;return e="MMMM Do YYYY",f=moment(a).format(e),d=moment(b).format(e),c=$("#js-date-range").attr("data-default-branch"),$("#js-date-range").html(""+f+" <span class='dash'>&dash;</span> "+d+"    <p class='info'>Commits to "+c+", excluding merge commits</p>")},b=function(a){var b,c;return b=moment(a[0].weeks[0].date),c=b.subtract("weeks",1),a.forEach(function(a){return a.weeks.unshift({a:0,c:0,d:0,date:c.toDate(),w:c/1e3})})},$(document).on("graph:load","#contributors",function(f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x;return i=$(this),j=[],o=d(),x=null,w=null,o.from!=null&&(t=moment(o.from).toDate()),o.to!=null&&(l=moment(o.to).toDate()),k=(o!=null?o.type:void 0)||"c",i.on("range.selection.end",function(b,c){var d;return d=c.range,t=d[0],l=d[1],a(t)===a(l)&&(t=x,l=w),v(),e(t,l),r()}),q=function(a){var d;return a[0].weeks.length===1&&b(a),d=h(a),x=c(d[0].key),w=c(d[d.length-1].key),t==null&&(t=x),l==null&&(l=w),e(t,l),s(d,x,w),r(a,x,w),$(".js-contribution-container").on("change","input[type=radio]",n)},p=function(a){var b,c,d,e,f,g,h;for(d=0,f=a.length;d<f;d++){b=a[d],h=b.weeks;for(e=0,g=h.length;e<g;e++)c=h[e],c.date=new Date(c.w*1e3)}return a},m=function(a,b){return a.map(function(a){var c;return c=$.extend(!0,{},a),c.weeks=c.weeks.filter(function(a){return a.date>=b[0]&&a.date<=b[1]}),c})},h=function(a){var b,c,d,e,f,g,h,i,j,k;c={};for(e=0,g=a.length;e<g;e++){b=a[e],j=b.weeks;for(f=0,h=j.length;f<h;f++)d=j[f],(k=c[i=d.w])==null&&(c[i]={c:0,a:0,d:0}),c[d.w].c+=d.c,c[d.w].a+=d.a,c[d.w].d+=d.d}return d3.entries(c)},u=function(a){return a=m(a,[t,l]),a.forEach(function(a){var b,c,d,e,f,g,h;c=0,b=0,d=0,h=a.weeks;for(f=0,g=h.length;f<g;f++)e=h[f],c+=e.c,b+=e.a,d+=e.d;return a.c=c,a.a=b,a.d=d}),a.sort(function(a,b){return d3.descending(a[k],b[k])})},s=function(b,d,e){var f,g,h,j,m,n,o,p,q,r,s,u,v,w,x,y,z,A;return A=[20,50,20,30],p=A[0],n=A[1],o=A[2],m=A[3],v=i.width(),h=125,j=d3.max(b,function(a){return a.value[k]}),w=d3.time.scale().domain([d,e]).range([0,v-n-o]),y=d3.scale.linear().domain([0,j]).range([h,0]),z=d3.svg.axis().scale(y).orient("left").ticks(4).tickSize(-v+n+o).tickPadding(10).tickFormat(d3.formatSymbol),x=d3.svg.axis().scale(w),b.length<5&&x.ticks(b.length),f=d3.svg.area().interpolate("basis").x(function(a){return w(c(a.key))}).y0(function(a){return h}).y1(function(a){return y(a.value[k])}),d3.select("#contributors-master svg").remove(),u=d3.select("#contributors-master").data([b]).append("svg").attr("height",h+p+m).attr("width",v).attr("class","viz").append("g").attr("transform","translate("+n+","+p+")"),u.append("g").attr("class","x axis").attr("transform","translate(0, "+h+")").call(x),u.append("g").attr("class","y axis").call(z),u.append("path").attr("class","area").attr("d",f),s=function(){var a;return u.classed("selecting",!0),a=d3.event.target.extent(),i.trigger("range.selection.start",{data:arguments[0],range:a})},q=function(){var a,b;return a=d3.time.format("%m/%d/%Y"),b=d3.event.target.extent(),i.trigger("range.selection.selected",{data:arguments[0],range:b})},r=function(){var a;return u.classed("selecting",!d3.event.target.empty()),a=d3.event.target.extent(),i.trigger("range.selection.end",{data:arguments[0],range:a})},g=d3.svg.brush().x(w).on("brushstart",s).on("brush",q).on("brushend",r),(a(t)!==a(d)||a(l)!==a(e))&&g.extent([t,l]),u.append("g").attr("class","selection").call(g).selectAll("rect").attr("height",h)},r=function(){var a,b,c,d,e,f,h,i,m,n,o,p,q,r,s,v,w,x,y,z;return z=[10,10,10,20],m=z[0],h=z[1],i=z[2],f=z[3],r=428,c=100,$("#contributors ol").remove(),g=u(j),q=d3.select("#contributors").append("ol").attr("class","contrib-data clearfix"),e=d3.max(g,function(a){return d3.max(a.weeks,function(a){return a[k]})}),s=d3.time.scale().domain([t,l]).range([0,r]),w=d3.scale.linear().domain([0,e]).range([c-f-m,0]),b=d3.svg.area().interpolate("basis").x(function(a){return s(a.date)}).y0(function(a){return c-f-m}).y1(function(a){return w(a[k])}),x=d3.svg.axis().scale(w).orient("left").ticks(2).tickSize(-r).tickPadding(10).tickFormat(d3.formatSymbol),v=d3.svg.axis().scale(s).tickFormat(d3.time.format("%m/%y")),g[0].weeks.length<5&&v.ticks(g[0].weeks.length).tickFormat(d3.time.format("%x")),$("li.person").remove(),n=q.selectAll("li.person").data(g).enter().append("li").attr("class","person").style("display",function(a){return a[k]<1?"none":"block"}),d=n.append("h3"),d.append("img").attr("src",function(a){return a.author.gravatar}).attr("class","avatar"),d.append("span").attr("class","rank").text(function(a,b){return"#"+(b+1)}),d.append("a").attr("class","aname").attr("href",function(a){return"/"+a.author.login}).text(function(a){return a.author.login}),a=d.append("span").attr("class","ameta"),o=$(".graphs").attr("data-repo-url"),a.append("span").attr("class","cmeta").html(function(a){return"<a class='cmt' href='"+o+"/commits?author="+a.author.login+"'>"+$.commafy(a.c)+" "+$.pluralize(a.c,"commit")+"</a> / <span class='a'>"+$.commafy(a.a)+" ++</span> / <span class='d'>"+$.commafy(a.d)+" --</span>"}),p=n.append("svg").attr("width",r+(h+i)).attr("height",c+m+f).attr("class","spark").append("g").attr("transform","translate("+h+","+m+")"),p.append("g").attr("class","x axis").attr("transform","translate(0, "+(c-m-f)+")").call(v).selectAll(".x.axis g text").style("display",function(a,b){return b%2!==0?"none":"block"}),y=p.append("g").attr("class","y axis").call(x).selectAll(".y.axis g text").attr("dx",r/2).style("display",function(a,b){return b===0?"none":"block"}).classed("midlabel",!0),p.append("path").attr("d",function(a){return b(a.weeks)})},v=function(){var b,c;if($.support.pjax)return b=document.location,k=$("input[name=ctype]:checked").prop("value").toLowerCase(),c=""+b.pathname+"?from="+a(t)+"&to="+a(l)+"&type="+k,window.history.pushState(null,null,c)},n=function(a){if(k!==$(this).val())return v(),q(j)},j=p(g),q(g)})}.call(this),function(){d3.formatSymbol=function(a,b){var c;return b==null&&(b=!1),b&&(a=Math.abs(a)),a<1e3?a:(c=d3.formatPrefix(a),""+c.scale(a)+c.symbol)},d3.weekdays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}.call(this),function(){var a,b;a={},b=function(b){var c,d,e;c=$(b);if(!(e=c.attr("data-url")))return;return c.find("svg").remove(),(d=a[e])?c.fire("graph:load",[d]):(c.addClass("is-graph-loading"),c.removeClass("is-graph-crunching is-graph-load-error is-graph-empty"),$.smartPoller(function(b){return $.ajax({url:e,success:function(d,f,g){var h,i;return g.status===202?(c.addClass("is-graph-crunching"),b()):(c.removeClass("is-graph-loading is-graph-crunching"),(d!=null?d.length:void 0)===0||((h=d[0])!=null?(i=h.weeks)!=null?i.length:void 0:void 0)===0?c.addClass("is-graph-empty"):(a[e]=d,c.fire("graph:load",[d])))},error:function(){return c.removeClass("is-graph-loading is-graph-crunching"),c.addClass("is-graph-load-error")}})}))},$.pageChange(function(){var a,c,d,e;e=$(this).find(".js-graph");for(c=0,d=e.length;c<d;c++)a=e[c],b(a)})}.call(this),function(){$(document).on("graph:load",".js-milestone-graph",function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E;u=$(this).width(),m=50,D=[10,20,10,30],q=D[0],p=D[1],n=D[2],o=D[3],e=100,E=[60,20,10,30],k=E[0],j=E[1],h=E[2],i=E[3],v=d3.scale.ordinal().rangeRoundBands([0,u-i-j],.1),x=d3.scale.linear().range([e,0]),z=d3.scale.linear().range([e,0]),A=d3.scale.linear().range([m,0]),w=d3.svg.axis().scale(v).orient("top").tickSize(5).tickPadding(10).tickFormat(function(a){return moment(b[a].date).format("M/D")}),y=d3.svg.axis().scale(x).orient("left").tickSize(-u+i+j).tickFormat(Math.abs).ticks(4),l=d3.svg.line().x(function(a,b){return v(b)}).y(function(a){return A(a.events)}).interpolate("cardinal"),r=d3.select(this).append("svg").attr("width",u).attr("height",m+q+n).attr("id","total-events").append("g").attr("transform","translate("+o+", "+q+")"),t=d3.select(this).append("svg").attr("id","graph-open-close").attr("height",e+k+h).append("g").attr("transform","translate("+i+", "+k+")");for(B=0,C=b.length;B<C;B++)d=b[B],d.date=new Date(d.date),d.closed=-d.closed;return g=d3.min(b,function(a){return a.closed}),f=d3.max(b,function(a){return a.open+a.reopened}),x.domain([g-1,f+1]),v.domain(d3.range(b.length)),A.domain([0,d3.max(b,function(a){return a.events})]),z.domain([0,d3.max(b,function(a){return a.open_total})]),t.append("rect").attr("class","axis-backing").attr("width",u).attr("height",30).attr("x",-i).attr("y",-k),t.append("line").attr("class","axis-backing-line").attr("x1",-i).attr("x2",u).attr("y1",-k+30).attr("y2",-k+30),t.append("g").attr("class","x axis").attr("transform","translate(0, -25)").call(w).selectAll("g").style("display",function(a,b){return b%4===0?"block":"none"}),t.append("g").attr("class","y axis").call(y),t.selectAll(".y g").filter(function(a,b){return a===0}).classed("zero",!0),c=t.selectAll("g.bar").data(b).enter().append("g").attr("class","bar").attr("transform",function(a,b){return"translate("+v(b)+", 0)"}),c.selectAll("rect.day").data(function(a){return[a.open+a.reopened,a.closed]}).enter().append("rect").attr("width",v.rangeBand()).attr("height",function(a,b){return Math.abs(x(a)-x(0))}).attr("y",function(a){return x(Math.max(0,a))}).attr("class",function(a,b){return b===0?"opened":"closed"}),s=r.append("g").attr("class","x axis").attr("transform","translate(0, "+(m+10)+")").call(w).selectAll("g").style("display",function(a,b){return b%4===0?"block":"none"}),s.selectAll("g text").style("display","none"),r.selectAll("path.events").data([b]).enter().append("path").attr("class","events").attr("d",l),r.append("text").text("ACTIVITY").attr("text-anchor","middle").attr("x",function(a){return u/2-this.getBBox().width/2}).attr("y",m/2).attr("class","activity-label")})}.call(this);var Network=defineNetwork(window.jQuery);Modernizr.canvas&&$(function(){$("#ng")[0]&&new Network("#ng",920,600)}),function(){var a=this;if(!Modernizr.canvas)return;GitHub.ParticipationGraph=function(){function a(b){var c,d,e,f,g,h,i,j=this;this.onSuccess=function(b){return a.prototype.onSuccess.apply(j,arguments)},this.el=$(b),this.canvas=b.getContext("2d"),e=window.devicePixelRatio||1,d=this.canvas.webkitBackingStorePixelRatio||this.canvas.mozBackingStorePixelRatio||this.canvas.msBackingStorePixelRatio||this.canvas.oBackingStorePixelRatio||this.canvas.backingStorePixelRatio||1,h=e/d,h!==1&&(i=b.width,f=b.height,b.width=i*h,b.height=f*h,b.style.width=i+"px",b.style.height=f+"px",this.canvas.scale(h,h)),c=this.el.data("color-all"),g=this.el.data("color-owner"),c!=null&&(this.colors.all=c),g!=null&&(this.colors.owner=g),this.barMaxHeight=this.el.height(),this.barWidth=(this.el.width()-52)/52,this.refresh()}return a.prototype.colors={all:"#cacaca",owner:"#336699"},a.prototype.getUrl=function(){return this.el.data("source")},a.prototype.setData=function(a){var b,c;this.data=a;if(((b=this.data)!=null?b.all:void 0)==null||((c=this.data)!=null?c.owner:void 0)==null)this.data=null;this.scale=this.getScale(this.data)},a.prototype.getScale=function(a){var b,c,d,e,f;if(a==null)return;b=a.all[0],f=a.all;for(d=0,e=f.length;d<e;d++)c=f[d],c>b&&(b=c);return b>=this.barMaxHeight?(this.barMaxHeight-.1)/b:1},a.prototype.refresh=function(){$.ajax({url:this.getUrl(),dataType:"json",success:this.onSuccess})},a.prototype.onSuccess=function(a){this.setData(a),this.draw()},a.prototype.draw=function(){if(this.data==null)return;this.drawCommits(this.data.all,this.colors.all),this.drawCommits(this.data.owner,this.colors.owner)},a.prototype.drawCommits=function(a,b){var c,d,e,f,g,h,i,j;for(e=i=0,j=a.length;i<j;e=++i)c=a[e],f=this.barWidth,d=c*this.scale,g=e*(this.barWidth+1),h=this.barMaxHeight-d,this.canvas.fillStyle=b,this.canvas.fillRect(g,h,f,d)},a}(),$.pageUpdate(function(){return $(this).find(".participation-graph").each(function(){if($(this).is(":hidden"))return $(this).removeClass("disabled"),new GitHub.ParticipationGraph($(this).find("canvas")[0])})})}.call(this),function(){$(document).on("graph:load",".js-pulse-authors-graph",function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;return c=15,b=b.slice(0,+(c-1)+1||9e9),m=$(this).width(),e=$(this).height(),q=[20,0,10,20],j=q[0],i=q[1],g=q[2],h=q[3],n=d3.scale.ordinal().rangeRoundBands([0,m-h-i],.2),o=d3.scale.linear().range([e,0]),p=d3.svg.axis().scale(o).orient("left").ticks(3).tickSize(-m+h+i).tickFormat(d3.formatSymbol),f=d3.max(b,function(a){return a.commits}),o.domain([0,f]),n.domain(d3.range(c)),g=n.rangeBand()+g,k=d3.tip().attr("class","svg-tip").offset([-10,0]).html(function(a){var b;return"<strong>"+a.commits+"</strong> "+$.pluralize(a.commits,"commit")+" by <strong>"+((b=a.login)!=null?b:a.name)+"</strong>"}),l=d3.select(this).append("svg").attr("id","graph-pulse-authors").attr("height",e+j+g).append("g").attr("transform","translate("+h+", "+j+")").call(k),l.append("g").attr("class","y axis").call(p),d=l.selectAll("g.bar").data(b).enter().append("g").attr("class","bar").attr("transform",function(a,b){return"translate("+n(b)+", 0)"}),d.append("rect").attr("width",n.rangeBand()).attr("height",function(a,b){return e-o(a.commits)}).attr("y",function(a){return o(a.commits)}).on("mouseover",k.show).on("mouseout",k.hide),d.append("image").attr("y",e+5).attr("xlink:href",function(a){return a.gravatar}).attr("width",n.rangeBand()).attr("height",n.rangeBand()).on("click",function(a){if(a.login!=null)return document.location="/"+a.login})})}.call(this),function(){$(document).on("graph:load",".js-graph-punchcard",function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;return g=500,t=$(this).width(),l={},b.forEach(function(a){var b,c,d,e,f;return d=d3.weekdays[a[0]],b=(e=l[d])!=null?e:l[d]=[],c=a[1],(f=b[c])==null&&(b[c]=0),b[c]+=a[2]}),b=d3.entries(l).reverse(),w=[0,0,0,20],p=w[0],n=w[1],o=w[2],m=w[3],i=100,d=d3.range(7),h=d3.range(24),k=d3.min(b,function(a){return d3.min(a.value)}),j=d3.max(b,function(a){return d3.max(a.value)}),u=d3.scale.ordinal().domain(h).rangeRoundBands([0,t-i-n-o],.1),v=d3.scale.ordinal().domain(d).rangeRoundBands([g-p-m,0],.1),q=d3.scale.sqrt().domain([0,j]).range([0,u.rangeBand()/2]),r=d3.tip().attr("class","svg-tip").offset([-10,0]).html(function(a){return"<strong>"+a+"</strong> "+$.pluralize(a,"commit")}),s=d3.select(this).data(b).attr("width",""+t+"px").append("svg").attr("width",t+(n+o)).attr("height",g+p+m).attr("class","viz").append("g").attr("transform","translate("+n+","+p+")").call(r),e=s.selectAll("g.day").data(b).enter().append("g").attr("class","day").attr("transform",function(a,b){return"translate(0, "+v(b)+")"}),e.append("line").attr("x1",0).attr("y1",v.rangeBand()).attr("x2",t-n-o).attr("y2",v.rangeBand()).attr("class","axis"),e.append("text").attr("class","label").text(function(a,b){return a.key}).attr("dy",v.rangeBand()/2),s.append("g").selectAll("text.hour").data(h).enter().append("text").attr("text-anchor","middle").attr("transform",function(a,b){return"translate("+(u(b)+i)+", "+g+")"}).attr("class","label").text(function(a){var b;return b=a%12||12,a===0||a<12?""+b+"a":""+b+"p"}),f=e.selectAll(".hour").data(function(a){return a.value}).enter().append("g").attr("class","hour").attr("transform",function(a,b){return"translate("+(u(b)+i)+", 0)"}).attr("width",u.rangeBand()),f.append("line").attr("x1",0).attr("y1",function(a,b){return v.rangeBand()-(b%2===0?15:10)}).attr("x2",0).attr("y2",v.rangeBand()).attr("class",function(a,b){return b%2===0?"axis even":"axis odd"}),c=f.append("circle").attr("r",0).attr("cy",v.rangeBand()/2-5).attr("class",function(a){return"day"}).on("mouseover",r.show).on("mouseout",r.hide),c.transition().attr("r",q)})}.call(this),function(){$(document).on("click",".dropdown-toggle .js-menu-target",function(){return $(".dropdown-toggle .js-menu-content").html($(".js-new-dropdown-contents").html())})}.call(this),function(){var a,b=this,c=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1};a=function(){function a(b){var c=this;this.input=b,this.loadSuggestions=function(){return a.prototype.loadSuggestions.apply(c,arguments)},this.onNavigationOpen=function(b){return a.prototype.onNavigationOpen.apply(c,arguments)},this.onNavigationKeyDown=function(b){return a.prototype.onNavigationKeyDown.apply(c,arguments)},this.onKeyUp=function(){return a.prototype.onKeyUp.apply(c,arguments)},this.deactivate=function(){return a.prototype.deactivate.apply(c,arguments)},this.activate=function(){return a.prototype.activate.apply(c,arguments)};if($(this.input).attr("data-member-adder-activated"))return;$(this.input).attr("data-member-adder-activated",!0),$(this.input).on("focusout:delayed.member-adder",this.deactivate),$(this.input).on("focusin:delayed.member-adder",this.activate),$(this.input).on("keyup.member-adder",this.onKeyUp),$(this.input).on("throttled:input.member-adder",this.loadSuggestions),this.container=document.getElementById($(this.input).attr("data-member-adder")),this.list=document.getElementById($(this.input).attr("data-member-list")),this.spinner=document.getElementById($(this.input).attr("data-spinner")),$(this.container).on("navigation:keydown.member-adder","[data-value]",this.onNavigationKeyDown),$(this.container).on("navigation:open.member-adder","[data-value]",this.onNavigationOpen)}return a.prototype.activate=function(){if($(this.container).is(".active"))return;if(!this.query)return;$(this.container).addClass("active"),$(this.input).addClass("js-navigation-enable"),$(this.container).navigation("push"),$(this.container).navigation("focus")},a.prototype.deactivate=function(){$(this.container).removeClass("active"),$(this.container).find(".suggestions").hide(),$(this.input).removeClass("js-navigation-enable"),$(this.container).navigation("pop")},a.prototype.onKeyUp=function(){var a;a=$(this.input).val();if(a===this.query)return;if(this.query=a)return this.search(a)?this.activate():this.deactivate(),this.query;this.query=null,this.deactivate()},a.prototype.onNavigationKeyDown=function(a){switch(a.hotkey){case"tab":return this.onNavigationOpen(a),!1;case"esc":return this.deactivate(),!1}},a.prototype.onNavigationOpen=function(a){var b,c,d,e=this;return c=$(a.target).attr("data-value"),this.input.value="",b=$(this.container).attr("data-add-url"),(d=this.ajax)!=null&&d.abort(),this.startSpinner(),b?$.ajax({url:b,type:"post",data:{member:c},complete:function(a){return e.stopSpinner(),a.status===200?($(e.list).append(a.responseText),$(e.list).pageUpdate(),$(e.list).trigger("member-adder:added",c)):$(e.list).trigger("member-adder:error",[c,a])}}):(this.stopSpinner(),$(this.list).find("li[data-value='"+c+"']").length===0&&($(this.list).append($(this.container).find("li[data-value='"+c+"']").clone()),$(this.list).pageUpdate(),$(this.list).trigger("member-adder:added",c))),this.deactivate(),this.input.focus(),!1},a.prototype.startSpinner=function(){if(this.spinner&&$(this.spinner).length)return $(this.spinner).removeClass("hidden");if(!$(".js-spinner").length)return $(this.input).after("<img class='js-spinner' src='"+GitHub.Ajax.spinner+"' width='16' />")},a.prototype.stopSpinner=function(){return this.spinner&&$(this.spinner).length?$(this.spinner).addClass("hidden"):$(".js-spinner").remove()},a.prototype.search=function(a){var b,d,e,f,g;e=$(this.container).find("ul");if(!e[0])return;return b=$(this.container).find(".js-no-results").removeClass("active"),f=c.call(a.slice(1),"@")>=0,!f&&(d=e.data("fuzzy-sort-items"))&&e.data("fuzzy-sort-items",d.filter(function(){return $(this).attr("data-value")&&!(c.call($(this).attr("data-value"),"@")>=0)})),g=e.fuzzyFilterSortList(a.replace(/^@/,""),{limit:5,text:function(a){return a.getAttribute("data-value")}}),f&&e.find("li:not(:first-child)").remove(),g>0?(e.show(),$(this.container).navigation("focus"),!0):(b.addClass("active"),!1)},a.prototype.loadSuggestions=function(){var a,b,c=this;if(!(a=this.query))return;if(!(b=$(this.container).attr("data-search-url"
)))return;if(this.ajax)return;return this.startSpinner(),this.ajax=$.ajax({url:b,data:{query:a},complete:function(){return c.ajax=null,c.stopSpinner()},success:function(a){var b,d,e,f,g,h,i,j,k,l;b=$($.parseHTML(a)),g=b.find("li"),!g.length&&!$(c.container).find("li:visible").length&&(c.activate(),$(".js-no-results").addClass("active"));if(!g.length)return;i=$(c.container).find("ul"),d=i.data("fuzzy-sort-items"),h={},f=[],l=d.toArray().concat(g.toArray());for(j=0,k=l.length;j<k;j++)e=l[j],h[e.textContent]||f.push(e),h[e.textContent]=!0;return i.data("fuzzy-sort-items",$(f)),c.query=null,c.onKeyUp()}})},a}(),$.pageUpdate(function(){return $("input[data-member-adder]").each(function(){return new a(this)})})}.call(this),function(){var a,b,c;$(document).on("click",".js-org-billing-plans .js-choose-plan",function(a){return b($(this).closest(".js-plan-row")),!1}),b=function(b){var d,e,f,g;f=b.attr("data-name"),e=b.attr("data-cost"),d=(g=b.attr("data-balance"))!=null?g:"0",$(".js-org-billing-plans").find(".js-plan-row, .js-choose-plan").removeClass("selected"),b.find(".js-choose-plan").addClass("selected"),b.addClass("selected"),$("#js-plan").val(f);if(e==="0"&&d==="0")return a(!1);a(!0);if(b.attr("data-balance")!=null)return c(f)},a=function(a){var b,c;return b=$(".js-credit-card-fields"),c=b.find("input[required]"),a?(b.removeClass("is-hiding"),c.attr("required",!0)):(b.addClass("is-hiding"),c.attr("required",!1))},c=function(a){return $(".js-plan-change-message").addClass("is-hiding"),$('.js-plan-change-message[data-name="'+a+'"]').removeClass("is-hiding")},$(function(){return $(".selected .js-choose-plan").click()})}.call(this),function(){var a,b;$(function(){if($(".js-addon-target-owner")[0])return $(".js-addon-target-owner").trigger("change")}),$(document).on("change",".js-addon-target-owner",function(){var a,b,c;return c=$(this).find(".selected input").val(),a=$(".js-addon-target-repository"),b=$(".js-addon-target-repository[data-owner='"+c+"']"),a.hide(),b.show(),$(".js-addon-install-target-owner").val(c),b.trigger("change")}),$(document).on("change",".js-addon-target-repository",function(){var a;return a=$(this).find(".selected .js-select-button-text").text(),$(".js-addon-install-target-repo").val(a),$(".js-addon-install-button").attr("disabled",!a.length)}),$(document).on("keyup",".js-new-addon-field",function(){return $(this).find(".js-new-addon-field-name").val().length?$(this).find(".js-add-addon-field").removeClass("disabled"):$(this).find(".js-add-addon-field").addClass("disabled")}),$(document).on("click",".js-add-addon-field",function(c){var d,e;return d=$(".js-new-addon-field-name").val(),e=$(".js-new-addon-field-type").val(),d.length&&(a(d,e),b(),$(".js-no-addon-fields").addClass("hidden")),c.preventDefault()}),$(document).on("click",".js-remove-addon-field",function(a){return $(this).parents(".js-addon-field").remove(),$(".js-addon-field").length===0&&$(".js-no-addon-fields").removeClass("hidden"),a.preventDefault()}),a=function(a,b){var c;return c=$(".js-addon-field-template").clone().removeClass("hidden js-addon-field-template"),c.addClass("js-addon-field"),c.find(".js-addon-field-name").val(a).attr("name","addon_application[config_fields][][name]"),c.find(".js-addon-field-type").val(b).attr("name","addon_application[config_fields][][type]"),$(".js-addon-field-list").append(c)},b=function(){return $(".js-new-addon-field-name").val(""),$(".js-new-addon-field-type").val("text"),$(".js-add-addon-field").addClass("disabled")}}.call(this),function(){var a,b;a=function(){var a,c,d,e,f;return e=[],a=$(".js-advanced-search-input").val(),f={Repositories:0,Users:0,Code:0},e=b($("input[type=text].js-advanced-search-prefix, select.js-advanced-search-prefix"),function(a,b,c){if(a==="")return"";b!==""&&f[c]++;if(b!=="")return""+a+b}),$.merge(e,b($("input[type=checkbox].js-advanced-search-prefix"),function(a,b,c){var d;d=$(this).prop("checked"),d!==!1&&f[c]++;if(d!==!1)return""+a+d})),c=function(a){return a.Users>a.Code&&a.Users>a.Repositories?"Users":a.Code>a.Users&&a.Code>a.Repositories?"Code":"Repositories"},d=$.trim(e.join(" ")),$(".js-type-value").val(c(f)),$(".js-search-query").val($.trim(""+a+" "+d)),$(".js-advanced-query").empty(),$(".js-advanced-query").text(""+d),$(".js-advanced-query").prepend($("<span>").text($.trim(a))," ")},b=function(a,b){return $.map(a,function(a,c){var d,e,f,g;return f=$.trim($(a).val()),d=$(a).attr("data-search-prefix"),e=$(a).attr("data-search-type"),g=function(a){return a.search(/\s/g)!==-1?'"'+a+'"':a},d===""?b.call(a,d,f,e):f.search(/\,/g)!==-1&&d!=="location"?f.split(/\,/).map(function(c,f){return b.call(a,d,g($.trim(c)),e)}):b.call(a,d,g(f),e)})},$(document).onFocusedInput(".js-advanced-search-prefix",function(){return function(){return a()}}),$(document).on("change",".js-advanced-search-prefix",a),$(document).on("focusin",".js-advanced-search-input",function(){return $(this).closest(".js-advanced-search-label").addClass("focus")}),$(document).on("focusout",".js-advanced-search-input",function(){return $(this).closest(".js-advanced-search-label").removeClass("focus")}),$(document).on("click",".js-see-all-search-cheatsheet",function(){return $(".js-more-cheatsheet-info").removeClass("hidden"),!1}),$(function(){if($(".js-advanced-search-input").length)return a()})}.call(this),$(function(){$("#js-coupon-click-onload").click(),$(".selected .choose_plan").click(),$(".js-show-credit-card-form")[0]&&($.facebox({div:"#credit_card_form"}),$(document).unbind("close.facebox").bind("close.facebox",function(){window.location="/account/billing"}))}),$(document).on("click",".js-add-cc",function(){return $(document).one("reveal.facebox",function(){$("#facebox .js-thanks").hide()}),$.facebox({div:this.href}),!1}),$(document).on("click",".js-add-billing-contact-info",function(){return $(document).one("reveal.facebox",function(){$(".js-billing-info-field").focus()}),$.facebox({div:"#js-add-billing-contact-info-modal"}),!1}),$(document).on("click",".js-close-facebox",function(){$(document).trigger("close.facebox")}),$(document).on("click",".js-plan-change",function(a){var b=$(this).closest("tr").attr("data-name");$.facebox({div:this.hash});var c=$("#facebox");return c.find(".js-new-plan-name-val").val(b),c.find(".js-new-plan-name").text(b),c.find(".js-new-plan-card-on-file").toggle(b!=="free"),c.find(".js-new-plan-free").toggle(b=="free"),!1}),$(document).on("ajaxSuccess","#facebox .js-coupon-form",function(a,b){$("#facebox .content").html(b.responseText),$(document).one("close.facebox",function(){window.location.reload()})}).on("ajaxError","#facebox .js-coupon-form",function(a,b){return $("#facebox .content").html(b.responseText),!1}),function(){$(document).on("click",".js-add-billing-manager-button",function(a){return $(a.target).toggleClass("selected"),$(".js-add-billing-manager-form").toggle(),$(".js-add-billing-manager-form input").focus(),!1}),$(document).on("member-adder:error",".js-billing-managers",function(){return $(".js-alert").removeClass("hidden"),$(".js-add-billing-manager-form").on("input.billing-manager",function(a){return $(".js-alert").addClass("hidden"),$(this).off(".billing-manager")})}),$(document).on("member-adder:added",".js-billing-managers",function(){return $(".js-add-billing-manager-button").click()})}.call(this),function(){var a,b,c,d,e;a=function(a){return Math.floor(+(new Date)- +a)},e=function(){var a,b;b=[];for(d=a=1;a<=10;d=++a)b.push("heat"+d);return b}(),b=d3.scale.quantile().range(e),$.pageUpdate(c=function(){var c,d,e,f,g,h,i,j,k,l,m;l=$(this).find(".js-blame-heat");for(h=0,j=l.length;h<j;h++){g=l[h],f=moment($(g).attr("data-repo-created")),b.domain([0,a(f)]),m=$(g).find(".js-line-age");for(i=0,k=m.length;i<k;i++)e=m[i],e=$(e),c=moment(e.attr("data-date")),d=b(a(c)),e.addClass(d)}})}.call(this),function(){var a,b,c,d,e,f,g;c=function(a){var b,c,d,e,f;if(c=a.match(/\#?(?:L|-)(\d+)/gi)){f=[];for(d=0,e=c.length;d<e;d++)b=c[d],f.push(parseInt(b.replace(/\D/g,"")));return f}return[]},a=function(a){a.sort(g);switch(a.length){case 1:return"#L"+a[0];case 2:return"#L"+a[0]+"-L"+a[1];default:return"#"}},g=function(a,b){return a-b},f=!1,b=function(a){var b,c,d;c=$(".line, .line-data");if(!c.length)return;c.css("background-color","");if(a.length===1)return $("#LC"+a[0]).css("background-color","#ffc");if(a.length>1){b=a[0],d=[];while(b<=a[1])$("#LC"+b).css("background-color","#ffc"),d.push(b++);return d}},e=function(a){var d;return a==null&&(a=c(window.location.hash)),b(a),!f&&(d=$("#LC"+a[0])).length&&$(window).scrollTop(d.offset().top-$(window).height()*.33),f=!1},$(window).on("hash:change",function(){if($(".line, .line-data").length)return setTimeout(e,0)}),d=function(a){var b,c;return f=!0,b=(c=$(window).scrollTop())!=null?c:0,a(),$(window).scrollTop(b)},$(document).on("mousedown",".line-number, .blob-line-nums span[rel], .csv-row-num",function(b){var e,f;return $(this).hasClass("csv-row-num")?f=c($(this).find("span:first").attr("id")):f=c($(this).attr("rel")),b.shiftKey&&(e=c(window.location.hash),f.unshift(e[0])),d(function(){return window.location.hash=a(f)}),!1}),$(document).on("submit",".js-jump-to-line-form",function(){var a,b;a=$(this).find(".js-jump-to-line-field")[0];if(b=parseInt(a.value.replace(/\D/g,"")))window.location.hash="L"+b;return $(document).trigger("close.facebox"),!1}),$(document).on("click",".highlight-ctags a.ctag-relative",function(b){var d;return(d=c($(this).attr("href"))).length&&(window.location.hash=a(d)),!1})}.call(this),function(){var a,b,c,d;c=!1,a=null,$.pageUpdate(function(){if(c)return setTimeout(function(){var a;if((a=$("#highlight-ctags-enabled")).length)return a.prop("checked",!0).change()},100)}),d=function(b,c){var e,f;return c==null&&(c=1e3),a?b(a):(e=$("#highlight-ctags-enabled"),f=$(".highlight-ctags").addClass("ctags-loading"),$.ajax({url:e.data("list-url"),dataType:"json",success:function(e){var g=this;if(e.tags)return a=e.tags,b(a),f.removeClass("ctags-loading");if(e.generating)return c<6e4?(c*=1.5,setTimeout(function(){return d(b,c)},c)):f.removeClass("ctags-loading")},error:function(){return f.removeClass("ctags-loading")}}))},b=function(){var a=this;return d(function(a){var b,c,d,e,f;c=[],f=$(".highlight .line > span.n, .highlight .line > span.no");for(d=0,e=f.length;d<e;d++)b=f[d],a[b.textContent]&&(b.children.length?a[b.textContent]>1&&(b.innerHTML=b.textContent,c.push(b)):c.push(b));return $(c).addClass("valid-ctag")})},$(document).on("click",".highlight-ctags .popover",function(a){return!1}),$(document).on("click",".highlight-ctags",function(a){var b;if((b=$(".highlight-ctags .visible-ctag")).length)return b.removeClass("visible-ctag").popover("destroy"),$(".highlight-ctags .popover").remove(),!1}),$(document).on("click",".highlight-ctags span.valid-ctag",function(b){var c,d,e,f;if((d=$(".highlight-ctags .visible-ctag")).length){d.removeClass("visible-ctag").popover("destroy"),$(".highlight-ctags .popover").remove();if(d[0]===b.target)return!1}return d=$(b.target),d.addClass("visible-ctag"),c=$("#highlight-ctags-enabled"),f=b.target.textContent,e=d.offset().left+d.width()>$(window).width()*.5?"left":"right",d.popover({html:!0,content:"<div class='loading'><img align='absmiddle' src='"+GitHub.Ajax.spinner+"' height='16'/>      Loading "+(a&&a[f]||"")+" definitions</div>",placement:e}).popover("show"),$.ajax({url:c.data("lookup-url")+escape(f),data:{path:c.data("path"),line:d.parents("div.line:first").attr("id").slice(2)},dataType:"html",success:function(a){return d.popover({html:!0,content:a,placement:e}).popover("show"),$(".popover .js-navigation-container").navigation("focus")}}),!1}),$(document).on("change","input#highlight-ctags-enabled",function(a){var d;return d=$(".js-blob-data td > .highlight"),(c=$(a.target).is(":checked"))?(d.addClass("highlight-ctags"),b()):d.removeClass("highlight-ctags")}),$(document).on("keydown",function(a){var b;if($(a.target).is("input, textarea"))return!0;if(a.hotkey==="f"&&(b=$("#highlight-ctags-enabled")).length)return b.prop("checked",!b[0].checked).change(),!1})}.call(this),function(){var a,b,c,d,e,f,g,h,i;e=function(){var a,b,c,d,e,f,g,h,i;return b=$(".js-blob-form"),a=b.find(".js-blob-filename"),g=!a[0]||a.val()!==a.attr("data-default-value"),a[0]&&(g=g&&a.val()!=="."&&a.val()!==".."&&a.val()!==".git"&&!a.val().match(/^\s+$/)),h=b.find(".js-check-for-fork").is(":visible"),f=$(".js-blob-contents")[0],d=f.value!==f.defaultValue,c=d||$(f).attr("data-allow-unchanged")||$(f).attr("data-new-filename"),e=f.value==="",b.find(".js-blob-submit").prop("disabled",!g||h||!c||e),i=d||$(f).attr("data-allow-unchanged"),b.find(".js-blob-contents-changed").val(i)},$.pageUpdate(function(){var a;if(!(a=$(this).find(".js-blob-contents")[0]))return;return e()}),$(document).on("change",".js-blob-contents",function(){return f($(".js-blob-filename")),e()}),$(document).on("click",".js-new-blob-submit",function(){return $(this).closest("form.js-new-blob-form").submit()}),$(document).onFocusedInput(".js-blob-filename",function(){return function(){return $(".js-blob-contents").attr("data-filename",$(this).val()),d($(this).val()),f($(this))}}),$(document).onFocusedInput(".js-breadcrumb-nav",function(){return function(){return i($(this)),f($(this))}}),$(document).onFocusedKeydown(".js-breadcrumb-nav",function(){return function(a){var b,d,e;return d=$(this).caretSelection(),e=[0,0],b=$(d).not(e).length===0&&$(e).not(d).length===0,b&&a.keyCode===8&&$(this).parent().children(".separator").size()!==1&&(c($(this),!0),a.preventDefault()),f($(this))}}),f=function(a){return a[0]!=null&&(h(a),g(a)),e()},i=function(a){var d,e,f,g,h,i;i=[];while(a.val().split("/").length>1)d=a.val(),f=d.split("/"),e=f[0],h=f.slice(1).join("/"),e===""||e==="."||e===".git"?(a.val(h),g=function(){return a.caret(0)},i.push(window.setTimeout(g,1))):e===".."?i.push(c(a)):i.push(b(a,e,h));return i},d=function(a){var b,c;return b=$(".js-gitignore-template"),c=$(".js-license-template"),/^(.+\/)?\.gitignore$/.test(a)?b.addClass("is-visible"):/^(.+\/)?(licen[sc]e|copying)($|\.)/i.test(a)?c.addClass("is-visible"):(b.removeClass("is-visible"),c.removeClass("is-visible"))},g=function(a){var b,c,d,e,f,g,h,i,j,k,l,m;return d=a.closest("form"),c=$(".js-blob-contents"),b=d.find(".js-new-blob-commit-summary"),h=a.val()?"Create "+a.val():"Create new file",l=c.attr("data-old-filename"),i=$(".js-new-filename-field").val(),c.removeAttr("data-new-filename"),h=l.length&&i!==l&&a[0]!=null?(c.attr("data-new-filename","true"),f=c[0].value!==c[0].defaultValue,e=f?"Update and rename":"Rename",a.val().length&&i.length?(m=l.split("/"),j=i.split("/"),k=!0,g=m.length-1,m.forEach(function(a,b){if(b!==g&&a!==j[b])return k=!1}),m.length===j.length&&k?""+e+" "+m[g]+" to "+j[g]:""+e+" "+l+" to "+i):""+e+" "+l):l.length&&i===l?"Update "+a.val():h,b.attr("placeholder",h),$(".js-commit-message-fallback").val(h)},h=function(a){var b,c;return b=$(".breadcrumb").children("[itemscope]"),c="",b.each(function(){var a;return a=$(this),c=c+a.text()+"/"}),c+=a.val(),$(".js-new-filename-field").val(c)},c=function(a,b){var c,e;return b==null&&(b=!1),b||a.val(a.val().replace("../","")),e=function(){return a.caret(0)},a.parent().children(".separator").size()!==1&&(a.prev().remove(),c=a.prev().children().children().html(),a.prev().remove(),b&&(a.val(""+c+a.val()),e=function(){if(b)return a.caret(c.length)})),d(a.val()),window.setTimeout(e,1)},b=function(a,b,c){var e,f,g,h,i,j,k;return c==null&&(c=""),b=b.replace(/[^-.a-z_0-9]+/ig,"-"),b=b.replace(/^-+|-+$/g,""),b.length>0&&(k=a.parent().children(".js-repo-root, [itemtype]").children("a").last().attr("href"),k||(e=a.parent().children(".js-repo-root, [itemtype]").children("span").children("a").last(),f=e.attr("data-branch"),i=e.attr("href"),k=""+i+"/tree/"+f),g=$(".js-crumb-template").clone().removeClass("js-crumb-template"),g.find("a[itemscope]").attr("href",""+k+"/"+b),g.find("span").text(b),h=$(".js-crumb-separator").clone().removeClass("js-crumb-separator"),a.before(g,h)),a.val(c),d(a.val()),j=function(){return a.caret(0)},window.setTimeout(j,1)},$(document).onFocusedInput(".js-new-blob-commit-summary",function(){var a;return a=$(this).closest(".js-file-commit-form"),function(){return a.toggleClass("is-too-long-error",$(this).val().length>50)}}),a=function(a){if(a.data("checking-for-fork"))return;return e(),$.smartPoller(function(b){return $.ajax({url:a.attr("data-check-url"),success:function(){return a.hide(),e()},error:function(c){return c.status===404?b():a.html("<img src='/images/modules/ajax/error.png'>\nSomething went wrong. Please fork the project, then try from your fork.")}})}),a.data("checking-for-fork",!0)},$.pageUpdate(function(){var b,c,d,e;e=$(".js-check-for-fork");for(c=0,d=e.length;c<d;c++)b=e[c],a($(b))}),$(document).on("change",".js-gitignore-template input[type=radio]",function(){return $.ajax({type:"GET",url:$(this).attr("data-template-url"),success:function(a){return editor.setCode(a)}})}),$(document).on("change",".js-license-template input[type=radio]",function(){var a;return a=$(this).attr("data-template-contents"),editor.setCode(a)}),$(document).onFocusedKeydown(".js-file-commit-form :input",function(){return function(a){if(a.hotkey==="ctrl+enter"||a.hotkey==="meta+enter")return $(this).closest("form").submit(),!1}})}.call(this),function(){$(document).on("click",".js-branch-toggle",function(){return $(".js-branches-content").toggleClass("showing-unmerged"),$(".js-branches-content").toggleClass("showing-merged"),!1}),$(document).on("ajaxSend",".js-branch-delete",function(){return $(this).addClass("disabled"),$(this).closest(".actions").find(".spinner").show()}),$(document).on("ajaxSuccess",".js-branch-delete",function(a,b,c,d){return $(this).closest("tr").fadeOut(),!1}),$(document).on("ajaxError",".js-branch-delete",function(a,b,c,d){return $(this).closest(".actions").find(".spinner").hide(),$(this).html("Couldn't delete!"),!1}),$(function(){var a,b,c,d;return b=2,a=7,d=30,c=1e4,$(".diverge-widget").each(function(){var c,e,f;return c=$(this),e=new Date(c.attr("last-updated")),f=(new Date-e)/1e3/3600/24,f<=b?c.addClass("hot"):f<=a?c.addClass("fresh"):f<=d?c.addClass("stale"):c.addClass("old")})})}.call(this),function(){$.pageUpdate(function(){var a,b;if(!(a=document.getElementById("diff-comment-data")))return;if($(a).data("commit-inline-comments-rendered"))return;return b={},$("#files.diff-view > .file > .meta").each(function(){return b[$(this).attr("data-path")]=this}),$("#diff-comment-data > table").each(function(){var a,c,d,e;return c=$(this).attr("data-path"),d=$(this).attr("data-position"),a=$(b[c]).closest(".file"),e=a.find(".data table tr[data-position='"+d+"']"),e.after($(this).find("tr").detach()),a.addClass("has-inline-notes show-inline-notes")}),$("#diff-comment-data > div").each(function(){var a;return a=$(this).attr("data-path"),$(b[a]).closest(".file").find(".file-comments-place-holder").replaceWith($(this).detach())}),$(a).data("commit-inline-comments-rendered",!0)}),$(document).on("change",".js-show-inline-comments-toggle",function(){return $(this).closest(".file").toggleClass("show-inline-notes",this.checked)}),$(document).on("keyup",function(a){var b;if(a.hotkey==="i"&&a.target===document.body)return b=$(".js-show-inline-comments-toggle:not(:checked)").length===0,$(".js-show-inline-comments-toggle").prop("checked",!b).trigger("change")}),$(document).on("change","#js-inline-comments-toggle",function(){return $("#comments").toggleClass("only-commit-comments",!this.checked)}),$(document).on("click",".linkable-line-number",function(){return document.location.hash=this.id,!1}),$(document).on("click",".js-tag-list-toggle",function(){var a;return a=$(this),a.closest(".tag-list").find("li").show(),a.hide(),!1})}.call(this),function(){$(document).on("navigation:keyopen",".commit-group-item",function(){return $(this).find(".commit-title > a:first").click(),!1}),$(document).on("navigation:keydown",".commit-group-item",function(a){if(a.hotkey==="c")return $(this).find(".commit-title > a:first").click(),!1}),$.support.pjax&&$(document).on("click",".js-pjax-commit-title > a.message",function(a){$.pjax.click(a,$(this).closest("[data-pjax-container]"))})}.call(this),function(){var a,b=this;$(document).on("click",".js-compare-tabs a",function(){return $(this).closest(".js-compare-tabs").find("a").removeClass("selected"),$(this).addClass("selected"),$("#commits_bucket, #files_bucket, #commit_comments_bucket").hide(),$(this.hash).show(),!1}),$(document).on("hash:change","#files_bucket",function(a){if(!$(a.target).is(":visible"))return $('a.tabnav-tab[href="#files_bucket"]').click()}),$(document).on("click",".js-cross-repo a",function(a){return a.preventDefault(),$(this).closest(".js-range-editor").addClass("is-cross-repo")}),$(document).on("click",".js-expand-range-editor",function(a){var b;return b=$(this).closest(".js-range-editor"),b.removeClass("is-collapsed").addClass("is-expanded")}),$(document).on("click",".js-collapse-range-editor",function(a){var b;return b=$(this).closest(".js-range-editor"),b.addClass("is-collapsed").removeClass("is-expanded")}),a=function(){function a(b){var c=this;this.onCommitishSelect=function(b){return a.prototype.onCommitishSelect.apply(c,arguments)},this.$container=$(b);if(this.$container.attr("data-range-editor-activated")==="yes")return;this.$form=$("#js-compare-body-form"),this.$suggesters=this.$container.find(".js-select-menu"),this.urlTemplate=this.$container.attr("data-url-template"),this.currentRepo=this.$container.attr("data-current-repository"),this.base=this.$suggesters.filter('[data-type="base"]').attr("data-initial-value"),this.head=this.$suggesters.filter('[data-type="head"]').attr("data-initial-value"),this.baseFork=this.$suggesters.filter('[data-type="base-fork"]').attr("data-initial-value"),this.headFork=this.$suggesters.filter('[data-type="head-fork"]').attr("data-initial-value"),this.discussionDrafted=$(".js-compare-body-draft").length>0,this.$suggesters.on("navigation:open.range-editor",".js-navigation-item",this.onCommitishSelect),this.$form.on("change","input, textarea",function(){return c.discussionDrafted=!0}),this.$container.attr("data-range-editor-activated","yes")}return a.prototype.teardown=function(){return this.$suggesters.off(".range-editor"),this.$container.attr("data-range-editor-activated",null)},a.prototype.onCommitishSelect=function(a){var b,c;c=$.trim($(a.target).text()),b=$(a.target).closest(".js-select-menu").attr("data-type");switch(b){case"base":this.base=escape(c);break;case"head":this.head=escape(c);break;case"base-fork":this.baseFork=c;break;case"head-fork":this.headFork=c}return this.updateDiff()},a.prototype.updateDiff=function(){var a,b,c,d,e;return this.currentRepo===this.baseFork?a=this.base:a=""+this.baseFork.replace(/\/(.+)/,"")+":"+this.base,this.currentRepo===this.headFork?c=this.head:c=""+this.headFork.replace(/\/(.+)/,"")+":"+this.head,e=this.urlTemplate.replace("{{head}}",c).replace("{{base}}",a),d={url:e,container:this.$container.closest("[data-pjax-container]")[0]},this.discussionDrafted&&(b={type:"POST",data:this.$form.serializeArray()},d=$.extend({},d,b)),$.pjax(d)},a}(),$.pageUpdate(function(){return $(".js-commitish-range-editor").each(function(){return new a(this)})})}.call(this),function(){$(document).on("focusin",".js-contact-documentation-suggestions",function(){if($(this).data("quicksearch-installed"))return;return $(this).quicksearch({url:$(this).attr("data-quicksearch-url"),results:$(this).closest("form").find(".documentation-results")}),$(this).data("quicksearch-installed",!0)}),$(function(){return $(".js-contact-javascript-flag").val("true")})}.call(this),function(){var a;a=function(a){var b,c,d,e,f,g;a=a.toLowerCase(),b=$(".js-csv-data tbody tr"),g=[];for(e=0,f=b.length;e<f;e++)c=b[e],d=$(c).text().toLowerCase(),d.indexOf(a)===-1?g.push($(c).hide()):g.push($(c).show());return g},$(document).on("keyup",".js-csv-filter-field",function(b){var c;return c=b.target.value,c!=null&&a(c),!1})}.call(this),function(){var a,b;b=function(a){var b;return a==null&&(a=document.location.search.substr(1)),b={},$.each(a.split("&"),function(a,c){var d,e,f;return f=c.split("="),d=f[0],e=f[1],b[d]=decodeURIComponent(e.replace(/\+/g," "))}),b},$(document).on("navigation:open",".ctags-search-result",function(a){return $(".js-ctags-search-form input.query").attr("placeholder",$.trim($(this).find(".name > .full").text()))}),$(document).on("click",".js-ctags-search-results a.filter-item",function(a){var c,d;return d=b(this.href.split("?",2)[1]||""),c=$(".js-ctags-search-form"),c.find("input[name=l]").val(d.l),c.find("input[name=k]").val(d.k),c.submit(),!1}),$(document).on("submit","form.js-ctags-search-form[data-ajax]",function(a){var b,c;c=$(this);if(b=$(".js-ctags-search-results[data-ajax-container]")[0])return c.addClass("pjax-active"),$.ajax({url:c.attr("action"),data:c.serialize()}).always(function(){return c.removeClass("pjax-active")}).done(function(a,c){if(c==="success")return b.innerHTML=a,$(b).pageUpdate()}),!1}),$(document).on("focusin",".js-ctags-search-form input.query",function(a){var b,c;return b=$(this),b.on("blur.ctags",function(){return b.off(".ctags")}),c=null,b.on("throttled:input.ctags",function(a){return c&&clearTimeout(c),c=setTimeout(function(){return b.closest("form").submit()},150)}),b.on("keydown.ctags",function(a){return a.hotkey==="esc"&&(history.back(),a.preventDefault()),!0})}),$.pageUpdate(a=function(){var a,b,c,d,e,f,g;$(".js-ctags-search-results .js-navigation-container").navigation("focus"),g=$(".js-ctags-search-results .ctags-search-result");for(e=0,f=g.length;e<f;e++)a=g[e],d=$(a),c=d.width()-d.find(".name").width()-10,d.find(".link").css("max-width",""+c+"px");b=$(".js-ctags-search-form"),b.find("input.query").attr("placeholder","Search definitions...").focus(),b.find("input.query:focus").length||b.find("input.query").focus();if($(".js-ctags-search-generating").length)return setTimeout(function(){return b.submit()},5e3)})}.call(this),function(){$(document).on("mousedown",".diff-line-code",function(){var a;return a=$(this).closest(".file-diff"),a.addClass("hide-line-numbers"),a.hasClass("line-number-attrs")||(a.addClass("line-number-attrs"),a.find(".diff-line-num").each(function(){var a;return a=$(this),a.attr("data-line-number",a.text())})),$(document).one("mouseup",function(){if(!window.getSelection().toString())return a.removeClass("hide-line-numbers")})}),$(document).on("click",".js-expand-diff[data-remote]",function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n;return n=$(this).parents("tr"),a=n.closest("div.file"),l=n.prev().children("td").eq(0),g=n.next().children("td").eq(0),m=n.prev().children("td").eq(1),h=n.next().children("td").eq(1),k=m.length?parseInt(m.attr("data-line-number"),10):-1,f=h.length?parseInt(h.attr("data-line-number"),10):-1,j=l.length?parseInt(l.attr("data-line-number"),10):-1,e=g.length?parseInt(g.attr("data-line-number"),10):-1,i={diff_num:a.attr("data-diff-num"),prev_line_num_left:j,prev_line_num_right:k,next_line_num_left:e,next_line_num_right:f},b=/@@&nbsp;-\d+,(\d+)&nbsp;\+\d+,(\d+)&nbsp;/,c=n.children("td.diff-line-code").html(),d=b.exec(c),(d!=null?d.length:void 0)>=3&&(i.left_hunk_size=d[1],i.right_hunk_size=d[2]),$.ajax({context:this,url:$(this).attr("data-remote")+"?"+$.param(i),cache:!1,success:function(a){return n.replaceWith(a).pageUpdate()}})})}.call(this),function(){$(document).on("focusin",".js-url-field",function(){var a;return a=this,setTimeout(function(){return $(a).select()},0)})}.call(this),function(){var a,b,c;c=null,$(document).on("ajaxBeforeSend",".js-discussion-update",function(a,b){c=b}),$(document).on("ajaxSuccess",".js-discussion-update",function(a,c,d,e){b(e)}),$(document).on("ajaxComplete",".js-discussion-update",function(){c=null}),$(document).on("socket:message",".js-comment-channel",function(){if(c)return;return c=$.ajax({url:$(this).attr("data-url"),context:this,beforeSend:function(a){var b;if(b=$("#js-discussion-last-modified").attr("datetime"))return a.setRequestHeader("X-Discussion-Last-Modified",b)},success:function(a){if(a)return b(a)},complete:function(){return c=null}})}),$(document).on("ajaxBeforeSend",".js-new-comment-form",function(a,b){var c;if(c=$("#js-discussion-last-modified").attr("datetime"))return b.setRequestHeader("X-Discussion-Last-Modified",c)}),b=function(b){var c,d,e,f;return d=function(){var a;return b.discussionStats!=null&&$(".discussion-stats").html(b.discussionStats),b.discussion!=null&&$(".js-discussion").append(b.discussion),b.formActions!=null&&$(".js-new-comment-form .form-actions").html(b.formActions),a=$("#js-pull-merging .merge-form"),b.merging!=null&&(!a.is(":visible")||a.is(".disabled"))&&$("#js-pull-merging").html(b.merging),$(".js-new-comment-form .js-comment-field").trigger("validation:field:change"),$("#discussion_bucket").pageUpdate(),$("#show_issue").pageUpdate()},c=$(".js-discussion").next(),f=$(document.activeElement).is("textarea"),e=c.offset().top<a,f||e?c.preservingScrollPosition(d):d()},a=0,$(function(){if(!$(".js-discussion-update").length)return;return $(document).on("mousemove",function(b){return a=b.pageY})})}.call(this),function(){$(document).on("click",".js-zen-mode",function(){return $(document.body).hasClass("zen")?($(document.body).removeClass("zen"),$(document).off("keydown.zenMode")):($(document.body).addClass("zen"),$(document).on("keydown.zenMode",function(a){if(a.hotkey==="esc")return $(document.body).removeClass("zen"),!1})),!1})}.call(this),function(){$(document).on("click",".js-events-pagination",function(){var a,b;return b=$(this).parent(".ajax_paginate"),a=b.parent(),b.hasClass("loading")?!1:(b.addClass("loading"),$.ajax({url:$(this).attr("href"),complete:function(){return b.removeClass("loading")},success:function(c){return b.replaceWith(c),a.pageUpdate()}}),!1)})}.call(this),function(){$(function(){var a,b;a=$(".community .bigcount"),b=function(){var b;return b=a.outerWidth(),a.css("margin-left",-(b/2)+"px"),a.fadeIn()};if(a.length)return setTimeout(b,500)})}.call(this),function(){$(document).on("click","#fork-select .target",function(){var a;if($(this).hasClass("disabled"))return;return a=$(this).text().replace("@",""),$("#organization").val(a),$("#fork").submit()})}.call(this),function(){var a,b,c;b=function(b,c){return b.closest(".js-label-editor").find(".js-color-editor-bg").css("background-color",c),b.css("color",a(c,-0.5)),b.css("border-color",c)},c=function(a){var b,c;return b="#eee",c=$(a).closest(".js-color-editor"),c.find(".js-color-editor-bg").css("background-color",b),a.css("color","#c00"),a.css("border-color",b)},a=function(a,b){var c,d,e;a=String(a).toLowerCase().replace(/[^0-9a-f]/g,""),a.length<6&&(a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]),b=b||0,e="#",c=void 0,d=0;while(d<3)c=parseInt(a.substr(d*2,2),16),c=Math.round(Math.min(Math.max(0,c+c*b),255)).toString(16),e+=("00"+c).substr(c.length),d++;return e},$(document).on("focusin",".js-color-editor-input",function(){var a,d;return d=$(this),a=$(this).closest(".js-label-editor"),d.on("throttled:input.colorEditor",function(e){var f;return d.val().charAt(0)!=="#"&&d.val("#"+d.val()),a.removeClass("is-valid is-not-valid"),f=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(d.val()),a.find(".js-label-editor-submit").toggleClass("disabled",!f),f?(a.addClass("is-valid"),b(d,d.val())):(a.addClass("is-not-valid"),c(d))}),d.on("blur.colorEditor",function(){return d.off(".colorEditor")})}),$(document).on("menu:activate",".js-editable-label",function(){var a;return a=$(this).find(".js-color-editor-input"),b(a,a.val()),$(this).find(".js-label-editor").addClass("is-valid"),$(this).find(".js-label-editor").addClass("open")}),$(document).on("menu:deactivate",".js-editable-label",function(){var a,b,c;return c=$(this).find(".js-color-editor-input"),b=$(this).find(".js-label-editor"),c.attr("style",""),b.removeClass("is-valid is-not-valid"),b.find(".js-color-editor-bg").attr("style",""),b.find(".js-label-editor").removeClass("open"),c.val(c.attr("data-original-color")),a=$(".js-color-cooser-color")}),$(document).on("click",".js-color-cooser-color",function(){var a,c,d;return a=$(this).closest(".js-label-editor"),c="#"+$(this).data("hex-color"),d=a.find(".js-color-editor-input"),a.find(".js-label-editor-submit").removeClass("disabled"),a.removeClass("is-valid is-not-valid"),d.val(c),b(d,c)}),$(document).on("submit",".js-label-editor form",function(){var a,b;return a=$(this).find(".js-color-editor-input"),b=a.val(),b.length<6&&(b=b[1]+b[1]+b[2]+b[2]+b[3]+b[3]),a.val(b.replace("#",""))}),$(document).on("focus",".js-label-editor",function(){return $(this).closest(".js-label-editor").addClass("open")}),$(function(){var a;a=$("#issues_list");if(!a.length)return;return a.selectableList(".js-color-chooser",{wrapperSelector:".js-color-cooser-color",mutuallyExclusive:!0})})}.call
(this),function(){$(window).on("hash:change",/\/issues#issue\/(\d+)$/,function(a,b){var c,d;return d=b[0],c=b[1],window.location=a.newURL.replace(/\/?#issue\/.+/,"/"+c)}),$(window).on("hash:change",/\/issues#issue\/(\d+)\/comment\/(\d+)$/,function(a,b){var c,d,e;return e=b[0],d=b[1],c=b[2],window.location=a.newURL.replace(/\/?#issue\/.+/,"/"+d+"#issuecomment-"+c)})}.call(this),function(){$(document).on("click",".js-issues-sort .js-navigation-item",function(){return $(this).menu("deactivate")}),$(function(){var a,b;a=$("#issues_list");if(!a.length)return;return b=function(){return $.pjax.reload(a)},a.on("navigation:keydown",".js-issues-list .js-list-browser-item",function(a){if(a.hotkey==="x")return $(this).click().trigger("change")}),a.selectableList(".js-selectable-issues",{wrapperSelector:"",itemParentSelector:".js-list-browser-item",enableShiftSelect:!0,ignoreLinks:!0}),a.on("click",".js-milestone-issue-filter .js-navigation-item",function(){return $(this).menu("deactivate")}),a.selectableList(".js-issue-sidebar .js-color-label-list"),a.on("click",".js-editable-labels-container .js-manage-labels",function(){var a,c,d,e;return a=$(this),c=a.closest(".js-editable-labels-container"),e=c.find(".js-editable-labels-show"),d=c.find(".js-editable-labels-edit"),e.is(":visible")?(e.hide(),d.show(),a.addClass("selected"),$(document).on("keydown.manage-labels",function(b){if(b.keyCode===27)return a.click()})):b(),!1}),a.on("ajaxSuccess",".js-color-label-delete",function(){return $(this).closest(".color-label").hide()}),a.on("change",".select-toggle-check",function(){var b;return b=a.find(".js-list-browser-item.selected").length,a.find(".js-mass-assign-button").toggleClass("disabled",!b)}),a.find(":checked").removeProp("checked"),a.on("click",".js-issues-list-close",function(){var c;return $.ajax({type:"PUT",url:$(this).attr("data-url"),data:{issues:function(){var b,d,e,f;e=a.find(".js-issues-list :checked"),f=[];for(b=0,d=e.length;b<d;b++)c=e[b],f.push($(c).val());return f}()},success:b}),!1}),a.on("ajaxSuccess",".js-navigation-item",b),a.pageUpdate()})}.call(this),function(){$(document).on("menu:activate",".js-issue-mass-assign",function(){var a,b,c;a=$(this).find("form"),a.find(".js-issue-number").remove(),c=function(){var a,c,d,e;d=$(".js-issues-list-checkbox").filter(":checked"),e=[];for(a=0,c=d.length;a<c;a++)b=d[a],e.push($("<input>",{type:"hidden","class":"js-issue-number",name:"issues[]",value:$(b).val()}));return e}(),a.append(c)}),$(document).on("ajaxSuccess",".js-issue-mass-assign",function(){return $.pjax.reload($("#issues_list"))})}.call(this),function(){$(document).on("click",".js-new-issue-form .js-composer-labels",function(a){return a.preventDefault()}),$.pageUpdate(function(){var a,b,c,d;d=$(this).find(".js-new-issue-form");for(b=0,c=d.length;b<c;b++)a=d[b],$(a).data("selectable-list-installed")||($(a).selectableList(".js-composer-labels"),$(a).data("selectable-list-installed",!0))})}.call(this),function(){var a;$(document).on("selectmenu:selected",".js-composer-assignee-picker .js-navigation-item",function(){var a,b,c,d=this;return a=$(this).closest(".js-infobar"),b=$(this).find("input[type=radio]"),c=$(this).hasClass("js-clear-assignee"),a.find(".js-composer-assignee-picker").toggleClass("is-showing-clear-item",!c),a.find(".js-assignee-infobar-item-wrapper").html(function(){return c?"No one will be assigned":"<a href='/"+b.val()+"' class='css-truncate-target'>"+b.val()+"</a> will be assigned"})}),$(document).on("selectmenu:selected",".js-assignee-picker .js-navigation-item",function(){var b,c=this;return b=$(this).closest("form"),a(b,{},function(){var a,b;return a=$(c).closest(".js-assignee-picker"),b=$(c).hasClass("js-clear-assignee"),a.toggleClass("is-showing-clear-item",!b),$(".js-assignee-infobar-item-wrapper").html(function(){var a;return b?"No one is assigned":(a=$(c).find("input[type=radio]"),"<a href='/"+a.val()+"' class='css-truncate-target'>"+a.val()+"</a> is assigned")})})}),$(document).on("selectmenu:selected",".js-composer-milestone-picker .js-navigation-item",function(){var a,b,c,d,e,f=this;return a=$(this).closest(".js-infobar"),d=$(this).find("input[type=radio]"),b=a.find('input[name="issue[milestone_id]"]'),c=a.find('input[name="new_milestone_title"]'),$(this).hasClass("js-new-item-form")?(b.val("new"),c.val($(this).find(".js-new-item-name").html())):b.val(d[0].value),e=$(this).hasClass("js-clear-milestone"),a.find(".js-composer-milestone-picker").toggleClass("is-showing-clear-item",!e),$(".js-composer-milestone-title").html(function(){return e?"No milestone":'Milestone: <strong class="css-truncate-target">'+$(f).find(".js-milestone-title").html()+"</strong>"})}),$(document).on("selectmenu:selected",".js-milestone-picker .js-navigation-item",function(){var b,c=this;return b=$(this).closest("form"),a(b,{},function(a){var b,d,e;d=$(c).closest(".js-milestone-picker"),e=$(c).hasClass("js-clear-milestone"),d.toggleClass("is-showing-clear-item",!e),b=$(".js-milestone-infobar-item-wrapper");if(b.length)return b.html(a.infobar_body),d.menu("deactivate"),d.find(".js-milestone-picker-body").html(a.select_menu_body)})}),$(document).on("ajaxSend",".js-issue-list-label-select-menu",function(){return $(this).addClass("is-loading")}),$(document).on("click",".js-apply-labels",function(b){var c,d=this;return c=$(this).closest("form"),a(c,{type:"put"},function(a){return $(d).menu("deactivate")}),!1}),$(document).on("click",".js-remove-labels",function(b){var c,d=this;return c=$(this).closest("form"),a(c,{type:"delete"},function(a){return $(d).menu("deactivate")}),!1}),$(document).on("selectmenu:selected",".js-issue-show-label-select-menu .js-navigation-item",function(b){var c,d,e,f=this;return c=$(this).closest("form"),d=$(this).find("input[type=checkbox]"),e={type:d.is(":checked")?"put":"delete",data:{"issues[]":c.find(".js-issue-number").val(),"labels[]":d.val()}},a(c,e,function(a){return $(".discussion-labels > .color-label-list").html(a.labels)}),!1}),$(document).on("focusin",".js-issue-list-label-select-menu .js-filterable-field",function(){var a;return a=$(this),a.on("keydown.labelPicker",function(a){if(a.hotkey==="enter")return!1}),a.on("blur.labelPicker",function(){return a.off(".labelPicker")})}),a=function(a,b,c){var d;if(!(d=a[0]))return;return $.ajax({context:d,type:b.type||a.attr("method"),url:a.attr("action"),data:b.data||a.serialize(),success:c})}}.call(this),function(){window.jobsWidgetCallback=function(a){var b,c,d;return c=Math.floor(Math.random()*a.jobs.length),b=a.jobs[c],d=$(".github-jobs-promotion"),d.find(".job-link").attr("href",b.url),d.find(".job-company").text(b.company),d.find(".job-position").text(b.position),d.find(".job-location").text(b.location),d.css({visibility:"visible"})},$(function(){var a;a=$(".github-jobs-promotion");if(!a.length)return;return a.css("visibility","hidden"),$.getScript(a.attr("url"))})}.call(this),function(){var a,b;b=function(){var a;return a={div:"#keyboard_shortcuts_pane",ajax:"/site/keyboard_shortcuts?url="+window.location.pathname},$.facebox(a,"shortcuts")},$(document).on("click",".js-keyboard-shortcuts",function(){return b(),!1}),$(document).on("click",".js-see-all-keyboard-shortcuts",function(){return $(this).remove(),$(".facebox .js-hidden-pane").css("display","table-row-group"),!1}),$(document).on("keypress",function(a){if(a.target!==document.body)return;if(a.which===63)return $(".facebox .shortcuts:visible").length?$.facebox.close():b(),!1}),a=function(){var a;return $(".cheatsheet").is(":visible")?$.facebox.close():(a={div:"#markdown-help",ajax:"/site/markdown_cheatsheet"},$.facebox(a,"cheatsheet"))},$(document).on("keydown",function(b){if(b.target===document.body&&b.hotkey==="m")return a(),!1}),$(document).on("click",".gfm-help",function(){return a(),!1})}.call(this),function(){$(function(){var a;if($(".js-leaving-form")[0])return a=function(){var a;return a=new WufooForm,a.initialize({userName:"github",formHash:"q7x4a9",autoResize:!0,height:"504",ssl:!0}),$(".js-leaving-form").html(a.generateFrameMarkup())},function(){var b,c;return b=document.location.protocol==="https:"?"https://secure.":"http://",c=""+b+"wufoo.com/scripts/embed/form.js",$.getScript(c,a)}()})}.call(this),function(){$(document).on("ajaxSuccess",".js-milestones-assign, .js-milestones-unassign",function(){return window.location.reload()}),$(document).on("click",".js-milestone-toggle-state",function(a){var b,c;return c=$(this).val(),b=$(this).parents(".js-milestone-form"),b.find("#milestone_state").val(c)})}.call(this),function(){var a;DateInput.prototype.resetDate=function(){return $(".date_selector .selected").removeClass("selected"),this.changeInput("")},$(a=function(){var a,b,c,d,e;e=$("input.js-date-input");for(c=0,d=e.length;c<d;c++)b=e[c],a=new DateInput(b),a.hide=$.noop,a.show(),$(this).hide(),$(".date_selector").addClass("no_shadow");return $("label.js-date-input a").on("click",function(){var a;return a=$("input.js-date-input").data("datePicker"),a.resetDate(),!1})})}.call(this),function(){var a;a=function(a){if($(a).is(".read"))return;return $(a).toggleClass("unread read")},$(document).on("click",".js-notification-target",function(){return a($(this).closest(".js-notification"))}),$(document).on("ajaxSuccess",".js-delete-notification",function(){return a($(this).closest(".js-notification"))}),$(document).on("ajaxSuccess",".js-mute-notification",function(){var b;return a($(this).closest(".js-notification")),b=$(this).closest(".js-notification"),b.is(".muted")?this.action=this.action.replace("unmute","mute"):this.action=this.action.replace("mute","unmute"),b.toggleClass("muted")}),$(document).on("ajaxSuccess",".js-mark-visible-as-read",function(){var a;return a=$(this).closest(".js-notifications-browser"),a.find(".unread").toggleClass("unread read"),a.find(".js-mark-as-read-confirmation").show()}),$(document).on("navigation:keydown",".js-notification",function(a){var b;switch(a.hotkey){case"I":case"e":case"y":return $(this).find(".js-delete-notification").submit(),!1;case"M":return $(this).find(".js-mute-notification").submit(),!1;case"o":case"enter":return b=$(this).find(".js-notification-target"),b.click(),window.location=b.attr("href"),!1}}),$(document).on("ajaxBeforeSend",".js-notifications-subscription",function(){return $(this).find(".js-spinner").show()}),$(document).on("ajaxComplete",".js-notifications-subscription",function(){return $(this).find(".js-spinner").hide()})}.call(this),function(){$(document).onFocusedInput("#organization_login",function(){var a;return a=$(this).closest("dd").find(".js-field-hint-name"),function(){return a.text($(this).val())}}),$(document).on("details:toggle",".discussion-bubble-inner",function(a){if($(a.relatedTarget).hasClass("is-jump-link"))return!1})}.call(this),function(){$.pageUpdate(function(){var a;return a=$(".js-orgs-people-filter-list a:first").is(".selected"),$(".js-orgs-people-filter-list [data-container-id]").each(function(){var b;b=$(document.getElementById($(this).attr("data-container-id")));if(a)return b.addClass("is-showing-all");if(!$(this).is(".selected"))return b.addClass("hidden")})}),$(document).on("filterable:change",".js-member-search-name",function(a){var b,c,d,e,f;$(".js-has-counter").trigger("counters:change"),c=0,f=$(".js-orgs-people-filter-list .js-count");for(d=0,e=f.length;d<e;d++)b=f[d],c+=Number($(b).text());return $(".js-orgs-people-filter-list .count:first").text(c)}),$(document).on("ajaxBeforeSend",".js-revoke-invitation",function(a){return $(a.target).before("<img class='js-spinner' src='"+GitHub.Ajax.spinner+"' width='16' />")}),$(document).on("ajaxSuccess",".js-revoke-invitation",function(a,b,c,d){return $(".js-pending-invitations").html(d).pageUpdate()}),$(document).on("click",".js-orgs-people-filter-list a",function(a){var b,c,d,e,f;return e=$(this),d=e.closest(".js-orgs-people-filter-list"),b=d.find("[data-container-id]").map(function(){return document.getElementById($(this).attr("data-container-id"))}),d.find("a.selected").removeClass("selected"),$(b).addClass("hidden"),e.addClass("selected"),(c=document.getElementById(e.attr("data-container-id")))?($(c).removeClass("hidden"),$(c).removeClass("is-showing-all")):($(b).removeClass("hidden"),$(b).addClass("is-showing-all")),typeof (f=window.history).replaceState=="function"&&f.replaceState(null,document.title,e.attr("href")),d.pageChange(),!1})}.call(this),function(){var a;$(document).on("member-adder:added",".js-member",function(a,b){return $(".js-member li").length>1&&$(".js-member li:not(:last)").remove(),$(".js-add-member").val(""),$(a.target).find("input").removeAttr("disabled"),$(".js-new-member-form :submit").removeClass("disabled")}),$(document).on("click",".js-remove-suggestion",function(a){var b,c,d,e,f;e=$($(this).attr("data-suggestions")),b=$($(this).attr("data-adder")),a.preventDefault(),d=$(this).closest("li").attr("data-value"),$(this).closest("li").find("input").attr("disabled",!0),e.append($(this).closest("li").detach()),f=b.find("ul");if(c=f.data("fuzzy-sort-items"))return c.push(e.find("li[data-value='"+d+"']")[0]),f.data("fuzzy-sort-items",c)}),$(document).onFocusedKeydown(".js-add-member, .js-add-team, .js-add-repository",function(){return function(a){if(a.hotkey==="ctrl+enter"||a.hotkey==="meta+enter")return $(".js-new-member-form :submit").attr("disabled")||$(this).closest("form").submit(),!1}}),a=null,$(document).on("change",".js-member-permission",function(b){return $(b.target).val()==="admin"?(a=$(".js-billing-manager").prop("checked"),$(".js-billing-manager").prop("checked",!0),$(".js-billing-manager").prop("disabled",!0)):($(".js-billing-manager").prop("checked",a),$(".js-billing-manager").prop("disabled",!1))}),$.pageUpdate(function(){return $(".js-add-member").focus()})}.call(this),function(){$(document).on("ajaxSuccess",".js-update-member-form",function(a){return $(a.target).find(".js-success").removeClass("hidden")}),$(document).on("ajaxSend",".js-update-member-form",function(a){return $(a.target).find(".js-success").addClass("hidden")}),$(document).on("member-adder:added",".js-org-member-membership-list",function(a,b){return $(a.target).find("input").removeAttr("disabled")})}.call(this),function(){var a,b;a=function(){var a,b,c,d,e,f,g,h;c={},g=document.location.search.slice(1).split("&");for(e=0,f=g.length;e<f;e++){b=g[e];if(!b.length)continue;h=b.split("=").map(unescape),a=h[0],d=h[1],c[a]=d}return c},b=function(b){var c,d,e,f,g;c=[location.protocol,"//",location.host,location.pathname].join(""),e=a(),e.q=b,f=[];for(d in e)g=e[d],f.push(""+d+"="+g);return window.history.replaceState({},"",c+"?"+f.join("&"))},$(document).on("focusin",".js-repo-search",function(){return $(this).on("throttled:input.repoSearch",function(){var a,c;return a=$(this),a.val().trim()?(b(a.val().trim()),a.closest(".js-repo-search").addClass("is-loading"),c=$.ajax({url:a.data("search-url")+"?query="+a.val(),method:"GET"}),c.complete(function(b){return a.closest(".js-repo-search").removeClass("is-loading"),$(".js-repo-list").hide(),$(".js-repo-search-results").html(b.responseText),$(".pagination").hide()})):b("")}),$(this).on("keyup.repoSearch",function(){if(!$(this).val().trim())return $(".js-repo-list").show(),$(".js-repo-search-results").html(""),$(".pagination").show()}),$(this).on("blur.repoSearch",function(){return $(this).off(".repoSearch")})}),$(function(){if($(".js-repo-search").val())return $(".js-repo-search").focus(),$(".js-repo-search").trigger("throttled:input.repoSearch")})}.call(this),function(){$(document).on("ajaxBeforeSend",".js-delete-team",function(){return $(this).addClass("disabled")}),$(document).on("ajaxSuccess",".js-delete-team",function(){return $(this).closest(".js-team").remove()}),$(document).on("click",".js-cancel-note",function(){var a,b;return b=$(this).closest(".js-uploadable-container"),b.removeClass("is-default"),$(".js-note-form",b).removeClass("active"),a=$(".js-note-body",b),a.css({height:"1em"}),!1}),$(document).on("focus",".js-note-body",function(){return $(this).closest(".js-uploadable-container").addClass("is-default"),$(this).closest(".js-note-form").addClass("active")}),$(document).on("ajaxBeforeSend",".js-note-form",function(){return $(".js-note-body").val().trim()&&!$(this).hasClass("is-submitting")?$(this).addClass("is-submitting"):($(".js-note-body").focus(),!1)}),$(document).on("ajaxSuccess",".js-note-form",function(a,b,c,d){return $(this).closest(".js-uploadable-container").removeClass("is-default"),$(this).removeClass("active"),$(this).removeClass("is-submitting"),$(".js-activity-list").prepend(d),$(".js-note-body",this).val(""),$(".js-note-body",this).css({height:"1em"})}),$(document).on("ajaxSuccess",".js-delete-note",function(a,b,c,d){return $(this).closest(".js-note").remove()}),$(document).on("click",".js-toggle-note-comments",function(a,b,c,d){var e;return e=$(this).closest(".js-note"),$(".js-note-comments",e).toggleClass("active"),$(".js-comment-body",e).focus(),!1}),$(document).on("focus",".js-comment-body",function(){return $(this).closest(".js-note-comment-form").addClass("active")}),$(document).on("ajaxBeforeSend",".js-note-comment-form",function(){if(!$(".js-comment-body").val().trim())return $(".js-comment-body").focus(),!1}),$(document).on("ajaxSuccess",".js-note-comment-form",function(a,b,c,d){var e;return e=$(this).closest(".js-note"),$(".js-comment-list",e).append(d),$(".js-comment-body",e).val("")}),$(document).on("ajaxSuccess",".js-delete-note-comment",function(a){return $(this).closest(".js-note-comment").remove(),!1}),$(document).on("click",".js-toggle-note-star",function(a){var b,c;return b=$(this),b.toggleClass("active"),c=b.next(".js-note-starred-users"),b.hasClass("active")?(c.prepend($("<img class='starred-user' src='https://github.com/"+c.data("login")+".png' />")),$.ajax({url:b.data("star-path"),method:"POST"})):(c.find("img[src*="+c.data("login")+"]").remove(),$.ajax({url:b.data("unstar-path"),method:"POST"})),!1})}.call(this),function(){$(document).on("ajaxSuccess",".js-edit-team-description",function(a){return $(".js-team-description").text($(".edit-team-description :text").val()),$(this).closest(".js-details-container").removeClass("open")}),$(document).onFocusedInput(".js-edit-team-name",function(){return function(){var a;return a=/[^0-9A-Za-z_\.]/g,$(this).val($(this).val().replace(a,"-"))}})}.call(this),function(){$(document).on("change",".js-team-enrollment input[type=radio]",function(a){return $(a.target).closest("form").submit()})}.call(this),function(){$(document).on("filterable:change",".js-team-search-name",function(){return $(".js-team-list:visible").hasClass("filterable-empty")?$(".js-details-container").addClass("no-results"):$(".js-details-container").removeClass("no-results")}),$(document).onFocusedInput(".js-new-team-name",function(){return function(){var a,b,c;a=$(this),b=/[^0-9A-Za-z_\.]/g,c=$(".js-warning",a.closest(".js-create-team")),$(".js-actual-team-name").val(a.val().replace(b,"-"));if(!a.val())return;c.html("Will be created as <code>"+a.val().replace(b,"-")+"</code>");if(!b.test(a.val()))return c.fadeOut(200);if(!c.is(":visible"))return c.fadeIn(200)}}),$(document).on("click",".js-toggle-all-teams",function(){return $(".js-all-teams").toggle(),$(".js-your-teams").toggle(),$(".js-team-search-name").toggle(),!1}),$(document).on("click",".js-show-more-members",function(a){return $(this).closest(".js-meta").toggleClass("show-all"),!1})}.call(this),function(){$(function(){var a;return $("#load-readme").click(function(){var b,c,d,e,f,g;return c=$("#gollum-editor-body"),b=$("#editor-body-buffer"),e=$("#undo-load-readme"),g=b.text(),a(c,b),d=$(this),d.prop("disabled",!0),d.text(d.data("readme-name")+" loaded"),e.show(),f=function(){return $(this).val()!==g&&e.hide(),c.off("change keyup",f)},c.on("change keyup",f),!1}),$("#undo-load-readme").click(function(){var b;return a($("#gollum-editor-body"),$("#editor-body-buffer")),b=$("#load-readme"),b.prop("disabled",!1),b.text("Load "+b.data("readme-name")),$(this).hide(),!1}),a=function(a,b){var c,d,e;return c=$(a),d=$(b),e=c.val(),c.val(d.text()),d.text(e)}})}.call(this),function(){var a,b,c;c=function(a){return a.status===500?"Oops, something went wrong.":a.responseText},a=0,$(document).on("ajaxSend",".js-cleanup-pull-request",function(){return $(this).removeClass("error"),$(this).addClass("disabled"),$(this).find(".button").addClass("disabled")}),$(document).on("ajaxComplete",".js-cleanup-pull-request",function(){return $(this).removeClass("disabled"),$(this).find(".button").removeClass("disabled")}),$(document).on("ajaxSuccess",".js-cleanup-pull-request",function(b,c,d,e){return $(this).find(".message").html(c.responseText),a===1?a=0:($(this).find(".merge-branch").removeClass("merging").addClass("deleted"),$(this).find(".button").hide())}),$(document).on("ajaxError",".js-cleanup-pull-request",function(a,b){return $(this).addClass("error"),$(this).closest(".merge-branch").removeClass("mergeable-merged").addClass("mergeable-error"),$(this).find(".js-cleanup-error-message").html(c(b)),!1}),$(document).on("click",".js-delete-form-reload",function(){return window.location.reload()}),b=function(a,b){var d;d=$(document).find(".js-head-ref-pull-request").show().find(".message");if(b)return d.html(c(b))},$(document).on("ajaxSend",".js-restore-head-ref",function(){return $(this).hide(),$(this).next().show(),b(this)}),$(document).on("ajaxSuccess",".js-restore-head-ref",function(c,d,e,f){var g,h,i,j;return b(this,d),j=$(this),j.parent().hide(),i=j.closest(".mergeable"),i.removeClass("deleted"),h=j.closest(".merge-branch"),h.hasClass("mergeable-dirty")||i.addClass("merging"),g=i.find(".button"),g.show().removeClass("disabled"),a=1,!0}),$(document).on("ajaxError",".js-restore-head-ref",function(a,c){return b(this,c),!1})}.call(this),function(){$(document).on("ajaxSend",".js-merge-pull-request",function(){return $(this).removeClass("error"),$(this).addClass("disabled"),$(this).find(".js-button-confirm-merge").text("Merging...").addClass("disabled")}),$(document).on("ajaxSuccess",".js-merge-pull-request",function(){return $(this).removeClass("disabled"),$(this).find(".js-button-confirm-merge").text("Merged!")}),$(document).on("ajaxError",".js-merge-pull-request",function(a,b){return $(this).addClass("error"),$(this).closest(".merge-branch").removeClass("mergeable-clean").addClass("mergeable-error"),$(this).find(".js-merge-error-message").text(b.responseText),!1}),$(document).on("click",".js-merge-form-reload",function(){return window.location.reload()})}.call(this),function(){$(document).on("hash:change",".outdated-diff-comment-container",function(){return $(this).addClass("open")}),$(document).on("ajaxSuccess",".js-inline-comment-form",function(){return $(this).closest("#discussion_bucket").length?$("#files_bucket").remove():$("#discussion_bucket").remove()}),$(document).on("socket:message",".js-pull-request-stale-files",function(){return $("#files_bucket").addClass("is-stale").pageUpdate()})}.call(this),function(){$(document).on("change",".js-pulse-period",function(a){var b;return b=$(a.target).attr("data-url"),$.pjax({url:b,container:"#js-repo-pjax-container"})})}.call(this),function(){$(document).on("navigation:open",".js-create-branch",function(){return $(this).submit(),!1}),$(document).on("navigation:open",".js-create-tag",function(){var a,b,c,d,e,f;return b=$(this),d=$(".js-select-button"),c=$(".js-spinner"),a=$(".js-error"),e=$(".js-new-item-value").val(),f=$(".js-create-tag").attr("data-url"),d.text("Creating tag..."),c.show(),a.hide(),$.ajax({url:f,type:"POST",data:{tag_name:e},success:function(){var a,c;d.text(e),c=b.closest(".select-menu-list").find(".select-menu-item-template");if(c.length)return a=c.clone().removeClass("select-menu-item-template").addClass("selected"),a.insertBefore(c),a.find(".js-select-button-text").text(e)},complete:function(){return c.hide()},error:function(){return a.show(),d.text("No tag selected")}}),!1})}.call(this),function(){var a,b,c,d,e,f,g;$(document).on("click",".js-releases-field a.remove",function(a){var b;return b=$(this).closest("li"),b.addClass("delete"),b.find("input.destroy").val("true"),!1}),$(document).on("click",".js-releases-field a.undo",function(a){var b;return b=$(this).closest("li"),b.removeClass("delete"),b.find("input.destroy").val(""),!1}),$(document).on("click",".js-timeline-tags-expander",function(a){return $(this).closest(".js-timeline-tags").removeClass("is-collapsed")}),d=["is-default","is-saving","is-saved","is-failed"],e=function(a,b){return a.removeClass(d.join(" ")),a.addClass(b),b==="is-saving"?a.attr("disabled","disabled"):a.removeAttr("disabled")},$(document).on("click",".js-save-draft",function(a,b){var d,f,g,h,i,j;return $("#release_draft").val("1"),d=$(this),h=d.closest("form"),g=$("#delete_release_confirm form"),i=h.data("repo-url"),j=h.attr("action"),f=h.serialize(),e(d,"is-saving"),$.ajax({url:j,type:"POST",data:f,dataType:"json",success:function(a){var f,j;j=c("tag",i,a.tag_name),h.attr("action",j),g.attr("action",j),window.history.replaceState(null,document.title,c("edit",i,a.tag_name)),f=$("#release_id"),f.val()||(f.val(a.id),h.append('<input type="hidden" id="release_method" name="_method" value="put" />')),e(d,"is-saved"),setTimeout(function(){return e(d,"is-default")},5e3);if(b)return b()},complete:function(){},error:function(a){return e(d,"is-failed")}}),a.preventDefault()}),$(document).on("click",".js-publish-release",function(a){return $("#release_draft").val("0")}),g=["is-loading","is-empty","is-valid","is-invalid","is-duplicate","is-pending"],f=function(a){var b;switch(a){case"is-valid":$(".release-target-wrapper").addClass("hidden");break;case"is-loading":break;default:$(".release-target-wrapper").removeClass("hidden")}return b=$(".js-release-tag"),b.removeClass(g.join(" ")),b.addClass(a)},a=function(a){if(!a.val())return;if(a.val()===a.attr("data-last-checked"))return;return f("is-loading"),$.ajax({url:a.attr("data-url"),type:"GET",data:{tag_name:a.val()},dataType:"json",success:function(b){if(b.status==="duplicate"&&parseInt(a.attr("data-existing-id"))===parseInt(b.release_id)){f("is-valid");return}return $(".js-release-tag .js-edit-release-link").attr("href",b.url),f("is-"+b.status)},error:function(a){return f("is-invalid")},complete:function(){return a.attr("data-last-checked",a.val())}})},c=function(a,b,c){return""+b+"/releases/"+a+"/"+c},$(document).on("blur",".js-release-tag-field",function(b){return a($(this))}),$(b=function(){return a($(".js-release-tag-field"))})}.call(this),function(){var a,b=this;a=function(){function a(){var b=this;this.validate=function(){return a.prototype.validate.apply(b,arguments)},this.updateUpsell=function(){return a.prototype.updateUpsell.apply(b,arguments)},this.selectedPrivacyToggleElement=function(){return a.prototype.selectedPrivacyToggleElement.apply(b,arguments)},this.handlePrivacyChange=function(c,d){return c==null&&(c=b.selectedPrivacyToggleElement()),d==null&&(d=null),a.prototype.handlePrivacyChange.apply(b,arguments)},this.handleOwnerChange=function(){return a.prototype.handleOwnerChange.apply(b,arguments)},this.elements={ownerContainer:$(".js-owner-container"),iconPreviewPublic:$(".js-icon-preview-public"),iconPreviewPrivate:$(".js-icon-preview-private"),upgradeUpsell:$("#js-upgrade-container").hide(),upgradeConfirmationCheckbox:$(".js-confirm-upgrade"),upsells:$(".js-upgrade"),privacyToggles:$(".js-privacy-toggle"),privateRadio:$(".js-privacy-toggle[value=false]"),publicRadio:$(".js-privacy-toggle[value=true]"),repoNameField:$("input[type=text].js-repo-name"),form:$("#new_repository"),licenseContainer:$(".js-license-container"),ignoreContainer:$(".js-ignore-container"),autoInitCheckbox:$(".js-auto-init-checkbox"),teamBoxes:$(".js-team-select"),suggestion:$(".js-reponame-suggestion")},this.current_login=$("input[name=owner]:checked").prop("value"),this.privateRepo=!1,this.autocheckURL=this.elements.repoNameField.attr("data-autocheck-url"),this.changedPrivacyManually=!1,this.elements.teamBoxes.hide(),this.elements.ignoreContainer.on("change","input[type=radio]",function(){return $(".js-auto-init-checkbox").prop("checked",!0)}),this.elements.licenseContainer.on("change","input[type=radio]",function(){return $(".js-auto-init-checkbox").prop("checked",!0)}),this.elements.ownerContainer.on("change","input[type=radio]",this.handleOwnerChange),this.elements.privacyToggles.on("change",function(a){return b.handlePrivacyChange(a.targetElement,a)}),this.elements.repoNameField.on("change input",function(a){return $(a.target).removeClass("is-autocheck-successful"),b.validate()}),this.elements.upgradeUpsell.on("change input","input",this.validate),this.elements.form.on("repoform:validate",this.validate),this.elements.suggestion.on("click",function(a){var c;return c=b.elements.repoNameField,c.val($(a.target).text()),c.trigger("change")}),this.handleOwnerChange(),this.updateUpsell(),this.validate()}return a.prototype.handleOwnerChange=function(){var a,b,c;return this.current_login=$("input[name=owner]:checked").prop("value"),b=""+this.autocheckURL+"?owner="+encodeURIComponent(this.current_login),this.elements.repoNameField.attr("data-autocheck-url",b),this.elements.repoNameField.trigger("change"),c=this.elements.ownerContainer.find(".select-menu-item.selected"),this.elements.teamBoxes.hide().find("input, select").prop("disabled",!0),a=this.elements.teamBoxes.filter("[data-login="+this.current_login+"]"),a.show().find("input, select").prop("disabled",!1),this.changedPrivacyManually||(c.attr("data-default")==="private"?this.elements.privateRadio.prop("checked","checked").change():this.elements.publicRadio.prop("checked","checked").change()),this.handlePrivacyChange(),c.attr("data-permission")==="yes"?($(".with-permission-fields").show(),$(".without-permission-fields").hide(),$(".errored").show(),$("dl.warn").show()):($(".with-permission-fields").hide(),$(".without-permission-fields").show(),$(".errored").hide(),$("dl.warn").hide()),this.updateUpsell()},a.prototype.handlePrivacyChange=function(a,b){return a==null&&(a=this.selectedPrivacyToggleElement()),b==null&&(b=null),b&&!b.isTrigger&&(this.changedPrivacyManually=!0),a.val()==="false"?(this.privateRepo=!0,this.elements.upgradeUpsell.show(),this.elements.upgradeUpsell.find("input[type=checkbox]").prop("checked","checked"),this.elements.iconPreviewPublic.hide(),this.elements.iconPreviewPrivate.show(),this.elements.upgradeUpsell.find(".js-cc-upgrade").length?this.elements.form.attr("action",this.elements.form.attr("data-tr-url")):this.elements.form.attr("action",this.elements.form.attr("data-url"))):(this.privateRepo=!1,this.elements.upgradeUpsell.hide(),this.elements.upgradeUpsell.find("input[type=checkbox]").prop("checked",null),this.elements.form.attr("action",this.elements.form.attr("data-url")),this.elements.iconPreviewPrivate.hide(),this.elements.iconPreviewPublic.show()),this.validate()},a.prototype.selectedPrivacyToggleElement=function(){return this.elements.privateRadio.is(":checked")?this.elements.privateRadio:this.elements.publicRadio},a.prototype.updateUpsell=function(){var a;return a=this.elements.upsells.filter("[data-login="+this.current_login+"]"),this.elements.upgradeUpsell.html(a),this.elements.upgradeUpsell.find(".js-cc-upgrade").length&&this.elements.privateRadio.is(":checked")?this.elements.form.attr("action",this.elements.form.attr("data-tr-url")):this.elements.form.attr("action",this.elements.form.attr("data-url"))},a.prototype.validate=function(){var a,b,c;return a=this.elements.form,c=!0,this.elements.repoNameField.is(".is-autocheck-successful")||(c=!1),a.find("dl.form.errored").length&&(c=!1),a.find(".is-autocheck-loading").length&&(c=!1),b=this.elements.upgradeUpsell.find("input[type=checkbox]"),this.privateRepo&&b.length&&!b.is(":checked")&&(c=!1),$("button.primary").prop("disabled",!c)},a}(),$(function(){if(!$(".page-new-repo").length)return;return new a}),$(document).on("autocheck:send","#repository_name",function(){return $(this).trigger("repoform:validate")}),$(document).on("autocheck:complete","#repository_name",function(){return $(this).trigger("repoform:validate")}),$(document).on("autocheck:success","#repository_name",function(a,b){var c,d,e;d=$(this).val();if(d&&d!==b.name)return c=$(this).closest("dl.form"),c.addClass("warn"),e=$("<dd>").addClass("warning").text("Will be created as "+b.name),c.append(e)}),$(document).on("menu:activated",".js-ignore-container",function(){var a,b;a=$(this).find(".js-menu-content"),b=a.overflowOffset();if(b.bottom<=-10)return a.css({marginTop:b.bottom-20})})}.call(this),function(){$(document).on("pjax:end",function(){var a,b,c;c=$(document.head).find("meta[name='selected-link']").attr("value");if(c==null)return;return a=$(".js-selected-navigation-item").removeClass("selected"),b=a.filter
(function(){var a;return a=!1,$.each($(this).attr("data-selected-links").split(" "),function(){if(this.toString()===c)return a=!0}),a}),b.addClass("selected")}),$(document).on("click",".js-repo-home-link, .js-repository-container-pjax a",function(a){var b,c;if($(this).hasClass("js-disable-pjax"))return;return c=!1,b=$("#js-repo-pjax-container"),$.pjax.click(a,{container:b,scrollTo:c})}),$.pageChange(function(){var a;return $(".js-octicon-loaders a").removeClass("is-loading"),a=$(".repository-with-sidebar"),$(this).find('.js-info-carrier[data-show-full-navigation="yes"]').length?(a.addClass("with-full-navigation"),a.find(".repo-menu .tooltipped").each(function(){return $(this).tipsy("disable")})):(a.removeClass("with-full-navigation"),a.find(".repo-menu .tooltipped").each(function(){return $(this).tipsy("enable")}))}),$(document).on("click",".js-directory-link",function(a){if(a.which===2||a.metaKey||a.ctrlKey)return;return $(this).closest("tr").addClass("is-loading"),$(document.body).addClass("disables-context-loader")}),$(document).on("pjax:click",".js-octicon-loaders a",function(){return $(this).addClass("is-loading")}),$(function(){var a;a=$(".mini-nav, .repo-container .menu");if(a.length)return $.each(a,function(a,b){return new FastClick(b)})})}.call(this),function(){$(document).onFocusedInput(".js-repository-name",function(){var a,b;return a=/[^0-9A-Za-z_\.]/g,b=$(".js-form-note"),function(){b.html("Will be created as <code>"+this.value.replace(a,"-")+"</code>"),a.test(this.value)?b.is(":hidden")&&b.fadeIn():this.value||b.fadeOut()}})}.call(this),function(){$(function(){$(".js-user-filter").length&&$(".js-user-filter").click(function(a){a.preventDefault();if($(this).hasClass("selected"))return;$(".js-user-filter").removeClass("selected"),$("img.avatar").removeClass("almost-hidden"),$(this).addClass("selected");if($(this).attr("rel")==="owners")return $("img.avatar.member").addClass("almost-hidden");if($(this).attr("rel")==="members")return $("img.avatar.owner").addClass("almost-hidden")}),$(".js-app-tab").length&&$(".js-app-tab").click(function(a){a.preventDefault();if($(this).hasClass("selected"))return;return $(".js-app-tab").removeClass("selected"),$(this).addClass("selected"),$(this).attr("rel")==="all"?($("#all-apps").show(),$("#private-repo-access-apps").hide(),$("#limited-access-apps").hide()):$(this).attr("rel")==="private-access"?($("#private-repo-access-apps").show(),$("#all-apps").hide(),$("#limited-access-apps").hide()):($("#limited-access-apps").show(),$("#private-repo-access-apps").hide(),$("#all-apps").hide())});if($(".js-org-security-tab").length)return $(".js-org-security-tab").click(function(a){a.preventDefault();if($(this).hasClass("selected"))return;return $(".js-org-security-tab").removeClass("selected"),$(this).addClass("selected"),$(this).attr("rel")==="apps"?($("#oauth-application-security").show(),$("#oauth-ssh-key-security").hide()):($("#oauth-ssh-key-security").show(),$("#oauth-application-security").hide())})})}.call(this),function(){$(document).on("ajaxSend",".js-action-ldap-create",function(){return $(this).find(".minibutton").addClass("disabled")}),$(document).on("ajaxComplete",".js-action-ldap-create",function(a,b){var c,d;return c=$(this),d=b.status===500?"Oops, something went wrong.":b.responseText,c.find(".js-message").show().html(" &ndash; "+d),!1})}.call(this),function(){$(document).on("ajaxSend",".js-action-pull",function(){return $(this).find(".minibutton").not(".disabled").addClass("reenable disabled")}),$(document).on("ajaxComplete",".js-action-pull",function(a,b){var c,d,e;return c=$(this),e=$(a.target),b.status===200&&(e.hasClass("close")||e.hasClass("open")?$.pjax.reload($("#js-pjax-container")):c.find(".reenable").removeClass("reenable disabled")),d=b.status===500?"Oops, something went wrong.":b.responseText,c.find(".js-message").show().html(d),!1})}.call(this),function(){$.support.pjax&&$(document).on("submit",".js-stars-search",function(a){var b;if(b=$(this).closest("[data-pjax-container]")[0])return $.pjax.submit(a,{container:b})})}.call(this),function(){$(function(){var a;if($(".js-styleguide-ace")[0])return a=new GitHub.CodeEditor(".js-styleguide-ace"),$(".js-styleguide-themes").change(function(){return a.setTheme($(this).find(":selected").val())})}),$(document).on("click",".js-styleguide-octicon-facebox",function(a){var b,c,d;return a.preventDefault(),d=$(this).data("octicon-glyph"),c=$(this).data("octicon-name"),b=$(".js-octicon-facebox-template").html(),b=b.replace(/classnamegoeshere/g,c),b=b.replace(/glyphgoeshere/g,d),jQuery.facebox(b),$(document).pageUpdate()}),$(function(){if($(".js-octicons-search-field")[0])return $(".js-octicons-search-field").focus()})}.call(this),function(){$(document).on("ajaxBeforeSend",".js-auto-subscribe-toggle",function(){return $(this).find("label").append('<img src="'+GitHub.Ajax.spinner+'" width="16" />')}),$(document).on("ajaxError",".js-auto-subscribe-toggle",function(){return $(this).find("label img").remove(),$(this).find("label").append('<img src="/images/modules/ajax/error.png">')}),$(document).on("ajaxSuccess",".js-auto-subscribe-toggle",function(){return $(this).find("label img").remove()}),$(document).on("ajaxBeforeSend",".js-unignore-form, .js-ignore-form",function(){return $(this).closest(".subscription-row").addClass("loading")}),$(document).on("ajaxError",".js-unignore-form, .js-ignore-form",function(){return $(this).closest(".subscription-row").removeClass("loading"),$(this).find(".minibutton").addClass("danger").attr("title","There was a problem unignoring this repo.")}),$(document).on("ajaxSuccess",".js-unignore-form",function(){return $(this).closest(".subscription-row").removeClass("loading").addClass("unsubscribed")}),$(document).on("ajaxSuccess",".js-ignore-form",function(){return $(this).closest(".subscription-row").removeClass("loading unsubscribed")}),$(document).on("ajaxBeforeSend",".js-unsubscribe-form, .js-subscribe-form",function(){return $(this).closest(".subscription-row").addClass("loading")}),$(document).on("ajaxError",".js-unsubscribe-form, .js-subscribe-form",function(){return $(this).closest(".subscription-row").removeClass("loading"),$(this).find(".minibutton").addClass("danger").attr("title","There was a problem with unsubscribing :(")}),$(document).on("ajaxSuccess",".js-unsubscribe-form",function(){return $(this).closest(".subscription-row").removeClass("loading").addClass("unsubscribed")}),$(document).on("ajaxSuccess",".js-subscribe-form",function(){return $(this).closest(".subscription-row").removeClass("loading unsubscribed")}),$(document).on("ajaxSuccess",".js-thread-subscription-status",function(a,b,c,d){return $(this).replaceWith(d)})}.call(this),GitHub.Team=function(a){this.url=window.location.pathname,this.orgUrl=this.url.split(/\/(teams|invite)\//)[0],a&&(this.url=this.orgUrl+"/teams/"+a)},GitHub.Team.prototype={name:function(){return $("#team-name").val()},newRecord:function(){return!/\/invite/.test(location.pathname)&&!/\d/.test(location.pathname)},repos:function(){return $.makeArray($(".repositories li:visible a span").map(function(){return $(this).text()}))},addRepo:function(a,b){debug("Adding repo %s",a);if(!a||$.inArray(a,this.repos())>-1)return!1;that=this,GitHub.withSudo(function(){that.addRepoAjax(a);var c=$(".repositories").find("li:first").clone(),d=c.find("input[type=hidden]");return c.find("a:first").attr("href","/"+a).find("span").text(a),c.find(".remove-repository").attr("data-repo",a),b==="private"?(c.addClass("private"),c.find("span.octicon").removeClass("octicon-repo").addClass("octicon-lock")):(c.addClass("public"),c.find("span.octicon").addClass("octicon-repo")),d.length>0&&d.val(a).attr("disabled",!1),$(".repositories").append(c.show()),!0})},addRepoAjax:function(a){if(this.newRecord())return;debug("Ajaxily adding %s",a),$.post(this.url+"/repo/"+a)},removeRepo:function(a){debug("Removing %s",a);if(!a||$.inArray(a,this.repos())==-1)return!1;var b=$(".repositories li:visible a").filter(function(){return $(this).find("span").text()==a}),c=function(){b.parents("li:first").remove()},d=function(){b.parent().find(".remove-repository").show().removeClass("remove").html('<img class="dingus" src="/images/modules/ajax/error.png">').end().find(".spinner").hide()};return this.newRecord()?c():(b.parent().find(".remove-repository").after('<img class="dingus spinner" src="/images/spinners/octocat-spinner-64.gif" width="32" />').hide(),this.removeRepoAjax(a,c,d)),!0},removeRepoAjax:function(a,b,c){if(this.newRecord())return;debug("Ajaxily removing %s",a),$.ajax({type:"DELETE",url:this.url+"/repo/"+a,success:b,error:c})},users:function(){return $.makeArray($(".usernames li:visible").map(function(){return $(this).find("a:first").text()}))},addUser:function(a){debug("Adding %s",a);if(!a||$.inArray(a,this.users())>-1)return!1;that=this,GitHub.withSudo(function(){that.addUserAjax(a);var b=$(".usernames").find("li:first").clone(),c=b.find("input[type=hidden]");return b.find("img").attr("src","/"+a+".png"),b.find("a:first").attr("href","/"+a).text(a),c.length>0&&c.val(a).attr("disabled",!1),$(".usernames").append(b.show()),!0})},removeUser:function(a){debug("Removing %s",a);if(!a||$.inArray(a,this.users())==-1)return!1;var b=$(".usernames li:visible a:contains("+a+")"),c=function(){b.parents("li:first").remove()};return this.newRecord()?c():(b.parent().find(".remove-user").spin().remove(),$("#spinner").addClass("remove"),this.removeUserAjax(a,c)),!0},addUserAjax:function(a){if(this.newRecord())return;debug("Ajaxily adding %s",a),$.post(this.url+"/member/"+a)},removeUserAjax:function(a,b){if(this.newRecord())return;debug("Ajaxily removing %s",a),$.ajax({type:"DELETE",url:this.url+"/member/"+a,success:b})}},$(function(){if(!$(".js-team")[0])return;var a=new GitHub.Team($(".js-team").data("team")),b=$(".add-username-form input"),c=$(".add-repository-form input"),d=$(".add-username-form button"),e=$(".add-repository-form button"),f=null;b.on("autocomplete:search",function(a){f&&f.abort();var b=$(this).val();if(b===""){$("#add-user-autocomplete ul").empty(),$("#add-user-autocomplete").trigger("autocomplete:change");return}f=$.ajax({type:"GET",data:{q:b},url:"/autocomplete/users",dataType:"html",success:function(a){f=null,$("#add-user-autocomplete ul").html(a),$("#add-user-autocomplete").trigger("autocomplete:change")}})}),b.on("autocomplete:autocompleted:changed",function(a){b.attr("data-autocompleted")?d.removeAttr("disabled"):d.attr("disabled","disabled")}),c.on("autocomplete:search",function(){f&&f.abort();var b=$(this).val();if(b===""){$("#add-repo-autocomplete ul").empty(),$("#add-repo-autocomplete").trigger("autocomplete:change");return}f=$.ajax({type:"GET",data:{q:b,limit:10},url:a.orgUrl+"/autocomplete/repos",dataType:"html",success:function(a){f=null,$("#add-repo-autocomplete ul").html(a),$("#add-repo-autocomplete").trigger("autocomplete:change")}})}),c.on("autocomplete:autocompleted:changed",function(a){c.attr("data-autocompleted")?e.removeAttr("disabled"):e.attr("disabled","disabled")}),$(document).on("click",".remove-repository",function(){return a.removeRepo($(this).attr("data-repo")),!1}),$(document).on("click",".remove-user",function(){return a.removeUser($(this).prev().text()),!1}),$(".add-username-form button").click(function(){var b=$(this).parent(),c=b.find(":text"),d=c.val();return debug("Trying to add %s...",d),!d||!c.attr("data-autocompleted")?!1:(c.val(""),a.addUser(d),!1)}),$(".js-team").on("submit",function(a){var b=$(document.activeElement);if(b.is(".add-username-form input"))return b.closest(".add-username-form").find("button").click(),!1});var g,h=function(){g=$(this).attr("data-visibility")};$("#add-repo-autocomplete").on("navigation:open","[data-autocomplete-value]",h),$(".add-repository-form button").click(function(){var b=$(this).parent(),c=b.find(":text"),d=c.val();return debug("Trying to add %s...",d),!d||!c.attr("data-autocompleted")?!1:(c.val(""),a.addRepo(d,g),!1)}),$(".js-team").on("submit",function(a){var b=$(document.activeElement);if(b.is(".add-repository-form input"))return b.closest(".add-repository-form").find("button").click(),!1})}),function(){$(document).on("click",".remove-team",function(){var a;return confirm("Are you POSITIVE you want to remove this team?")?(a=$(this).parents("li.team"),$.ajax({type:"DELETE",url:this.href,success:function(){return a.remove()}}),$(this).spin().remove(),!1):!1})}.call(this),function(){var a,b;$.pageUpdate(function(){var b,c,d,e;e=$(this).find(".js-tree-finder-field");for(c=0,d=e.length;c<d;c++)b=e[c],a(b)}),b=null,a=function(c,d){var e,f,g,h,i,j,k,l,m,n,o,p;if(!(l=document.getElementById($(c).attr("data-results"))))return;if(!(g=$(l).data("tree-finder-list"))){b==null&&(b=$.ajax({url:$(l).attr("data-url"),cache:!0,success:function(b){return $(l).data("tree-finder-list",b.paths),a(c)},complete:function(){return b=null}}));return}m=$(l).find(".js-tree-browser-result-template").html(),j=$(l).find(".js-tree-finder-results"),d==null&&(d=$(c).val()),d?(h=$.fuzzyRegexp(d),k=$.fuzzySort(g,d)):k=g,k=k.slice(0,50),e=function(){var a,b,c;c=[];for(a=0,b=k.length;a<b;a++)f=k[a],c.push(m.replace(/\$path/g,encodeURI(f)));return c}(),j.html(e),p=j.find(".tree-browser-result a");for(n=0,o=p.length;n<o;n++)i=p[n],$.fuzzyHighlight(i,d,h);j.navigation("focus")},$(document).on("focusin",".js-tree-finder-field",function(){return a(this),$(this).on("throttled:input.treeFinder",function(){return a(this)}),$(this).on("keydown.treeFinder",function(a){if(a.hotkey==="esc")return history.back(),a.preventDefault()}),$(this).on("blur.treeFinder",function(){return $(this).off(".treeFinder")})})}.call(this),function(){var a,b;$(document).on("click",".js-resend-auth-code",function(){return a("/sessions/two_factor/resend")}),$(document).on("click",".js-send-fallback-auth-code",function(){return a("/sessions/two_factor/send_fallback")}),$(document).on("click",".js-send-two-factor-code",function(){var b,c,d;return b=$(this).closest("form"),c=b.find(".js-country-code-select").val(),d=encodeURIComponent(c+b.find(".js-sms-number").val()),a("/settings/two_factor_authentication/send_sms?number="+d)}),a=function(a){return $("body").addClass("is-sending"),$("body").removeClass("is-sent is-not-sent"),$.ajax({url:a,type:"POST",success:function(){return $("body").addClass("is-sent"),$("body").removeClass("is-sending")},error:function(){return $("body").addClass("is-not-sent"),$("body").removeClass("is-sending")}}),!1},$(document).on("click",".js-set-two-factor-fallback",function(){var a,c,d;return a=$(this).closest(".form"),c=a.find(".js-fallback-country-code-select").val(),d=a.find(".js-sms-fallback").val(),b(c,d)}),b=function(a,b){return $("body").addClass("is-setting"),$("body").removeClass("is-set is-not-set"),b!==""&&(b=a+" "+b),$.ajax({url:"/settings/two_factor_authentication/backup_number",type:"POST",data:{number:b},success:function(){return $("body").addClass("is-set"),$("body").removeClass("is-setting"),b===""?$(".set-message").html("Removed!"):$(".set-message").html("Set!")},error:function(){return $("body").addClass("is-not-set"),$("body").removeClass("is-setting")}}),!1}}.call(this),function(){$(document).on("click",".js-toggle-recovery",function(a){return $(".recovery-codes").toggleClass("is-hidden"),$('form[action="/sessions/two_factor"]').toggleClass("is-hidden")})}.call(this),function(){$(document).on("ajaxSend",".js-restore-user",function(){return $(this).find(".minibutton").addClass("disabled")}),$(document).on("ajaxComplete",".js-restore-user",function(a,b){var c,d;return c=$(this),c.addClass("error"),d=b.status===500?"Oops, something went wrong.":b.responseText,c.find(".js-message").show().html(d),!1})}.call(this),function(){$(document).on("ajaxSuccess",".js-user-sessions-revoke",function(){return $(this).closest("li").remove()})}.call(this),function(){var a,b,c,d,e,f,g,h,i;g=["is-render-pending","is-render-ready","is-render-loading","is-render-loaded"].reduce(function(a,b){return""+a+" "+b}),f=function(a){var b;b=a.data("timing");if(b==null)return;b.load=b.hello=b.loading=b.loaded=b.ready=null,b.helloTimer&&(clearTimeout(b.helloTimer),b.helloTimer=null);if(b.loadTimer)return clearTimeout(b.loadTimer),b.loadTimer=null},c=function(a){var b,c,d;if(a.data("timing"))return;return b=6,c=30,d={load:null,hello:null,loading:null,loaded:null,ready:null,helloTimer:null,loadTimer:null},d.load=Date.now(),d.helloTimer=setTimeout(i(a,function(){return!d.hello}),b*1e3),d.loadTimer=setTimeout(i(a),c*1e3),a.data("timing",d)},h=function(a){var b,c,d,e;if(!a.length)return;if(!(d=a.data("timing")))return;if(!(b=a.find("iframe")).length)return;if(!(e=b.get(0).contentWindow))return;if(e.postMessage==null)return;return c={type:"render:timing",body:{timing:d,format:a.data("type")}},e.postMessage(JSON.stringify(c),"*")},a=function(a){var b,c,d,e;if(!(e=a.data("timing")))return;return h(a),b=e.hello-e.load,c=e.loading-e.hello,d=e.loaded-e.loading,debug("Render init delay: "+b+"ms Render ready: "+c+"ms Load Time: "+d+"ms")},e=function(a){return a.addClass("is-render-requested")},d=function(a,b){return a.removeClass(g),a.addClass("is-render-failed"),b!=null&&a.addClass("is-render-failed-"+b),f(a)},i=function(a,b){return b==null&&(b=function(){return!0}),function(){var c;if(!a.is(":visible"))return;if(a.hasClass("is-render-ready"))return;if(a.hasClass("is-render-failed"))return;if(a.hasClass("is-render-failed-fatally"))return;if(!b())return;return(c=a.data("timing"))?(debug("Render timeout: "+JSON.stringify(c)+" Now: "+Date.now()),d(a)):debug("No timing data on $:",a)}},$.pageUpdate(function(){return $(".js-render-target").each(function(){var a,b;a=$(this);if((b=a.data("timing"))!=null?b.load:void 0)return;return f(a),c(a),a.find(".render-viewer-trigger").length?a.find(".render-viewer-trigger").on("click",function(b){return b.preventDefault(),e(a)}):(a.addClass("is-render-automatic"),e(a))})}),b=function(a){var b;return b=".js-render-target",a?$(""+b+"[data-identity='"+a+"']"):$(b)},$(window).on("message",function(c){var e,h,i,j,k,l,m,n,o,p,q,r;p=c.originalEvent,i=p.data,l=p.origin;if(!i||!l)return;q=function(){try{return JSON.parse(i)}catch(a){return i}}(),n=q.type,j=q.identity,h=q.body;if(!n||!h)return;if((e=b(j)).length!==1)return;if(!(m=e.data("timing")))return;if(l!==e.data("host"))return;if(n==="render")switch(h){case"hello":return m.hello=Date.now(),m.loading=m.loaded=null,k={type:"render:cmd",body:{cmd:"branding",branding:!1}},(r=e.find("iframe").get(0))!=null?typeof (o=r.contentWindow).postMessage=="function"?o.postMessage(JSON.stringify(k),"*"):void 0:void 0;case"error":return d(e);case"error:fatal":return d(e,"fatal");case"loading":return e.removeClass(g),e.addClass("is-render-loading"),m.loading=Date.now();case"loaded":return e.removeClass(g),e.addClass("is-render-loaded"),m.loaded=Date.now();case"ready":return e.removeClass(g),e.addClass("is-render-ready"),m.ready=Date.now(),a(e),f(e);default:return debug("Unknown message ["+n+"]=>'"+h+"'")}})}.call(this),function(){$(document).on("click",".js-toggle-lang-stats",function(a){var b,c;return $(".js-stats-switcher-viewport").toggleClass("is-revealing-lang-stats"),c=$(this).attr("original-title"),b="",c.match("Show")?b=c.replace("Show","Hide"):b=c.replace("Hide","Show"),$(".js-toggle-lang-stats").attr("title",b),$(this).trigger("mouseover"),a.preventDefault()})}.call(this),function(){$(document).on("click",".js-notification-global-toggle",function(a){var b,c,d;return d=$(this).attr("data-url"),b=this.checked,c={},c[this.name]=b?"1":"0",$.ajax({url:$(this).attr("data-url"),type:"PUT",data:c,success:function(){return b?$(this).parent("p").removeClass("ignored"):$(this).parent("p").addClass("ignored")}})}),$(document).on("change",".js-notifications-settings input[type=checkbox]",function(a){var b;return b=$(this),b.parents("li").append('<img class="spinner" src="'+GitHub.Ajax.spinner+'" width="16" />'),$.ajax({url:b.parents(".js-notifications-settings").attr("data-toggle-url"),type:"POST",data:b.parents(".js-notifications-settings").serialize(),complete:function(){return b.parents("li").find("img").remove()}})}),$(document).on("ajaxSend",".js-remove-item",function(a){return $(this).spin().hide()}),$(document).on("ajaxComplete",".js-remove-item",function(a){return $(this).parents("li").stopSpin()}),$(document).on("ajaxSuccess",".js-remove-item",function(a){return $(this).parents("li").remove()}),$(document).on("ajaxSuccess",".js-toggle-visibility",function(a,b,c,d){return $("#settings-emails").children(".settings-email.primary").toggleClass("private",d.visibility==="private")}),$(document).on("ajaxSend",".js-remove-key",function(a){return $(this).addClass("disabled").find("span").text("Deleting…")}),$(document).on("ajaxError",".js-remove-key",function(a){return $(this).removeClass("disabled").find("span").text("Error. Try again.")}),$(document).on("ajaxSuccess",".js-remove-key",function(a){$(this).parents("li").remove();if($(".js-ssh-keys-box li").length===0)return $(".js-no-ssh-keys").show()}),$(document).on("click",".js-leave-collaborated-repo",function(a){var b,c,d,e;return b=$(a.currentTarget),d=b.closest("[data-repo]").attr("data-repo"),e=$('ul.repositories li[data-repo="'+d+'"]'),c=b.parents("div.full-button"),c.html('<img src="'+GitHub.Ajax.spinner+'" width="16" />'),$.ajax({url:"/account/leave_repo/"+d,type:"POST",success:function(){return $.facebox.close(),e.fadeOut()},error:function(){return c.html('<img src="/images/modules/ajax/error.png">')}}),!1}),$(document).on("ajaxError",".js-name-change-in-progress",function(){return $(".js-name-change-in-progress").hide(),$(".js-name-change-error").show()}),$(document).on("ajaxSuccess",".js-unsubscribe-from-newsletter form",function(a,b){return $(".js-unsubscribe-from-newsletter .message").toggle()}),$(document).on("click",".js-show-new-ssh-key-form",function(){return $(".js-new-ssh-key-box").toggle().find(":text").focus(),!1}),$(document).on("ajaxSuccess",".js-update-note-form",function(a,b){return $(this).closest("li").replaceWith(b.responseText)}),$(document).on("keydown",".js-api-token-input",function(a){if(a.hotkey==="esc")return $(this).siblings(".js-cancel-note").click()}),$(document).on("click",".js-edit-token-note",function(a){return $(this).closest("li").find('input[type="text"]').focus()}),$(document).on("ajaxSuccess",".js-remove-user-api-token",function(a){var b;b=$(this).closest(".boxed-group");if(b.find("li").length===1)return b.removeClass("has-access-tokens")}),$(document).on("click",".js-delete-oauth-application-image",function(){var a,b,c;return a=$(this).closest(".js-uploadable-container"),a.removeClass("has-uploaded-logo"),b=a.find("img.js-image-field"),c=a.find("input.js-oauth-application-logo-id"),b.attr("src",""),c.val(""),!1}),$.pageUpdate(function(){return $(this).find("dl.autosave").each(function(){return $(this).autosaveField()})}),$(document).on("click",".section-head",function(){return $(".section-nav").slideUp(200).addClass("collapsed"),$(this).next(".section-nav").slideDown(200).removeClass("collapsed")}),$(document).on("click",".js-user-rename-warning-continue",function(){return $(".js-user-rename-warning, .js-user-rename-form").toggle(),!1})}.call(this),$(function(){$(".plan").dblclick(function(){var a=$(this).find("a.button");a.length>0&&(document.location=a.attr("href"))}),$("#signup_form").submit(function(){$("#signup_button").attr("disabled",!0).find("span").text("Creating your GitHub account...")})}),jQuery.cookie=function(a,b,c){if(typeof b=="undefined"){var i=null;if(document.cookie&&document.cookie!=""){var j=document.cookie.split(";");for(var k=0;k<j.length;k++){var l=jQuery.trim(j[k]);if(l.substring(0,a.length+1)==a+"="){i=decodeURIComponent(l.substring(a.length+1));break}}}return i}c=c||{},b===null&&(b="",c.expires=-1);var d="";if(c.expires&&(typeof c.expires=="number"||c.expires.toUTCString)){var e;typeof c.expires=="number"?(e=new Date,e.setTime(e.getTime()+c.expires*24*60*60*1e3)):e=c.expires,d="; expires="+e.toUTCString()}var f=c.path?"; path="+c.path:"",g=c.domain?"; domain="+c.domain:"",h=c.secure?"; secure":"";document.cookie=[a,"=",encodeURIComponent(b),d,f,g,h].join("")},function(){$(function(){var a,b;if(b=$(".js-current-repository").attr("href"))return a={path:"/",expires:1},$.cookie("spy_repo",b.substr(1),a),$.cookie("spy_repo_at",(new Date).toJSON(),a)})}.call(this),function(){$(document).on("click",".js-approve-ssh-key",function(a){var b;return b=$(this),b.addClass("disabled").find("span").text("Approving…"),$.ajax({url:b.attr("href"),type:"POST",success:function(){return b.parents("li").addClass("approved")},error:function(){return b.removeClass("disabled").find("span").text("Error. Try Again")}}),!1}),$(document).on("click",".js-reject-ssh-key",function(a){var b;return b=$(this),b.addClass("disabled").find("span").text("Rejecting…"),$.ajax({url:b.attr("href"),type:"DELETE",success:function(){return b.parents("li").addClass("rejected")},error:function(){return b.removeClass("disabled").find("span").text("Error. Try Again")}}),!1})}.call(this),function(){$.support.pjax&&!location.search&&!location.hash&&$(function(){var a,b,c;a=(c=document.getElementById("issues-dashboard"))!=null?c:document.getElementById("issues_list");if(b=$(a).attr("data-url"))return window.history.replaceState(null,document.title,b)})}.call(this),$(function(){function e(a,b){arguments.length<2&&(b=location.href);if(arguments.length>0&&a!=""){if(a=="#")var c=new RegExp("[#]([^$]*)");else if(a=="?")var c=new RegExp("[?]([^#$]*)");else var c=new RegExp("[?&]"+a+"=([^&#]*)");var d=c.exec(b);return d==null?"":d[1]}b=b.split("?");var d={};return b.length>1&&(b=b[1].split("#"),b.length>1&&(d.hash=b[1]),$.each(b[0].split("&"),function(a,b){b=b.split("="),d[b[0]]=b[1]})),d}var b=$.cookie("tracker"),c=null;b==null&&(c=document.referrer?document.referrer:"direct");var d=e();d.utm_campaign&&$.trim(d.utm_campaign)!=""&&(c=d.utm_campaign),d.referral_code&&$.trim(d.referral_code)!=""&&(c=d.referral_code),c!=null&&$.cookie("tracker",c,{expires:7,path:"/"})}),$.pageUpdate(function(){function a(a,b){var c=Math.min(a.canvas.width,b.canvas.width),d=Math.min(a.canvas.height,b.canvas.height),e=a.getImageData(0,0,c,d),f=b.getImageData(0,0,c,d),g=e.data,h=f.data,i,j,k,l=h.length,m,n,o,p,q,r,s,t;for(k=0;k<l;k+=4)i=g[k+3]/255,j=h[k+3]/255,s=i+j-i*j,h[k+3]=s*255,m=g[k]/255*i,p=h[k]/255*j,n=g[k+1]/255*i,q=h[k+1]/255*j,o=g[k+2]/255*i,r=h[k+2]/255*j,t=255/s,h[k]=(m+p-2*Math.min(m*j,p*i))*t,h[k+1]=(n+q-2*Math.min(n*j,q*i))*t,h[k+2]=(o+r-2*Math.min(o*j,r*i))*t;b.putImageData(f,0,0)}if($("#files .image").length){var b=$("#files .file:has(.onion-skin)"),c=[];$.each(b,function(d,e){function E(){A++,H();if(A>=z){var a=f.find(".progress");a.is(":visible")?a.fadeOut(250,function(){G()}):(a.hide(),G())}}function F(a){var b=w.find(".active"),c=w.find(".active").first().index(),d=x.eq(c),e=w.children().eq(a);if(e.hasClass("active")==0&&e.hasClass("disabled")==0){b.removeClass("active"),e.addClass("active");if(e.is(":visible")){var g=e.position(),h=e.outerWidth(),i=String(g.left+h/2)+"px 0px";w.css("background-image","url(/images/modules/commit/menu_arrow.gif)"),w.css("background-position",i)}A>=2&&(animHeight=parseInt(x.eq(a).css("height"))+127,f.css("height",animHeight),d.animate({opacity:"hide"},250,"swing",function(){x.eq(a).fadeIn(250)}))}}function G(){var b=858,e=Math.max(B.width,C.width),k=Math.max(B.height,C.height),l=0,x=1;B.marginHoriz=Math.floor((e-B.width)/2),B.marginVert=Math.floor((k-B.height)/2),C.marginHoriz=Math.floor((e-C.width)/2),C.marginVert=Math.floor((k-C.height)/2),$.each($.getUrlVars(),function(a,b){b==f.attr("id")&&(diffNum=parseInt(b.replace(/\D*/g,"")),y=$.getUrlVar(b)[0],l=$.getUrlVar(b)[1]/100,c[diffNum].view=$.getUrlVar(b)[0],c[diffNum].pct=$.getUrlVar(b)[1],c[diffNum].changed=!0)});var z=1;e>(b-30)/2&&(z=(b-30)/2/e),m.attr({width:B.width*z,height:B.height*z}),n.attr({width:C.width*z,height:C.height*z}),g.find(".deleted-frame").css({margin:B.marginVert*z+"px "+B.marginHoriz*z+"px",width:B.width*z+2,height:B.height*z+2}),g.find(".added-frame").css({margin:C.marginVert*z+"px "+C.marginHoriz*z+"px",width:C.width*z+2,height:C.height*z+2}),g.find(".aWMeta").eq(0).text(C.width+"px"),g.find(".aHMeta").eq(0).text(C.height+"px"),g.find(".dWMeta").eq(0).text(B.width+"px"),g.find(".dHMeta").eq(0).text(B.height+"px"),C.width!=B.width&&(g.find(".aWMeta").eq(0).addClass("a-green"),g.find(".dWMeta").eq(0).addClass("d-red")),C.height!=B.height&&(g.find(".aHMeta").eq(0).addClass("a-green"),g.find(".dHMeta").eq(0).addClass("d-red"));var A=1,D;e>b-12&&(A=(b-12)/e),D=0,D=e*A+3,o.attr({width:B.width*A,height:B.height*A}),p.attr({width:C.width*A,height:C.height*A}),h.find(".deleted-frame").css({margin:B.marginVert*A+"px "+B.marginHoriz*A+"px",width:B.width*A+2,height:B.height*A+2}),h.find(".added-frame").css({margin:C.marginVert*A+"px "+C.marginHoriz*A+"px",width:C.width*A+2,height:C.height*A+2}),h.find(".swipe-shell").css({width:e*A+3+"px",height:k*A+4+"px"}),h.find(".swipe-frame").css({width:e*A+18+"px",height:k*A+30+"px"}),h.find(".swipe-bar").css("left",l*D+"px"),f.find(".swipe .swipe-shell").css("width",D-D*l),h.find(".swipe-bar").on("mousedown",function(a){var b=$(this),e=$(this).parent(),g=0,h=e.width()-b.width();a.preventDefault(),$("body").css({cursor:"pointer"}),$(document).on("mousemove.swipe",function(a){a.preventDefault();var g=a.clientX-e.offset().left;g<0&&(g=0),g>h&&(g=h),b.css({left:g});var i=Math.round(g/(parseInt(f.find(".swipe-frame").css("width"))-15)*1e4)/1e4;f.find(".swipe .swipe-shell").css("width",D-D*i),c[d].pct=i*100,c[d].changed=!0}),$(document).on("mouseup.swipe",function(){$(document).off(".swipe"),$("body").css({cursor:"auto"}),I()})});var E=1;e>b-12&&(E=(b-12)/e),q.attr({width:B.width*E,height:B.height*E}),r.attr({width:C.width*E,height:C.height*E}),i.find(".deleted-frame").css({margin:B.marginVert*E+"px "+B.marginHoriz*E+"px",width:B.width*E+2,height:B.height*E+2}),i.find(".added-frame").css({margin:C.marginVert*E+"px "+C.marginHoriz*E+"px",width:C.width*E+2,height:C.height*E+2}),i.find(".onion-skin-frame").css({width:e*E+4+"px",height:k*E+30+"px"}),f.find(".dragger").css("left",x*262+"px"),f.find(".onion-skin .added-frame").css("opacity",x),f.find(".onion-skin .added-frame img").css("opacity",x),f.find(".dragger").on("mousedown",function(a){var b=$(this),e=$(this).parent(),g=0,h=e.width()-b.width();a.preventDefault(),$("body").css({cursor:"pointer"}),$(document).on("mousemove.dragger",function(a){a.preventDefault();var g=a.clientX-e.offset().left;g<0&&(g=0),g>h&&(g=h),b.css({left:g});var i=Math.round(g/262*100)/100;f.find(".onion-skin .added-frame").css("opacity",i),f.find(".onion-skin .added-frame img").css("opacity",i),c[d].pct=i*100,c[d].changed=!0}),$(document).on("mouseup.dragger",function(){$(document).off(".dragger"),$("body").css({cursor:"auto"}),I()})});var G=1;e>b-4&&(G=(b-4)/e),Modernizr.canvas&&(s.attr({width:e*G,height:k*G}),t.attr({width:e*G,height:k*G}),j.find(".added-frame").css({width:e*G+2,height:k*G+2}),j.find(".deleted-frame").css({width:e*G+2,height:k*G+2}),u.drawImage(B,B.marginHoriz*G,B.marginVert*G,B.width*G,B.height*G),v.drawImage(C,C.marginHoriz*G,C.marginVert*G,C.width*G,C.height*G),a(v,u)),g.css("height",k*z+30),h.css("height",k*A+30),i.css("height",k*A+30),j.css("height",k*A+30),w.children().removeClass("disabled"),F(y)}function H(){var a=A/z*100+"%";f.find(".progress-bar").animate({width:a},250,"swing")}function I(){var a="?";$.each(c,function(b,c){c["changed"]==1&&(b!=0&&(a+="&"),a+="diff-"+b+"="+c.view+"-"+Math.round(c.pct))}),Modernizr.history&&window.history.replaceState({},"",a)}if($(this).data("image-diff-installed"))return;var f=b.eq(d),g=f.find(".two-up").eq(0),h=f.find(".swipe").eq(0),i=f.find(".onion-skin").eq(0),j=f.find(".difference").eq(0),k=f.find(".deleted"),l=f.find(".added"),m=k.eq(0),n=l.eq(0),o=k.eq(1),p=l.eq(1),q=k.eq(2),r=l.eq(2),s=f.find("canvas.deleted").eq(0),t=f.find("canvas.added").eq(0),u,v,w=f.find("ul.view-modes-menu"),x=f.find(".view"),y=0,z=f.find(".asset").length,A=0,B=new Image,C=new Image;c.push({name:f.attr("id"),view:0,pct:0,changed:!1}),$(this).data("image-diff-installed",!0),Modernizr.canvas?(u=s[0].getContext("2d"),v=t[0].getContext("2d")):w.children().eq(3).addClass("hidden"),f.find(".two-up").hide(),f.find(".two-up p").removeClass("hidden"),f.find(".progress").removeClass("hidden"),f.find(".view-modes").removeClass("hidden"),B.src=f.find(".deleted").first().attr("src"),C.src=f.find(".added").first().attr("src"),m.attr("src",B.src).load(function(){E()}),n.attr("src",C.src).load(function(){E()}),o.attr("src",B.src).load(function(){E()}),p.attr("src",C.src).load(function(){E()}),q.attr("src",B.src).load(function(){E()}),r.attr("src",C.src).load(function(){E()});var D=!0;w.children
("li").click(function(){var a=$(this).index();(a==1||a==2)&&D&&(D=!1),F(a),c[d].view=a,c[d].changed=!0,I()}),$.extend({getUrlVars:function(){var a=[],b,c=window.location.href.slice(window.location.href.indexOf("?")+1).split("&");for(var d=0;d<c.length;d++)b=c[d].split("="),b[1]&&(b[1]=b[1].split("-")),a.push(b[0]),a[b[0]]=b[1];return a},getUrlVar:function(a){return $.getUrlVars()[a]}})})}}),$(function(){function c(){var a=$("#current-version").val();a&&$.get("_current",function(d){a==d?setTimeout(c,5e3):b||($("#gollum-error-message").text("Someone has edited the wiki since you started. Please reload this page and re-apply your changes."),$("#gollum-error-message").show(),$("#gollum-editor-submit").attr("disabled","disabled"),$("#gollum-editor-submit").attr("value","Cannot Save, Someone Else Has Edited"))})}$("#see-more-elsewhere").click(function(){return $(".seen-elsewhere").show(),$(this).remove(),!1});var b=!1;$("#gollum-editor-body").each(c),$("#gollum-editor-submit").click(function(){b=!0});var d=[];$("form#history input[type=submit]").attr("disabled",!0),$("form#history input[type=checkbox]").change(function(){var a=$(this).val(),b=$.inArray(a,d);if(b>-1)d.splice(b,1);else{d.push(a);if(d.length>2){var c=d.shift();$("input[value="+c+"]").prop("checked",!1)}}$("form#history tr.commit").removeClass("selected"),$("form#history input[type=submit]").attr("disabled",!0);if(d.length==2){$("form#history input[type=submit]").attr("disabled",!1);var e=!1;$("form#history tr.commit").each(function(){e&&$(this).addClass("selected"),$(this).find("input:checked").length>0&&(e=!e),e&&$(this).addClass("selected")})}})});